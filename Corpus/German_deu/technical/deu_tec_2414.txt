# language_name_wals:	German
# language_name_glotto:	German
# iso639_3:	deu
# year_composed:	NA
# year_published:	NA
# mode:	written
# genre_broad:	technical
# genre_narrow:	NA
# writing_system:	Latn
# special_characters:	NA
# short_description:	KDEdoc
# source:	https://object.pouta.csc.fi/OPUS-KDEdoc/v1/raw/de.zip
# copyright_short:	http://opus.nlpl.eu/KDEdoc.php
# copyright_long:	http://opus.nlpl.eu/KDEdoc.php J. Tiedemann, 2012, Parallel Data, Tools and Interfaces in OPUS. In Proceedings of the 8th International Conference on Language Resources and Evaluation (LREC 2012)
# sample_type:	whole
# comments:	NA

Das Handbuch zu KDEPrint
Dieses Handbuch beschreibt die Funktionsweise von KDEPrint.
KDEPrint ist kein eigenst\xE4ndiges Programm.
Es ist vielmehr das neue Grundger\xFCst zum Drucken mit KDE 2.2.
KDEPrint ist eine Art Zwischenschicht zwischen der KDE Anwendung und dem ausgew\xE4hlten (und installierten) Drucksystem Ihres Betriebssystems.
Einf\xFChrung
Dieses Handbuch beschreibt die Funktionsweise von KDEPrint.
KDEPrint ist kein eigenst\xE4ndiges Programm.
Es ist vielmehr das neue Grundger\xFCst zum Drucken mit KDE 2.2.
KDEPrint ist eine Art Zwischenschicht zwischen der KDE Anwendung und dem ausgew\xE4hlten (und installierten) Drucksystem Ihres Betriebssystems.
sitte beachten Sie, dass sowohl der Entwickler dieser Anwendung als auch der Autor dieses Dokuments am besten mit CUPS als Drucksystem vertraut sind.
Zum Zeitpunkt der Erstellung dieses Dokuments ist CUPS das am besten unterst\xFCtzte Drucksystem.
Au\xDFerdem ist es das am besten dokumentierte System.
Auch wenn Ihr Drucksystem nicht sehr gut beschrieben ist, k\xF6nnen Sie die Optionen unter Druckerverwaltung in KControl trotzdem durchschauen.
Sie werden hoffentlich feststellen, dass die meisten Optionen, unabh\xE4ngig vom Drucksystem, weitestgehend selbsterkl\xE4rend sind.
Lauri Watts, KDE -Dokumentationsteam
Das Drucksystem von KControl aus einzurichten
Einrichtung des Drucksystems \xFCber KControl
Technische \xDCbersicht
KDEPrint ist ein neues, Ma\xDFst\xE4be setzendes Programmpaket, das sowohl KDE -Benutzern als auch KDE -Entwicklern einfachen Zugang zu den Druckdiensten bieten soll.
Eine kurze Beschreibung von KDEPrint
Was dieses Programm nicht ist.
Was dieses Programm ist
KDEPrint:
Eine Vielzahl von M\xF6glichkeiten f\xFCr eine Vielzahl von Personen
KDEPrint bietet unterschiedliche Personen unterschiedliche M\xF6glichkeiten.
Was Benutzer und Systemverwalter mit KDEPrint machen k\xF6nnen.
Was KDE -Entwickler mit KDEPrint machen k\xF6nnen...
Dieses Bildschirmphoto zeigt ein Beispiel des Kcron -Dienstprogramms.
Kcron -Dienstprogramm:
Ein kleines Beispiel eines Systemwartungsauftrags, wie er auf der Benutzeroberfl\xE4che von KDE dargestellt wird.
Die Kcron -Entwickler lassen Sie ausw\xE4hlen, ob Sie die ganze Tabelle oder nur den markierten Teil drucken wollen.
Die Zus\xE4tze von Kcron zum KDEPrint -Dialog.
Welche M\xF6glichkeiten KDEPrint seinen Benutzern bietet...
KDEPrint kann CUPS benutzen um folgendes zus\xE4tzlichen Funktionen anzubieten:
Abfrage des LAN nach verf\xFCgbaren Druckern,
Einfache oder zusammenfassende Authentifizierung und Authentifizierung mittels Zertifikaten,
Zugriffskontrolle auf der Basis von IP -Adressen, Netzadressen, Netzmasken, Hostnamen und Domainnamen,
sowie 128-Bit-TLS- oder SSL3-Verschl\xFCsselung von Druckdaten, um das Abh\xF6ren von Daten zu verhindern oder es zumindest viel schwerer zu machen.
Dies macht KDEPrint zu einer viel robusteren und zuverl\xE4ssigeren L\xF6sung als die Benutzung des alten LPD.
Wie Sie auf KDEPrint zugreifen k\xF6nnen
kprinter -Dialog (Kivio -Zeichnung)
Herausragende Eigenschaften von KDEPrint
Der Assistent f\xFCr die Druckereinrichtung
Der Assistent macht die Installation und die Verwaltung der Treiber zum Kinderspiel.
Ausw\xE4hlen, Einrichten und Testen sollte so einfach sein wie niemals zuvor auf einem Linux -\xE4hnlichen System.
Volle Kontrolle \xFCber Druckauftr\xE4ge
Die Anzeige f\xFCr Druckauftr\xE4ge wird automatisch von KDEPrint gestartet.
Sie kann in die KDE-Kontrollleiste eingebunden werden.
Die Anzeige gibt Ihnen die volle Kontrolle \xFCber die Druckaufr\xE4ge, sofern das Drucksystem dies unterst\xFCtzt.
Sie k\xF6nnen:
Auftr\xE4ge anhalten und zum Druck freigeben,
ausstehende Auftr\xE4ge einem anderen Drucker zuweisen
und ausstehende oder im Moment verarbeitete Auftr\xE4ge abbrechen.
Ein Bildschirmphoto des KDEPrint -Auftragbetrachters.
Module f\xFCr verschiedene Drucksysteme
KDEPrint benutzt verschiedene Module, um die Schnittstelle zu den m\xF6glichen Drucksystemen herzustellen.
Nicht alle Module sind schon voll entwickelt, aber einfache Druckfunktionen bieten:
LPD (BSD -Stil)
LPRng (Red Hat, wenn Sie nur die Funktionen des BSD -\xE4hnlichen Stils verwenden),
RLPR (ein Befehlszeilen LPR -Werkzeug, das keine printcap -Datei ben\xF6tigt,
externe Druckbefehle (Netscape -\xE4hnlich).
Am wichtigsten ist die schon bestehende volle Unterst\xFCtzung f\xFCr CUPS.
Module f\xFCr andere Drucksysteme wie PLP, PPR und PDQ, k\xF6nnten zu einem sp\xE4teren Zeitpunkt verf\xFCgbar sein.
Weitere Zusatzfunktionen von KDEPrint
Manche bestimmten Funktionen von KDEPrint h\xE4ngen vom gew\xE4hlten Drucksystem ab.
Diese Abh\xE4ngigkeit ist dadurch bedingt, dass bestimmte Funktionen nur in manchen Drucksystemen verf\xFCgbar sind.
Zur Erinnerung:
KDEPrint ist eine Schicht zwischen KDE -Anwendungen und dem Drucksystem.
Es ist kein Ersatz f\xFCr ein solches System.
Manche Funktionen k\xF6nnten auch nicht verf\xFCgbar sein, da noch nicht alle Drucksysteme eine Schnittstelle zu allen KDEPrint -Funktionen haben.
Druckvorschau
Spezielle Drucker
Unter den zus\xE4tzlichen KDEPrint -Funktionen sind ein paar spezielle oder virtuelle Drucker.
Diese speziellen Drucker k\xF6nnen:
In eine PDF-Datei drucken
Als E-Mail ausgeben
Ihr Dokument als PDF -Anlage einer E-Mail versenden.
Als PS-Datei drucken
Ihr Dokument als PostScript -Datei speichern
Als Fax drucken
Ihr Dokument als Fax durch eine Anwendung, wie z.B.
Hylafax senden
Diese speziellen Drucker erscheinen im Druckdialog des Benutzers wie normale Drucker.
Sie sind f\xFCr jeden Benutzer eigenst\xE4ndig einstellbar.
Allgemeines Vorfiltern
Einige n\xFCtzliche Filter sind schon vordefiniert.
Dies sind:
Der Filter zum Drucken von mehreren Seiten auf einem Blatt
Der Enscript-Text-Filter
und drei Filter, die beim Drucken von Pamphlets helfen.
Filter zum Drucken von mehreren Seiten auf einem Blatt
Enscript Text-Filter
Pamphlet-Druckfilter
CUPS Unterst\xFCtzung:
Das wichtigste Modul von KDEPrint
qtcups und kups Die Vorg\xE4nger
qtcups war ein graphisches Werkzeug f\xFCr die Befehle lp oder lpr, die von CUPS mitinstalliert wurden. qtcups rief einen Dialog auf.
Dieser Dialog bot Ihnen die M\xF6glichkeit, Ihren Drucker und die Optionen der Druckauftr\xE4ge komfortabel einzustellen. qtcups funktionierte entweder von der Befehlszeile oder aus einer Anwendung heraus, wenn diese einen konfigurierbaren Druckbefehl hatte.
kups war ein graphisches Hilfsprogramm, \xFCber welches sich der CUPS -Server und der CUPS -D\xE4mon konfigurieren lie\xDFen.
Sie konnten Drucker hinzuf\xFCgen, entfernen, ver\xE4ndern und anhalten.
Druckauftr\xE4ge konnten abgebrochen, gel\xF6scht, verschoben, gestoppt und erneut gestartet werden.
Au\xDFerdem konnte der D\xE4mon gestartet, gestoppt und erneut gestartet werden.
KDEPrint Der Nachfolger
Das CUPS Modul von KDEPrint enth\xE4lt jetzt alle Funktionen von qtcups und kups, sowie weitere zus\xE4tzliche Funktionen.
kprinter Graphischer Druckbefehl
Das CUPS Modul von KDEPrint erm\xF6glicht Ihnen den Zugang zu einem graphischen Druckbefehl, so wie dies bis jetzt mit qtcups m\xF6glich war.
Pl\xE4ne f\xFCr die zuk\xFCnftige Entwicklung
In der Zukunft wird KDEPrint noch besser werden.
Es wird besser beim eigenst\xE4ndigen erkennen Ihres installierten Drucksystems sein.
Schon jetzt ist KDEPrint ganz gut beim automatischen Suchen, falls Sie CUPS auf Ihrem System haben.
In vielen F\xE4llen m\xFCssen Sie KDEPrint jedoch mitteilen, welchen Drucker Sie benutzen.
Dies gilt insbesondere f\xFCr \xE4ltere Drucksysteme.
Die wichtigste Verbesserung in naher Zukunft wird die Vervollst\xE4ndigung des LPRng -Plugins sein.
Dieses Plugin ist im Moment noch sehr einfach.
Es beschr\xE4nkt sich im Moment auf den klassischen LPD -Teil von LPRng.
Sie k\xF6nnten auch bald die M\xF6glichkeit erhalten, Drucker direkt aus dem Druckdialog hinzuzuf\xFCgen, ohne zuerst das Kontrollzentrum aufrufen zu m\xFCssen.
Einige kleinere Verbesserungen, die sich schon in Planung befinden sind:
Verlauf -Knopf f\xFCr das Fenster mit der Anzeige der Druckauftr\xE4ge.
Au\xDFerdem eine Spalte, welche die Anzahl der von CUPS berechneten Seiten f\xFCr den Druckauftrag anzeigt.
Schreiben Sie bitte (auf Englisch) an Michael Goffioul goffioul@imec.be, falls Sie weitere Benutzer- oder Entwicklungsvorschl\xE4ge haben.
Grundlagen des Druckens
Drucken ist eines der komplizierteren Kapitel in der IT -Technik.
Mit zehn zu unterst\xFCtzenden Anwendungen und einem Duzend Druckern bedeutete das f\xFCr den Systemverwalter, dass er mit 120 Treibern umgehen musste.
Dadurch wurde die Entwicklung einer einheitlichen Schnittstelle zwischen Programmen und Druckern dringend notwendig.
PostScript im Arbeitsspeicher - Bitmaps auf dem Papier
PostScript Quelltext
Berechnetes PostScript
Rasterbilder auf Papierbl\xE4ttern
RIP: von PostScript zum Raster
Bevor die fertigen Rasterbilder auf dem Papier ausgegeben werden m\xFCssen sie zuerst aus den abstrakten PostScript -Vorlagen berechnet werden.
Dieser berechnungsintensive Schritt wird Raster Imaging Process (RIP) genannt.
Was aber tun, wenn Sie keinen PostScript -Drucker besitzen?
Dadurch, dass der Drucker PostScript nicht selbst verarbeiten kann, wird die ganze Sache etwas komplizierter.
Es wird eine Software ben\xF6tigt, die viele damit verbundene Aufgaben l\xF6sen kann.
Treiber und Filter im Allgemeinen
Um Rasterbilder aus PostScript -Daten zu erzeugen benutzt ghostscript das Filterkonzept.
Es gibt viele Filter in ghostscript, von denen einige auf bestimmte Drucker spezialisiert sind. ghostscript -Filter f\xFCr bestimmte Ger\xE4te wurden oftmals ohne die Unterst\xFCtzung des Herstellers entwickelt.
Ohne die Spezifikationen und ohne technische Dokumente war es ein sehr m\xFChsamer Weg die ganzen Protokolle und Datenformate zu entschl\xFCsseln.
Die meisten Programme in UNIX - und Linux -Systemen erzeugen PostScript -Daten als Druckausgabe.
Die Filter sind die eigentlichen Arbeitstiere in den Drucksystemen.
Sie erzeugen die aus allen PostScript -Daten die richtigen Rasterbilder f\xFCr alle Zielmaschinen ohne PostScript -Unterst\xFCtzung.
Treiber, Filter und Backends in CUPS
Warteschlangen und Druckd\xE4monen
Neben dem aufwendigen Filterteil zum Erstellen eines Rasterbildes braucht jede Drucksoftware einen Warteschlangen-Mechanismus.
Dieser k\xFCmmert sich darum, dass verschiedene Druckauftr\xE4ge von verschiedenen Benutzern den richtigen Druckern und Filtern zugewiesen werden.
Der Warteschlangen-Mechanismus ist Teil des Druckd\xE4mons.
Exkurs:
Wie CUPS die m\xE4chtigen PPD s einsetzt.
Ger\xE4teabh\xE4ngige Druckoptionen
Wie sie PPD -Dateien f\xFCr PostScript -Drucker bekommen
Falls Sie einen PostScript -Drucker haben, kann CUPS die Windows PPD -Dateien, die der Hersteller liefert verwenden.
Die Dateien kosten normalerweise kein Geld und k\xF6nnen einfach von einem Windows -Computer mit installiertem PostScript -Treiber des entsprechenden Modells kopiert werden.
Alternativ dazu finden Sie PPD -Dateien auch auf den Disketten Ihres Druckers oder an verschiedenen Pl\xE4tzen im Internet.
Wie spezielle PPD s auch f\xFCr nicht- PostScript Drucker n\xFCtzlich sein k\xF6nnen.
Jetzt wissen Sie wie PostScript -Drucker PPD s benutzen k\xF6nnen.
Aber wie sieht es mit nicht- PostScript -Druckern aus?
CUPS bedient sich dazu eines sehr guten Tricks:
Indem es dasselbe Format und dieselbe Datenstruktur wie die PPD s der PostScript -Welt verwendet, kann CUPS die verf\xFCgbaren Druckoptionen f\xFCr nicht- PostScript -Drucker genauso beschreiben wie f\xFCr echte PostScript -Drucker.
F\xFCr einige spezielle Anforderungen von CUPS wurden einfach einige wenige Optionen hinzugef\xFCgt, z.B. die Zeile, die angibt, welcher Filter die PostScript -Datei weiter verarbeitet.
Damit konnten die Entwickler die gleiche Software benutzen um die PPD s nach verf\xFCgbaren Optionen zu durchsuchen.
Nat\xFCrlich konnten sich die CUPS -Entwickler nicht darauf verlassen, dass die nicht- PostScript -Druckerhersteller sofort PPD s entwickelten.
Diesen schwierigen Start mussten sie alleine bew\xE4ltigen, indem sie die PPD s von Grund auf neu schrieben.
Mehr als 1000 dieser PPD s sind in der kommerziellen Version von CUPS, die unter dem Namen ESP PrintPro verkauft wird, enthalten.
Inzwischen sind eine Menge PPD s f\xFCr CUPS verf\xFCgbar, die aber meistens immer noch nicht von den Druckerherstellern stammen sondern von freien Softwareentwicklern.
Die CUPS -Leute bewiesen es und andere folgten schnell:
Vor ein bis zwei Jahren war das Drucken unter Linux und UNIX noch eine Flickschusterei; jetzt wird eine gro\xDFe F\xFClle von Druckern unterst\xFCtzt, z.B. auch 7-farbige Tintenstrahldrucker die Ausgaben in Photoqualit\xE4t erm\xF6glichen.
Verschiedene M\xF6glichkeiten an PPD s f\xFCr nicht- PostScript -Drucker zu kommen
als erstes gibt es www.linuxprinting.org, wo sie online eine CUPS-O-Matic - PPD f\xFCr jeden Drucker erzeugen k\xF6nnen, der schon fr\xFCher von ghostscript unterst\xFCtzt wurde.
Dies hilft Ihnen beim einfachen Umstieg auf CUPS.
Falls Ihr Drucker schon mit ghostscript gut funktionierte, k\xF6nnen sie CUPS-O-Matic benutzen um den Treiber ins CUPS -System zu integrieren und so die beste L\xF6sung aus beiden Welten zu bekommen.
zweitens gibt es CUPS - PPD s f\xFCr mehr als 120 Drucker, die durch den neuen universellen stp -Treiber unterst\xFCtzt werden. stp war urspr\xFCnglich die Abk\xFCrzung f\xFCr Stylus Photo, und wird nun vom gimp-Druckprojekt weiterentwickelt.
Ins Leben gerufen wurde das Projekt von Mike Sweet, dem f\xFChrenden CUPS Entwickler.
Die Homepage des Projekts finden Sie unter gimp-print.sourceforge.net.
Dieser Treiber druckt echte Photoqualit\xE4t auf vielen modernen Tintenstrahldruckern.
HP Laser- und DeskJet, Epson Stylus und Photo Color Modelle werden genauso unterst\xFCtzt wie einige Canon und Lexmark Modelle.
drittens gibt es die kommerzielle Erweiterung von CUPS, die von den CUPS Entwicklern selbst erstellt wurde.
Die Erweiterung hei\xDFt ESP PrintPro und enth\xE4lt mehr als 2300 Druckertreiber.
Au\xDFerdem liegen verbesserte imagetoraster- und pstoraster-Filter bei.
Lesen Sie mehr \xFCber die CUPS Funktionen in der verf\xFCgbaren CUPS Dokumentation unter http://www.cups.org/documentation.html und http://www.danka.de/printpro/faq.html.
Desweiteren gibt es unter http://www.linuxprinting.org / eine gro\xDFe Sammlung zu allen Themen, die mit Drucken unter Linux und UNIX zu tun haben.
Wie die IPP Unterst\xFCtzung CUPS zur besten vorhandenen Wahl macht.
LPD muss weg!
\xDCber einen langen Zeitraum hinweg waren viele Entwickler mit dem guten alten LPD unzufrieden.
Es gab einige neue Projekte, die gegr\xFCndet wurden um das Drucken zu verbessern.
LPRng ist wohl das bekannteste Beispiel.
Andere sind:
PDQ, PPR, PLP, GNUlpr und RLPR.
Keines dieser Programme stellte jedoch einen echten Durchbruch dar.
Die meisten erweiterten nur die alten LPD Spezifikationen mit wenigen (oder vielen) Zus\xE4tzen, so dass die Programme inkompatibel zueinander wurden.
Nachdem Grant Taylor, der Autor des Linux Printing HOWTO Dokuments die Entwicklung der verschiedenen BSD -artigen Alternativen gesehen hatte kam er schlie\xDFlich in seiner Mission um den LPD abzuschaffen. zu der Erkenntnis:
LPD muss weg!
Wie es zu IPP kam
Seitens der Industrie wurden ebenfalls Anstrengungen unternommen die gut bekannte Schw\xE4che des LPD zu beseitigen.
Es fing mit propriet\xE4ren Erweiterungen des alten LPD an und f\xFChrte dann zum Versuch von Hewlett-Packard, HP JetDirect als neues Netzwerk-Druckprotokoll einzuf\xFChren.
Das Ergebnis waren lediglich weitere Inkompatibilit\xE4ten.
Am Schluss wurde eine Initiative zur Ausarbeitung eines neuen Industrie und IETF -Standards gegr\xFCndet.
Die Drucker-Arbeitsgruppe, ein loser Zusamenschluss von Hardware-, Software- und Betriebssystemverk\xE4ufern entwarf das neue Internet Printing Protocol (IPP).
IPP v1.1 wurde von der IETF (Internet Engineering Task Force) als Standard genehmigt und genie\xDFt nun die uneingeschr\xE4nkte Unterst\xFCtzung der Industrie in Europa, den USA und Japan.
Die meisten momentan erh\xE4ltlichen Netzwerkdrucker haben jetzt eine eingebaute IPP Unterst\xFCtzung, die auf dem traditionellen LPR / LPD oder JetDirect aufsetzt.
Warum IPP viele Probleme l\xF6st
IPP verspricht eine L\xF6sung von vielen Problemen, mit denen sich Netzwerkadministratoren konfrontiert sehen.
Diese haben es normalerweise mit heterogenen Netzwerkumgebungen zu tun und verbringen mehr als die H\xE4lfte ihrer Arbeitszeit mit Druckproblemen.
Durch die Schaffung einheitlicher Abfragefunktionen f\xFCr IPP -Drucker und Server um Dateien zu \xFCbertragen und Druckauftr\xE4ge zu verwalten, ist IPP f\xFCr die Arbeit \xFCber verschiedene Betriebssystem-Plattformen hinweg geeignet.
Die Umstellung auf IPP wird jedoch nicht \xFCber Nacht passieren, da viele alte Ger\xE4te noch \xFCber Jahre hinweg eingesetzt werden k\xF6nnten.
Deshalb gibt es im IPP auch eine Kompatibilit\xE4tsbestimmung zu allen alten IPP Implementierungen.
CUPS beweist die Entwicklungsf\xE4higkeit von IPP zum Drucken in allen Umgebungen.
Der gr\xF6\xDFte Vorteil wird die Integration in die vorhandenen, robusten IP -Protokolle sein.
Als Erweiterung des bew\xE4hrten und robusten HTTP 1.1 Protokolls an die speziellen Anforderungen von Druckdateien kann IPP sehr einfach andere Standards, die entwickelt werden einbinden.
Elementare-, zusammenfassende- und Zertifikatsauthentifizierung f\xFCr Benutzer, die Zugang zu Druckdiensten ben\xF6tigen.
SSL3 und TLS Verschl\xFCsselung f\xFCr den Datentransfer.
Kommunikation in beide Richtungen zwischen Arbeitsstationen und Druckger\xE4ten, mit Hilfe des HTTP / IPP GET und POST Mechanismusses.
LDAP Verzeichnisdienst-Unterst\xFCtzung um eine einheitliche Datenbank der verf\xFCgbaren Drucker, ihrer F\xE4higkeiten und den Seitenpreisen etc. zu verwalten.
Zus\xE4tzlich k\xF6nnen Benutzerpassw\xF6rter, ACL s und weitere Dinge verwaltet werden.
Abholen -Methode (im Gegensatz zur gew\xF6hnlichen Senden -Methode), in welcher einem Server oder einem Drucker nur eine URL eines Dokuments \xFCbergeben werden muss, und dieser dann selbst\xE4ndig die Datei empf\xE4ngt und ausdruckt.
Drucker Plug'n'Play f\xFCr Arbeitsstationen
Haben Sie schon mal eine Vorf\xFChrung der Netzwerkf\xE4higkeiten von CUPS gesehen?
Sie m\xFCssen ziemlich beeindruckt gewesen sein, wenn sie vorher nicht wussten was sie erwartet.
Stellen Sie sich als Administrator eines LANs vor.
Zu Testzwecken haben Sie eine KDE / CUPS Arbeitsstation installiert, die komplett mit einem Dutzend funktionierender Drucker ausgestattet ist:
PostScript, Laserdrucker, Tintenstrahldrucker etc..
Ihre KDE -Benutzer sind sehr zufrieden, da sie die funktionenden Drucker voll aussch\xF6pfen k\xF6nnen.
Sie haben zwei Stunden gebraucht um alles perfekt zum laufen zu bekommen und jetzt wollen alle hundert Benutzer des Netzwerks das Gleiche.
Weitere zwei Stunden Arbeit f\xFCr jeden Computer?
Sie denken jetzt sicher:
Das wird ein riesiger Aufwand
Falsch!
Mit nur einer \xC4nderung Ihrer ersten CUPS Arbeitsstation machen Sie daraus einen Server.
Installieren sie danach CUPS auf f\xFCnf Rechnern als Arbeitsstation und wenn Sie zur\xFCckkommen werden Sie sehen wie die Benutzer die Einstellungen Ihrer am Anfang definierten Drucker ver\xE4ndern k\xF6nnen.
Wie durch Magie tauchen die Drucker auf allen f\xFCnf CUPS Arbeitsstationen im Druckdialog auf.
Ihre Benutzer k\xF6nnen Drucken, ohne dass auf den Arbeitsstationen ein einziger Treiber oder eine einzige Druckerwarteschlange eingerichtet werden musste.
Wie funktioniert das nun?
Drucker sehen, die garnicht lokal installiert sind?
Die Antwort ist \xFCberhaupt nicht kompliziert.
Wenn ein CUPS Server in einem LAN aktiv ist, sendet er die Namen der verf\xFCgbaren Drucker mit Hilfe des UDP Protokolls und Port 631 an das LAN.
Port 631 ist als bekannter Port durch die IANA (die Internet Assigning Numbers Authority) IPP zugewiesen.
Alle CUPS Arbeitsstationen empfangen auf Port 631 Daten von sendenden CUPS Servern.
Dadurch kennen alle Rechner die verf\xFCgbaren Drucker und alle Rechner erfahren gleichzeitig den Pfad zu den Druckern.
Mit IPP das eine wirklich clevere Erweiterung von HTTP v1.1 ist, hat CUPS die M\xF6glichkeit alle Objekte des Drucksystems \xFCber Universal Resource Locators oder URL s anzusprechen.
Druckauftr\xE4ge, die entfernt oder neu gestartet werden m\xFCssen, Drucker, die abgefragt oder ver\xE4ndert werden m\xFCssen, administrative Aufgaben, die auf dem Server erledigt werden m\xFCssen, das alles kann mit IPP und CUPS \xFCber bestimmte URL s erledigt werden.
Viele wichtige Dinge k\xF6nnen \xFCber die Web-Schnittstelle von CUPS erledigt werden, die z.B. mit dem Konqueror bedient werden kann.
Drucken ohne einen Treiber zu installieren
Desweiteren k\xF6nnen die Arbeitsstationen jeden Drucker administrieren und benutzen, den sie sehen, genauso als w\xE4re es ein lokal angeschlossener Drucker.
Nat\xFCrlich k\xF6nnen Sie den Zugriff mit Zugriffslisten und anderen Ma\xDFnahmen beschr\xE4nken, so dass nicht jede Arbeitsstation jeden Drucker nach Belieben benutzen kann.
Die Arbeitsstationen k\xF6nnen sogar ohne den richtigen lokal installierten Filter (oder Treiber) drucken.
Wie funktioniert das also?
Wenn eine Arbeitsstation etwas \xFCber eine Druckeroption wissen will oder diese Option ausw\xE4hlen will, sendet die Arbeitsstation eine Anfrage (CUPS-get-ppd genannt) an den Server.
Der Server teil der Arbeitsstation alles \xFCber die Druckoption mit, die er aus der PPD ausgelesen hat.
Der Benutzer der Arbeitsstation sieht dann die Optionen und kann die gew\xFCnschte ausw\xE4hlen.
Er sendet dann die Druckdatei (normalerweise ungefiltertes PostScript) zusammen mit den Druckoptionen an den Druckserver.
IPP ist dabei das Transportprotokoll.
Die weitere Verarbeitung, insbesondere der Filter zur Erstellung des Endformats auf dem Zieldrucker findet dann auf dem Server statt.
Der Server verf\xFCgt \xFCber die n\xF6tigen Programme (Treiber oder Filter) daf\xFCr.
Dadurch druckt die Arbeitsstation, ohne dass lokal ein Treiber installiert sein muss.
Jede Ver\xE4nderung des Servers, wie z.B. das Hinzuf\xFCgen oder das \xC4ndern von Druckern wird sofort, ohne weitere Einrichtung der Arbeitsstation \xFCbernommen.
Zero Administration, Lastenausgleich und Failover Switching
Eine andere weiterf\xFChrende Funktionen in CUPS ist die M\xF6glichkeit einen Lastenausgleich einzurichten.
Wenn sie die gleiche Warteschlange auf zwei oder mehreren verschiedenen Server definieren, werden die Arbeitsstationen ihre Auftr\xE4ge an den ersten antwortenden oder verf\xFCgbaren Server schicken.
Das f\xFChrt dann zu einem automatischen Lastenausgleich zwischen den Servern.
Wenn Sie einen Server wegen Wartungsarbeiten vom Netz nehmen m\xFCssen werden die anderen Server einfach dessen Arbeit \xFCbernehmen, ohne dass die Benutzer der Arbeitsstationen einen Unterschied bemerken.
Erste Schritte
Die Auswahl Ihres Drucksystems
Sie m\xFCssen Ihr Drucksystem ausw\xE4hlen, bevor Sie die M\xF6glichkeit erhalten einen Drucker mit KDEPrint zu installieren.
Es gibt zwei M\xF6glichkeiten das Drucksystem auszuw\xE4hlen:
Entweder in KControl (in dem Druckerverwaltungs -Abschnitt) oder direkt aus dem Druckdialog.
Ganz unten sehen Sie einen Knopf, der Sie ein Drucksystem ausw\xE4hlen l\xE4sst.
In KDE 2.2 k\xF6nnen Sie folgende Drucksysteme ausw\xE4hlen:
CUPS (Common UNIX Printing System)
Druck \xFCber ein externes Programm
LPR (standardm\xE4\xDFiges BSD-Drucksystem)
UNIX - LPD Drucksystem (Voreinstellung)
Beim ersten Start versucht KDEPrint das Drucksystem selbst\xE4ndig zu erkennen.
Das funktioniert bei:
CUPS, da KDEPrint zuerst nach einem CUPS -D\xE4mon sucht.
LPD, da KDEPrint nach einem laufenden LPD -D\xE4mon und einer printcap -Datei sucht.
Das Drucksystem, das Sie ausw\xE4hlen, muss vor Ihrer Auswahl in KDEPrint installiert sein.
Die Empfehlung des Autors ist CUPS.
Diese Datei ist nicht dazu gedacht, direkt bearbeitet zu werden.
Alle verf\xFCgbaren Optionen k\xF6nnen mit der graphischen Benutzeroberfl\xE4che von KDEPrint ver\xE4ndert werden.
Mit der Druckerverwaltung arbeiten
Nachdem Sie Ihr bevorzugtes Drucksystem ausgew\xE4hlt und installiert haben, k\xF6nnen Sie nun mit KDEPrint die M\xF6glichkeiten erkunden, die Drucker einrichten und das Drucksystem benutzen.
Einrichtung des Druckservers:
CUPS
Das Fenster zur Einrichtung des CUPS -Servers \xF6ffnet sich.
Es zeigt Ihnen eine strukturierte Ansicht aller Einstellungen, die den CUPS -D\xE4mon betreffen.
Die Einrichtungsdatei des D\xE4mons befindet sich normalerweise in /etc/cups/cupsd.conf.
Es ist eine reine ASCII -Datei mit einem \xE4hnlichen Syntax wie die Einrichtungsdatei des Apache Webservers.
Eine Sicherungskopie dieser Datei kann nie schaden, nur f\xFCr den Fall, dass bei der Einrichtung mit den KDEPrint / CUPS -Server-Einrichtungsdialogen etwas schief geht.
Da diese graphische Benutzeroberfl\xE4che eine ziemlich neue Funktion ist, sollten Sie eine zweite M\xF6glichkeit haben Ihre Originaldatei wieder herzustellen.
Machen Sie deshalb bitte eine Sicherung.
Schnellhilfe
Wenn CUPS nicht aktiv, aber auf Ihrem System installiert ist, k\xF6nnte es in dem Dateisystem auffindbar sein.
Der genaue Pfad h\xE4ngt von Ihrem Betriebssystem ab; unter Linux ist der Standardpfad /usr/share/doc/cups / oder /usr/share/doc/cups/documentation.html.
Erweiterte Hilfe
Um die besten, genauesten und neuesten Informationen zu erhalten, sollten Sie immer die original CUPS Dokumentation benutzen.
CUPS ist \xE4hnlich wie KDE in einem schnell fortschreitenden Entwicklungsprozess.
Es werden st\xE4ndig neue Funktionen hinzugef\xFCgt.
Diese Funktionen k\xF6nnten f\xFCr eine l\xE4ngere Zeit nur durch das direkte \xC4ndern der Einrichtungsdateien zug\xE4nglich sein.
Das KDEPrint GUI k\xF6nnte noch nicht zu der CUPS Entwicklung aufgeschlossen haben.
Wenn Sie sich die urspr\xFCnglichen Einrichtungsdateien Ihres CUPS Systems ansehen wollen, finden Sie diese hier:
Die Pfadangaben beruhen auf der Standardinstallation.
Ihr Betriebssystem k\xF6nnte die Dateien unter einem anderen Pr\xE4fix eingerichtet haben, z.B. /usr/local /, aber die Hierarchie sollte der unten gezeigten entsprechen.
/etc/cups /
Das Verzeichnis mit den Einrichtungsdateien.
/etc/cups/cupsd.conf
Die Einrichtungsdatei des CUPS -D\xE4mons.
/etc/cups/printers.conf
Die Einrichtungsdatei, die Informationen \xFCber Ihre lokal installierten Drucker enth\xE4lt.
/etc/cups/ppd /
Das Verzeichnis mit den PPD -Dateien Ihres eingerichteten Druckers.
Die folgenden Verkn\xFCpfungen funktionieren nur, wenn Ihr CUPS D\xE4mon eingerichtet ist und auch l\xE4uft.
Die urspr\xFCngliche CUPS -Dokumentation finden Sie unter:
http://localhost:631/documentation.html
Eine Seite mit Verkn\xFCpfungen zu den anderen Dokumenten.
http://localhost:631/sam.html
Direkter Zugang zum Handbuch f\xFCr den CUPS Software Administrator im HTML -Format.
http://localhost:631/sam.pdf
Direkter Zugang zum Handbuch f\xFCr den CUPS Software Administrator im PDF Format.
http://www.cups.org/documentation.html
Die neueste Online-Dokumentation von der CUPS -Webseite.
Die folgenden Verkn\xFCpfungen erm\xF6glichen Ihnen den Zugang zu denselben Dateien, auch wenn der CUPS -D\xE4mon nicht eingerichtet ist und nicht l\xE4uft (wahrscheinlich fehlen Symbole und Graphiken).
Sie m\xFCssen allerdings CUPS auf Ihrem System installiert haben.
Einige Distributionen k\xF6nnten die Dateien in andere Verzeichnisse installiert haben.
Sie m\xFCssen dann selbst herausfinden, wo diese liegen.
Die urspr\xFCngliche CUPS -Dokumentation finden Sie unter:
Diese Dokumentation ist auch verf\xFCgbar, falls der CUPS -D\xE4mon nicht installiert ist.
Es k\xF6nnten jedoch Bilder und Symbole fehlen, wenn Sie die HTML -Dateien ansehen.
Wie schon oben erw\xE4hnt sollte die untere Hierarchie stimmen, aber Ihr Betriebssystem k\xF6nnte CUPS unter einem anderen Pfad installiert haben.
/usr/share/doc/cups/documentation.html
Eine Seite mit Verkn\xFCpfungen zu den anderen Dokumenten.
/usr/share/doc/cups/sam.html
Direkter Zugang zum Handbuch f\xFCr den CUPS Software Administrator im HTML -Format.
/usr/share/doc/cups/sam.pdf
Direkter Zugang zum Handbuch f\xFCr den CUPS Software Administrator im PDF Format.
Es gibt ein paar Webseiten und Newsgruppen, die auf CUPS (und Drucken unter Linux im Allgemeinen) eingehen und so Anf\xE4ngern weiterhelfen:
http://www.cups.org/newsgroups.php
Die CUPS -Webseite
http://www.linuxprinting.org/newsportal /
LinuxPrinting.org, die Seite der Linuxprinting HOWTO und der Linux -Druckerdatenbank.
Zu guter Letzt gibt es eine Webseite f\xFCr KDEPrint und die dazu geh\xF6rende Dokumentation unter http://kdeprint.sourceforge.net /.
In dem n\xE4chsten Abschnitt werden die meisten Einrichtungsm\xF6glichkeiten von KDEPrint mit CUPS behandelt.
Erkl\xE4rung der verschiedenen Elemente des GUI
Oberes Fenster:
Ansicht der Drucker, sowohl reale als auch virtuelle.
Baumansicht, Symbolansicht und Listenansicht
Die Symbole der Fensterleiste.
Verschiedene Schriften f\xFCr verschiedene Drucker.
Verschiedene Druckersymbole bedeuten unterschiedliche Dinge.
Unteres Fenster:
Karteikartenansicht der Details
Dieser Abschnitt ist noch nicht vollst\xE4ndig.
Die Symbole der Fensterleiste.
Die Karteikarten
Druckereinstellungen \xE4ndern
Willkommen zur Einrichtung des CUPS Servers
Dies ist der Willkommensbildschirm zur Einrichtung des Servers.
Wenn Sie auf eines der Elemente der Baumansicht auf der linken Seite des Bildschirms klicken, wird der dazugeh\xF6rige Teil der Einrichtungseinstellungen ge\xF6ffnet.
Jede Einstellung hat einen Standardwert.
Diese Standardwerte sorgen daf\xFCr, dass CUPS unter normalen Bedingungen als voll funktionsf\xE4hige Arbeitsstation arbeitet.
Die Arbeitsstationen nehmen auf Port 631 Informationen eines sendenden CUPS Servers im LAN entgegen.
Diese Informationen erm\xF6glichen der Arbeitsstation das sofortige Drucken nach dem Empfang, ohne dass auf der Arbeitsstation Treiber installiert oder Drucker eingerichtet werden m\xFCssen.
Um einen CUPS Server, der dann seinen Systemdienst \xFCber das LAN sendet einzurichten, m\xFCssen Sie die Standardeinstellungen \xE4ndern.
Der Dialog um den CUPS Server einzurichten:
Willkommensbildschirm
Der Dialog um den CUPS Server einzurichten:
Willkommensbildschirm
Benutzen Sie einfach das Ankreuzfeld auf der rechten Seite des Bildschirms um die Standardeinstellung eines Elements auszuw\xE4hlen.
Deaktivieren Sie das Ankreuzfeld um einem Element einen anderen Wert zuzuweisen.
W\xE4hlen Sie dann im linken Bereich des Bildschirms die Einstellung aus, die Sie \xE4ndern wollen.
Die vollst\xE4ndige Einrichtung des Servers umfasst:
Server Allgemeine Einstellungen
Server Log -Einstellungen
Server Verzeichnisse und Pfadangaben
Server HTTP Einstellungen
Server Verschl\xFCsselungs - und Zertifikatseinstellungen
Server verschiedene Einstellungen
Netzwerk Allgemeine Einstellungen
Netzwerk Arbeitsstationen Einstellungen
Durchsuchen Allgemeine Einstellungen
Durchsuchen Verbindungs -Einstellungen
Durchsuchen Masken Einstellungen
Durchsuchen Zeitlimit Einstellungen
Durchsuchen Weiterleitungs -Einstellungen
Sicherheits -Einstellungen
Jedes dieser Einstellungselemente wird in dem folgenden Abschnitt des Handbuchs erl\xE4utert.
Server Allgemeine Einstellungen
Servername
E-Mail des Systemverwalters
Server-Benutzer
Server-Gruppe
Name f\xFCr Benutzer auf Fremdrechner
Schauen Sie in der urspr\xFCnglichen CUPS Dokumentation nach, wenn sie sich unsicher sind.
Wenn Ihr CUPS D\xE4mon schon l\xE4uft erreichen Sie diese mit dem Konqueror unter der Adresse http://localhost:631/documentation.html.
Servername
Der Rechnername Ihres Servers, der bekanntgegeben wird.
Als Standardeinstellung benutzt CUPS den Rechnernamen des Systems.
Schauen Sie sich die Datei client.conf an, um den Standardserver f\xFCr Arbeitsstationen einzustellen.
Geben Sie z.B. myhost.domain.com ein.
Dieser Rechnername wird anderen Arbeitsstationen mitgeteilt.
Sollten Sie jemals merkw\xFCrdige Probleme beim Zugriff auf den Server haben, dann nehmen Sie zur Fehlerbeseitigung die IP -Adresse des Servers.
Damit vermeiden Sie Probleme bei der Namensaufl\xF6sung und Sie k\xF6nnen so leichter das wirkliche Problem erkennen.
E-Mail des Systemverwalters
Dies ist die E-Mail-Adresse, an die alle Probleme gesendet werden.
Die Standardeinstellung ist root@hostname.
Geben Sie z.B. root@myhost.com ein.
Auch wenn es die Kurzhilfe nicht beschreibt, ist es legal eine E-Mail voller Dank und Enthusiasmus \xFCber CUPS und KDEPrint an den Administrator zu schicken.
Server-Benutzer
Der Benutzer, unter welchem der Server l\xE4uft.
Normalerweise sollte das der Benutzer lp sein, Sie k\xF6nnen diese Einstellung jedoch \xE4ndern, falls dies n\xF6tig ist.
Der Server muss beim Start mit dem Benutzer root ausgef\xFChrt werden, so dass er den IPP Port 631 benutzen kann.
Der Server \xE4ndert dann jedes mal den Benutzer, wenn ein externes Programm ausgef\xFChrt wird.
Geben Sie z.B. lp ein.
Dies ist der UNIX Benutzerzugang, der f\xFCr Filter und CGI -Programme benutzt wird.
CGI -Programme sind f\xFCr die Einrichtung \xFCber die Weboberfl\xE4che unter http://localhost:631 /) verantwortlich.
Es gibt keinen Grund die Server-Benutzer -Einstellung in root umzustellen.
Sie sollten dies niemals machen, da es Gefahren birgt.
Sollte jemand eine Sicherheitsl\xFCcke in einem der benutzten Dateifilter, Druckertreiber oder CGI -Programme finden, k\xF6nnte er willk\xFCrliche Befehle mit den Rechten des Systemverwalters auf Ihrem System ausf\xFChren.
Verwenden Sie deshalb immer einen Benutzerzugang mit wenig Zugriffsrechten f\xFCr die Server-Benutzer -Einstellung.
Server-Gruppe
Die Gruppe unter welcher der Server l\xE4uft.
Normalerweise sollte dies die Gruppe sys sein, Sie k\xF6nnen jedoch eine andere Gruppe einstellen, falls dies n\xF6tig ist.
Geben Sie z.B. sys ein.
Name f\xFCr Benutzer auf Fremdrechner
Der Name des Benutzers, welcher nicht authentifizierten Zugriffen von entfernten Systemen zugewiesen wird.
Voreingestellt ist remroot.
Dieser Name wird in allen Logdateien, allen Anfragen eines Druckauftrags usw. f\xFCr die Ressourcen von CUPS auftauchen, die so eingerichtet sind, dass Sie den Zugang ohne Authentifizierung erm\xF6glichen.
Authentifizierte Eintr\xE4ge werden den authentifizierten Namen benutzen.
Server Log-Einstellungen
Hier befindet sich die Einrichtung der Server-Logdateien.
Diese enth\xE4lt:
Einstellung der Zugangs-Logdatei
Einstellung der Fehler-Logdatei
Einstellung der Seiten-Logdatei
Einstellung der Logstufe
Einstellung der maximalen Gr\xF6\xDFe der Logdatei
Dieser Bildschirm ist wichtig f\xFCr Sie.
Falls Sie Probleme haben sollten ist dies der Platz um die Logstufe auf vollst\xE4ndiges Debugging zu setzten.
Danach sollten Sie den CUPS D\xE4mon neu starten und in der Fehler-Logdatei, die hier angegeben wurde, nach Eintr\xE4gen suchen, die Ihnen einen Einblick in die Ursache des Fehlers geben k\xF6nnten.
Zugangs-Logdatei
In dieser Datei werden Zugriffe auf den Server protokolliert.
Wenn der Pfadname nicht mit / anf\xE4ngt, wird von einem relativen Pfad zum Stammverzeichnis des Servers ausgegangen.
Sie k\xF6nnen auch den Spezialnamen syslog verwenden um die Ausgabe an die Systemlogdatei oder den Systemlogd\xE4mon weiterzugeben.
Geben sie einen Pfadnamen an, z.B. /var/log/cups/acces_log.
Das Format dieser Datei entspricht dem sogenannten Common Log Format.
Das hat den Vorteil, dass Sie Programme wie Webalizer oder jedes andere beliebige Werkzeug zur Analyse von Webzugriffen einsetzen k\xF6nnen um Berichte \xFCber die Aktivit\xE4ten des CUPS Servers zu erstellen.
Um den Servernamen in den Dateinamen zu integrieren m\xFCssen Sie %s benutzen, z.B. /var/log/cups/access_log-%s.
Sie sehen eine Zeile f\xFCr jeden Zugriff, die folgende Dinge anzeigt:
IP -Adresse der zugreifenden Arbeitsstation, Datum und Uhrzeit des Zugriffs, Art des Zugriffs (POST oder GET) die angeforderte Ressource, die HTTP -Version der Arbeitsstation, die Statusmeldung und die Menge der \xFCbertragenen Bytes.
Die Statusmeldung 200 bedeutet erfolgreich, die Meldung 401 im oberen Beispiel war ein nicht erlaubter Zugriff, der abgelehnt wurde.
Fehler-Logdatei
Wenn der Pfadname nicht mit / anf\xE4ngt, wird von einem relativen Pfad zum Stammverzeichnis des Servers ausgegangen.
Die Voreinstellung ist /var/log/cups/error_log.
Sie k\xF6nnen auch den Spezialnamen syslog verwenden um die Ausgabe an die Systemlogdatei oder den Systemlogd\xE4mon weiterzugeben.
Geben Sie einen Pfad an, z.B. /var/log/cups/error_log.
Der unterhalb dargestellte Auszug aus der Fehler-Logdatei zeigt die Aufzeichnung vom Druck eine Testseite mit der der Standardlogstufe info.
Eine genauere Erkl\xE4rung der Logstufe erfolgt weiter unten.
Seiten-Logdatei
Wenn der Pfadname nicht mit / anf\xE4ngt, wird von einem relativen Pfad zum Stammverzeichnis des Servers ausgegangen.
Die Voreinstellung ist /var/log/cups/page_log
Sie k\xF6nnen auch den Spezialnamen syslog verwenden um die Ausgabe an die Systemlogdatei oder den Systemlogd\xE4mon weiterzugeben.
Geben Sie einen Pfad an, z.B. /var/log/cups/page_log.
Die Seiten-Logdatei enth\xE4lt f\xFCr jede Seite jedes Druckauftrags eine Zeile.
So sehen einige Eintr\xE4ge aus:
In diesem Auszug der Datei sehen Sie Informationen \xFCber die Namen, der vom Server benutzten Drucker (GIMP_print_stp_HP und DANKA_infotec_P450), die Benutzernamen (kdetest, kurt und root), die Nummer der Auftr\xE4ge (201 bis 205), Datum des Drucks, Anzahl der Seiten innerhalb des Auftrags und die Anzahl der Kopien der Seite, z.B. hatte der Auftrag 204 vier Seiten und 33 Kopien, der Auftrag 205 hatte 14 Kopien und nur eine Seite.
CUPS ist bei der Berechnung der Seiten eines Druckauftrags von der Ausgabe des an den pstops -Filter \xFCbergebenen PostScript abh\xE4ngig.
In den meisten F\xE4llen funktioniert dies.
Das Z\xE4hlen der Seiten funktioniert aber nicht f\xFCr alle Rohdaten -Warteschlangen, da diese keine Filter von CUPS benutzen und den pstops -Filter \xFCbergehen.
Jeder Auftrag mit Rohdaten wird mit einer Seite gez\xE4hlt, kann aber mehrere Kopien haben.
Dies gilt insbesondere f\xFCr alle Auftr\xE4ge von Microsoft Windows Arbeitsstationen, die \xFCber Samba den CUPS Server ansprechen, da diese Auftr\xE4ge schon im richtigen Format ankommen, weil die Arbeitsstationen den urspr\xFCnglichen Druckertreiber benutzen.
Eine Person, die ein Analysewerkzeug zur Seitenauswertung f\xFCr CUPS programmiert wird noch gesucht.
Das Werkzeug sollte einen Bericht mit graphischer Ausgabe, \xE4hnlich den Berichten des Webalizer s erzeugen k\xF6nnen.
Dadurch w\xE4ren w\xE4ren Statistiken \xFCber die Auslastung der Drucker, die Auslastung \xFCber einen Zeitraum oder Wochentag hinweg, eine Analyse der Benutzer usw. m\xF6glich.
Logstufe
Diese Einstellung kontrolliert die Anzahl der Meldungen, die in die Fehler-Logdatei geschrieben werden.
Folgende Stufen sind m\xF6glich:
debug2
Alles aufzeichnen
debug
Fast alles aufzeichnen
info
Alle Anfragen und Status\xE4nderungen
warn
Fehler und Warnungen aufzeichnen
error
Nur Fehler aufzeichnen
none
Nichts aufzeichnen
Wenn Sie Fehler finden wollen oder die interne Funktionsweise von CUPS studieren wollen, sollten Sie das Loglevel auf debug oder debug2 setzen.
Dadurch wird die Fehler-Logdatei deutlich mehr Eintrage enthalten, die nicht nur fehlerbezogen sind, sondern auf informative Dinge enthalten.
Sie k\xF6nnen dies dazu benutzen um live mitzuverfolgen was CUPS macht.
Tippen Sie dazu auf der Konsole folgendes ein:
Dies gibt die hundert letzten Zeilen (-n 100) der Datei auf dem Bildschirm aus.
Die Ausgabe wird in Echtzeit aktualisiert.
Der folgende Auszug zeigt dem Druck einer Testseite.
Manche Dinge wurden aus Platzgr\xFCnden weggelassen.
Versuchen Sie selbst mehr herauszufinden.
Die Zeilen, die mit D anfangen sind Eintr\xE4ge des Loglevels debug, die mit I geh\xF6ren zum Loglevel info.
Maximale Gr\xF6\xDFe der Logdatei
Gibt die maximale Gr\xF6\xDFe der Logdateien an, bevor diese archiviert werden.
Die Standardeinstellung ist 1048576 (1 MB).
Wenn Sie den Wert auf Null setzen, werden die Logdateien nicht archiviert, sondern die Logdatei kann beliebig gro\xDF werden.
Geben Sie eine Gr\xF6\xDFe in Bytes an, z.B.
1048576
Einrichtung der Serververzeichnisse
Ausf\xFChrbare Dateien:
Wo die ausf\xFCrbaren Dateien des Servers installiert sind.
Einrichtungsdateien:
Wo die Einrichtungsdateien des Server installiert sind.
Datendateien:
Wo die Datendateien des Servers installiert sind.
Tempor\xE4re Dateien:
Wo tempor\xE4re Dateien abgelegt werden.
Tempor\xE4re Anfragen:
Wo der Server gefunden wird.
Schriftarten-Pfad:
Wo die Schriftarten installiert sind.
Ausf\xFChrbare Dateien
Das Wurzelverzeichnis der ausf\xFChrbaren Dateien.
Voreingestellt ist das Verzeichnis /usr/lib/cups (oder /usr/lib32/cups auf IRIX 6.5)
Einrichtung
Das Wurzelverzeichnis des Servers.
Voreingestellt ist /etc/cups.
Auf dem SuSE System des Autors ist dies /usr/share/doc/cups.
Es enth\xE4lt die ganze HTML oder PDF Dokumentation f\xFCr CUPS, welche auch \xFCber die Web-Schnittstelle unter http://localhost:631/documentation.html zu erreichen ist.
Daten
Das Wurzelverzeichnis f\xFCr die CUPS Datendateien.
Voreingestellt ist /usr/share/cups.
Es enth\xE4lt Dinge wie Banner, Zeichens\xE4tze, Daten, Treiber, Schriftarten und pstoraster Vorlagen.
Tempor\xE4re Dateien
Das Verzeichnis, in dem tempor\xE4re Dateien abgelegt werden.
Dieses Verzeichnis muss f\xFCr den auf dem vorherigen Bildschirm definierten Benutzer beschreibbar sein.
Voreingestellt ist entweder /var/spool/cups/tmp oder der Wert der TMPDIR Umgebungsvariablen.
Tempor\xE4re Anfragen
Das Verzeichnis, in dem Anfragen gespeichert werden.
Voreingestellt ist /var/spool/cups.
Pfad zu den Schriftarten
Hier richten Sie die dekorativen Schriftarten (TrueType oder PostScript) ein.
CUPS schaut in diesem Verzeichnis nach Schriftarten, die in Druckdateien mit einbezogen werden.
Dies betrifft im Moment nur den pstoraster Filter.
Voreingestellt ist /usr/share/cups/fonts.
Verwenden Sie Doppelpunkte wenn Sie mehr als ein Verzeichnis angeben wollen, etwa so:
/pfad/zum/ersten/verzeichnis:/pfad/zum/zweiten/verzeichnis: /pfad/zum/letzten/verzeichnis:
Um den Pfad f\xFCr die Schriftarten wie gew\xFCnscht zu benutzen muss die Anwendung, die drucken will:
Entweder richtig auf die gew\xFCnschte Schriftart in dem Kopfteil des erzeugten PostScript verweisen
oder die Schriftart in die PostScript -Datei einbetten.
Wenn die Schriftarten nach Namen geordnet werden, bleibt es dem RIP und dem druckenden Ger\xE4t \xFCberlassen, ob sie diese auch wirklich benutzen.
RIP oder Drucker k\xF6nnen die gew\xFCnschten Schriftarten nur benutzen wenn diese auf dem System verf\xFCgbar sind.
Im Falle eines PostScript -Druckers muss dies eine druckereigene Schriftart sein.
Wenn der Drucker nicht \xFCber diese Schriftart verf\xFCgt, wird er eine passende, \xE4hnliche Schriftart ausw\xE4hlen.
Im Falle eines Druckers, der kein PostScript von sich aus unterst\xFCtzt, k\xFCmmert sich CUPS und der RIP -Filter von CUPS um die Schriftarten.
CUPS benutzt dazu den Pfad zu den Schriften um die richtige Schriftart in dem RIP -Vorgang an den pstoraster -Filter zu \xFCbergeben.
Im Falle eines PostScript -Ausgabeger\xE4ts wird CUPS die Datei nur zwischenlagern und durch den pstops -Filter schicken.
Dieser Filter kann dann f\xFCr Abrechnungsaufgaben oder \xE4hnliche Dinge benutzt werden.
CUPS bearbeitet die Datei jedoch nicht.
Deshalb ist es alleine die Aufgabe des PostScript -Druckers die richtigen Schriftarten zu benutzen.
Die Auswahl der Schriftart schl\xE4gt fehl, wenn die Schriftart weder im Drucker geladen ist, noch in PostScript eingebettet ist.
Server HTTP -Einstellungen
Der Dialog f\xFCr die HTTP -Einstellungen des CUPS Servers ist hier abgebildet.
Folgende CUPS HTTP -Einstellungen sind verf\xFCgbar:
das Dokumentenverzeichnis
die Standardsprache
der Standardzeichensatz
Dokumentverzeichnis
Das Wurzelverzeichnis f\xFCr die HTTP -Dokumente.
Voreingestellt ist /usr/share/cups/doc.
Standardsprache
Die Standardsprache, falls keine andere vom Browser angegeben ist.
Falls keine Sprache angegeben ist, wird die im Moment im System gew\xE4hlte Sprache verwendet.
Benutzen Sie die zweibuchstabigen L\xE4ndercodes, z.B. en oder de.
Standardzeichensatz
Der Standardzeichensatz, der benutzt werden soll.
Falls kein Zeichensatz angegeben ist, wird UTF-8 benutzt.
Diese Einstellung kann auch direkt in den HTML -Dokumenten \xFCberschrieben werden.
Einrichtung der Verschl\xFCsselungsunterst\xFCtzung f\xFCr den Server
Server-Zertifikat:
Die Datei enth\xE4lt das Zertifikat des Servers.
Server-Schl\xFCssel:
Die Datei enth\xE4lt den Schl\xFCssel des Servers.
Server-Zertifikat
Die Datei, die das Zertifikat des Servers enth\xE4lt.
Voreingestellt ist /etc/cups/ssl/server.crt.
Server-Schl\xFCssel
Die Datei, die den Server-Schl\xFCssel enth\xE4lt.
Voreingestellt ist /etc/cups/ssl/server.key
Sonstige Servereinstellungen
In diesem Dialog k\xF6nnen Sie die sonstigen Einstellungen des CUPS Servers ver\xE4ndern.
Folgende Einstellungen sind hier m\xF6glich:
Protokoll der Druckauftr\xE4ge speichern:
Hier stellen Sie ein, ob das Protokoll der Druckauftr\xE4ge, nach der Fertigstellung, zur sp\xE4teren nochmaligen Ansicht gespeichert werden soll.
Druckauftragsdatei speichern:
Hier stellen Sie ein, ob die Druckauftragsdatei, nach der Fertigstellung, zur sp\xE4teren nochmaligen Ansicht gespeichert werden soll.
Printcap-Datei:
Der Pfad und der Name der Printcap-Datei.
RIP-Zwischenspeicher:
Die Gr\xF6\xDFe des RIP-Zwischenspeichers im Hauptspeicher.
Filter Limit:
Angabe eines Filter Limits
Protokoll der Druckauftr\xE4ge speichern (nach ihrer Fertigstellung)
Gibt an ob das Protokoll des Druckauftrags gespeichert werden soll, nachdem ein Auftrag erledigt, abgebrochen oder gestoppt wurde.
Voreingestellt ist ja.
Druckauftragsdatei speichern (nach ihrer Fertigstellung)
Gibt an ob die Druckauftragsdatei gespeichert werden soll, nachdem der Auftrag erledigt, abgebrochen oder gestoppt wurde.
Voreingestellt ist nein.
Printcap-Datei
Der Name der Printcap-Datei.
Die Voreinstellung gibt keinen Namen an.
Lassen die dieses Feld leer, wenn sie die Erzeugung der Printcap-Datei nicht ben\xF6tigen.
Die Printcap-Datei ist nur f\xFCr \xE4ltere Anwendungen n\xF6tig, die diese Datei voraussetzen.
RIP-Zwischenspeicher
Die Menge des Speichers, die jeder RIP benutzen soll um Bitmaps zwischenzuspeichern.
Der Wert kann eine beliebige Zahl sein.
Zus\xE4tzlich k\xF6nnen Sie ein k f\xFCr Kilobytes, ein m f\xFCr Megabytes, ein g f\xFCr Gigabytes oder ein t f\xFCr Kacheln angeben, wobei eine Kachel 256 x 256 Pixeln entspricht.
Voreingestellt ist 8m.
Filter-Limit
Hier l\xE4sst sich der maximale Verbrauch von Speicher, CPU-Zeit und Festplattenspeicher als ein Wert angeben.
Der Wert 0 bedeutet, dass es kein Filterlimit gibt.
Ein normaler Druckauftrag ben\xF6tigt ungef\xE4hr einen Wert von 200.
Wenn das Limit kleiner ist als das Limit, das ein Druckauftrag ben\xF6tigt, wird immer nur ein Druckauftrag durchgef\xFChrt.
Das voreingestellte Limit ist 0, also kein Limit.
Allgemeine Netzwerkkonfiguration
Nach Rechnernamen oder IP-Adressen suchen
Port
Max.
Anforderungsgr\xF6\xDFe
Zeitlimit
Nach Rechnernamen oder IP-Adressen suchen
Gibt an ob versucht werden soll die IP -Adressen Hostnamen zuzuordnen.
Die Funktion ist standardm\xE4\xDFig aus Geschwindigkeitsgr\xFCnden ausgeschaltet.
Port
Geben Sie hier den Port und die Adresse ein, auf welcher der Server Anfragen entgegennehmen soll.
Der Standardport 631 ist f\xFCr das Internet Printing Protocol reserviert und wird normalerweise verwendet.
Sie k\xF6nnen mehrere Eintr\xE4ge verwenden um Anfragen auf mehr als einem Port oder auf mehreren Adressen entgegen zu nehmen oder den Zugriff zu beschr\xE4nken.
Leider unterst\xFCtzen die meisten Web-Browser TLS oder andere HTTP -Erweiterungen f\xFCr Verschl\xFCsselung nicht.
Wenn Sie web-basierte Verschl\xFCsselung benutzen wollen m\xFCssen Sie wahrscheinlich Port 443 angeben, das ist der HTTPS -Port.
Benutzen Sie die Hinzuf\xFCgen- und Entfernen -Kn\xF6pfe um Eintr\xE4ge der Liste hinzuzuf\xFCgen, bzw. sie zu entfernen.
Sie k\xF6nnen Ports alleine angeben, z.B.
631 oder Rechnernamen mit Ports, z.B. myhost:80 oder 1.2.3.4:631.
Max.
Anforderungsgr\xF6\xDFe
Gibt die maximale Gr\xF6\xDFe der HTTP -Anfragen und der Druckdateien an.
Voreingestellt ist 0, d.h. diese Funktion ist ausgeschaltet.
Zeitlimit
Das Zeitlimit (in Sekunden) f\xFCr Anfragen.
Voreingestellt sind 300 Sekunden.
Einrichtung der Netz-Arbeitsstationen
Der Dialog f\xFCr die Einrichtung der Netz-Arbeitsstationen ist hier abgebildet.
Dieser enth\xE4lt:
Anforderungen von "Verbindung halten" annehmen
Zeitlimit f\xFCr "Verbindung halten"
Maximale Anzahl von Arbeitsstationen
Anforderungen von "Verbindung halten" annehmen
Soll die Verbindung halten Option unterst\xFCtzt werden.
Voreingestellt ist ja.
Zeitlimit f\xFCr "Verbindung halten"
Die Wartezeit, bevor Verbindungen mit der Option Verbindung halten getrennt werden.
Voreingestellt sind 60 Sekunden.
Maximale Anzahl der Arbeitsstationen
Gibt die maximale Anzahl der Arbeitsstationen an, die gleichzeitig bearbeitet werden k\xF6nnen.
Voreingestellt sind 100 Arbeitsstationen.
Allgemeine Einrichtung f\xFCrs Durchsuchen
Durchsuchen aktivieren
Nach M\xF6glichkeit Kurznamen verwenden
Implizite Klassen verwenden
Durchsuchen aktivieren
Gibt an, ob Druckerinformationen zu anderen CUPS Servern \xFCbertragen werden sollen.
In der Voreinstellung ist diese Option aktiviert.
Nach M\xF6glichkeit Kurznamen verwenden
Gibt an, ob Sie, wenn m\xF6glich, kurze Namen f\xFCr entfernten Drucker verwenden wollen, z.B. drucker anstatt drucker@rechner.
Diese Option ist in der Voreinstellung eingeschaltet.
Implizite Klassen verwenden
Gibt an ob Sie implizite Klassen verwenden wollen.
Druckerklassen k\xF6nnen entweder explizit in der Datei classes.conf angegeben werden oder implizit, d.h. basierend auf den Druckern, die im LAN verf\xFCgbar sind.
Es k\xF6nnen aber auch beide M\xF6glichkeiten gleichzeitig angegeben werden.
Wenn die Option implizite Klassen eingeschaltet ist, werden die Drucker im LAN, die den gleichen Namen haben, z.B.
Acme-LaserPrint-1000, in einer Klasse mit demselben Namen zusammengefasst.
Damit k\xF6nnen Sie mehrere Drucker ohne gro\xDFen administrative Schwierigkeiten in eine Warteschlange schalten.
Wenn ein Benutzer einen Auftrag an Acme-LaserPrint-1000 schickt wird der Auftrag an die erste freie Warteschlange \xFCbergeben.
In der Standardeinstellung ist diese Option aktiviert.
Einrichtung der Durchsuchungsverbindungen
Der Dialog zur Einstellung der Durchsuchungsverbindungen von CUPS wird hier dargestellt.
Folgende Einstellungen sind m\xF6glich:
Broadcast Adressen:
Die UDP -Broadcast Adresse, an die Druckerinformationen \xFCbertragen werden.
Broadcast Port:
Die Portnummer, die f\xFCr das Senden benutzt wird.
Poll-Adressen:
Die Adresse(n), von denen Informationen \xFCber Drucker erhalten werden k\xF6nnen.
Diese Option ist sinnvoll f\xFCr Server, die selbst keine Informationen senden oder deren gesendete Informationen wegen Routern im LAN nicht richtig ankommen.
Broadcastadressen
Nachdem Sie den Hinzuf\xFCgen -Knopf gedr\xFCckt haben, werden Sie in dem neu erscheinenden Dialog zur Eingabe eines neuen Wertes f\xFCr das Senden von Informationen (Broadcasting) aufgefordert.
Der Dialog zum Hinzuf\xFCgen von Poll-Adressen stellt sich entsprechend dar.
Diese Option gibt eine Broadcast-Adresse an, die verwendet werden soll.
In der Voreinstellung werden die Broadcast-Informationen an alle aktiven Netzwerkger\xE4te geschickt.
HP-UX 10.20 und fr\xFChere Versionen von HP-UX k\xF6nnen nur korrekt mit Broadcasting umgehen, wenn Sie ein Netzmaske der Klasse A, B, C oder D haben.
Es gibt z.B. keine CIDR Unterst\xFCtzung in diesen HP-UX -Versionen.
Broadcast-Port
Der Port, der f\xFCr UDP -Broadcasts verwendet wird.
Voreingestellt ist hierf\xFCr der IPP -Port.
Wenn Sie diesen Wert \xE4ndern wollen, m\xFCssen Sie dies auf allen Servern tun.
Es wird nur ein Durchsuchungs-Port wahrgenommen.
Poll-Adressen
Informationen \xFCber Drucker werden von dem genannten Server(n), bezogen.
Filter f\xFCr Durchsuchungen einrichten
Durchsuchung zulassen
Durchsuchung nicht zulassen
Durchsuchungs-Reihenfolge
Durchsuchungsadresse hinzuf\xFCgen Dialog
Hier wird der Dialog abgebildet, in welchem Sie eine neue Adresse von anderen CUPS Servern angeben k\xF6nnen, von denen Sie Pakete f\xFCr das Durchsuchen akzeptieren wollen.
Sie \xF6ffnen den Dialog indem Sie auf den Hinzuf\xFCgen -Knopf neben dem Duchsuchung zulassen Feld klicken.
Der Dialog f\xFCr das Hinzuf\xFCgen von Duchsuchung nicht zulassen Adressen ist entsprechend gleich.
Hier wird der Dialog abgebildet, in welchem Sie eine neue Adresse von anderen CUPS Servern angeben k\xF6nnen, von denen Sie Pakete f\xFCr das Durchsuchen akzeptieren wollen.
Duchsuchung zulassen und Duchsuchung nicht zulassen
Duchsuchung zulassen gibt eine Adressenmaske an, die einkommende Pakete f\xFCrs Durchsuchen akzeptiert.
In der Voreinstellung sind Pakete von allen Adressen erlaubt.
Duchsuchung nicht zulassen gibt eine Adressenmaske an, die einkommende Pakete f\xFCrs Durchsuchen nicht akzeptiert.
In der Voreinstellung werden keine Pakete abgewiesen.
Sowohl Duchsuchung zulassen als auch Duchsuchung nicht zulassen erlauben den folgenden Syntax f\xFCr Adressangaben:
All
None
*.domain.com
.domain.com
rechnername.domain.com
nnn.*
nnn.nnn.*
nnn.nnn.nnn.*
nnn.nnn.nnn.nnn
nnn.nnn.nnn.nnn/mmm
nnn.nnn.nnn.nnn/mmm.mmm.mmm.mmm
Die Hostnamen- und Domaineinschr\xE4nkungen funktionieren nur wenn Sie die Suche nach Rechnernamen von IP-Adressen aktiviert haben.
Durchsuchungsreihenfolge
Gibt die Reihenfolge der zulassen/nicht zulassen Beschr\xE4nkungen an.
Einrichtung der Zeitlimits f\xFCr Durchsuchungen
Der Dialog um die Zeitlimits des CUPS Servers f\xFCr das Durchsuchen einzustellen wird hier dargestellt.
Folgende Einstellungen sind m\xF6glich:
Durchsuchungsinterval
Zeitlimit der Suche
Durchsuchungsinterval
Die Zeit zwischen den Durchsuchungen (in Sekunden).
Voreingestellt sind 30 Sekunden.
Beachten Sie bitte, dass bei einer \xC4nderung des Druckerstatusses immer eine Durchsuchungsinformation verschickt wird.
Deshalb gibt dieser Wert nur die maximale Dauer zwischen zwei Durchsuchungen an.
Setzen Sie diesen Wert auf 0 um das Broadcasting zu deaktivieren und damit Ihre lokalen Drucker nicht im Netz bekannt zu machen.
Sie k\xF6nnen die Drucker aber trotzdem auf anderen Rechnern sehen.
Zeitlimit der Suche
Das Zeitlimit (in Sekunden) f\xFCr Netzwerkdrucker.
Wenn innerhalb dieser Zeit keine Aktualisierung stattfindet wird der Drucker von der Liste entfernt.
Der Wert sollte nat\xFCrlich nicht kleiner als der des Durchsuchungsintervalls sein.
Voreingestellt sind 300 Sekunden.
Weiterleitung von Durchsuchungsanfragen einrichten
Weiterleitung von Paketen der Durchsuchungsanfragen
Weiterleitungsdialog f\xFCr Durchsuchungsanfragen hinzuf\xFCgen
Der Dialog um ein Adresspaar f\xFCr die Weiterleitung von Durchsuchungsanfragen zwischen einem CUPS Server und einem Netzwerk einzurichten wird hier gezeigt.
Weiterleitung von Paketen der Durchsuchungsanfragen
Weiterleitung von Durchsuchungsanfragen von einer Adresse oder eines Netzwerks zu einem anderen.
Sicherheitseinstellungen
Der Dialog f\xFCr die Sicherheitseinstellungen der definierten Server wird hier gezeigt.
Der Dialog enth\xE4lt die folgenden Einstellungen, die f\xFCr jede Ressource (oder jede Adresse) des CUPS Servers getrennt eingestellt werden k\xF6nnen:
Systemgruppe
Zugangsberechtigungen
Authentifzierungstyp
Authentifzierungsklasse
Authentifizierungsgruppe
Verschl\xFCsselungstyp
Zulassen
Ablehnen
Reihenfolge
Erlaubte Ressourcen (oder Adressen) des CUPS Servers sind:
Wurzelverzeichnis des Servers: /
Administrationsverzeichnis des Servers: /admin
Alle Drucker auf dem Server: /printers
Jeder einzelne Drucker auf dem Server: z.B. /printers/infotec_P320
Alle Druckerklassen auf dem Server: /classes:
Jede einzelne Druckerklasse auf dem Server: z.B. /classes/all_infotecs_P320_or_P450
F\xFCr alle Adressen, die nicht einzeln definiert werden, gelten die Einstellungen der Adresse dar\xFCber.
Sie haben z.B. einen Drucker infotec_P450, der keine definierten Sicherheitseinstellungen hat.
Dann werden f\xFCr diesen die Sicherheitseinstellungen von /printers \xFCbernommen, da der Drucker eine Adresse unterhalb der Hierarchie von /printers ist.
Wenn wiederum keine Sicherheitseinstellungen f\xFCr /printers existieren, werden die allgemeinen Sicherheitseinstellungen des Wurzelverzeichnisses des Servers (/) aktiv.
Wenn Sie diese Einstellung dann selbst auch nicht ver\xE4ndert haben wird die Standardeinstellung verwendet.
Systemgruppe
Der Gruppenname f\xFCrs System oder den Zugang zur Administration des Druckers.
Die Standardeinstellung variiert auf den verschiedenen Betriebssystemen.
Versuchen Sie sys, system oder root (in dieser Reihenfolge).
Zugangsberechtigungen
Zugangsberechtigungen f\xFCr jedes Verzeichnis, das von Druckplaner zur Verf\xFCgung gestellt wird.
Die Adressen sind relativ zum Wurzelverzeichnis des Servers.
Authentifzierungstyp
Die Authentifizierung, die benutzt werden soll:
None
Keine Authentifizierung
Elementar
Authentifizierung mittels der elementaren HTTP -Methode (Basic Methode).
Zusammenfassung
Authentifizierung mittels der zusammenfassenden HTTP Methode (Digest Methode).
Die lokale Zertifikat-Authentifizierung kann bei Verbindungen zum lokalen Interface der Arbeitsstation durch die Elementarmethode oder die Zusammenfassungsmethode ersetzt werden.
Authentifzierungsklasse
Die Authentifzierungsklasse.
Im Moment werden nur Anonymous, User, System (Benutzer, die zu der Gruppe geh\xF6ren, die als Systemgruppe angegeben wurde), und group (Benutzer, der zu der angegebenen Gruppe geh\xF6ren) unterst\xFCtzt.
Authentifzierungsgruppe
Der Name der Authentifzierungsgruppe
Verschl\xFCsselungstyp
Gibt an ob Verschl\xFCsselung benutzt werden soll oder nicht.
Um die Verschl\xFCsselungsfunktion benutzen zu k\xF6nnen, muss OpenSSL in der CUPS Bibliothek und im Druckerplaner vorhanden sein.
M\xF6gliche Werte sind:
Immer
Immer Verschl\xFCsselung benutzen (SSL)
Niemals
Niemals Verschl\xFCsselung benutzen.
Erforderlich
Die TLS Verschl\xFCsselungserweiterung benutzen.
Auf Anforderung
Verschl\xFCsselung benutzen, wenn der Server dies anfordert.
Zulassen
Den Zugriff von einem angegebenen Hostnamen, einer Domain, einer IP -Adresse oder eines Netzwerks erlauben.
M\xF6gliche Werte sind:
All
None
*.domain.com
.domain.com
rechnername.domain.com
nnn.*
nnn.nnn.*
nnn.nnn.nnn.*
nnn.nnn.nnn.nnn
nnn.nnn.nnn.nnn/mmm
nnn.nnn.nnn.nnn/mmm.mmm.mmm.mmm
F\xFCr die Einstellungen Hostname und Domain m\xFCssen sie die Suche nach Rechnernamen aktiviert haben, so wie es weiter oben in dem Handbuch beschrieben wird.
Ablehnen
Den Zugriff von einem angegebenen Hostnamen, einer Domain, einer IP -Adresse oder eines Netzwerks ablehnen.
M\xF6gliche Werte sind:
All
None
*.domain.com
.domain.com
rechnername.domain.com
nnn.*
nnn.nnn.*
nnn.nnn.nnn.*
nnn.nnn.nnn.nnn
nnn.nnn.nnn.nnn/mmm
nnn.nnn.nnn.nnn/mmm.mmm.mmm.mmm
F\xFCr die Einstellungen Hostname und Domain m\xFCssen sie die Suche nach Rechnernamen aktiviert haben, so wie es weiter oben in dem Handbuch beschrieben wird.
Reihenfolge
Die Reihenfolge, in der die Zulassen/Ablehnen Regeln verarbeitet werden.
Beispiel:
Sicherheitseinstellungen f\xFCr alle Drucker definieren
Das erste Bildschirmphoto zeigt den allgemeinen Dialog f\xFCr die Einstellungen.
W\xE4hlen Sie eine Ressource aus, f\xFCgen Sie eine Ressource hinzu oder ver\xE4ndern Sie die Sicherheitseinstellungen einer Ressource.
In diesem Dialog k\xF6nnen Sie eine neue Ressource hinzuf\xFCgen.
Der Dialog \xE4hnelt dem Dialog zum Ver\xE4ndern von schon vorhandenen Ressourcen.
Die allgemeinen Einstellungen sind:
In dem zweiten Teil des Dialogs k\xF6nnen Sie eine neue Ressource hinzuf\xFCgen.
Der Dialog \xE4hnelt dem Dialog zum Ver\xE4ndern von schon vorhandenen Ressourcen.
Hier geben Sie die Zugangseinstellungen der Ressource an.
The Add Printer Wizard for CUPS
Starting
Backend Selection
local printer (serial, parallel, USB)
remote LPD queue
SMB shared printer (Windows)
Network Printer (TCP, HP JetDirect, AppSocket)
Network printer with IPP (IPP / HTTP)
File printer
serial fax /modem printer
Class of Printers
Direct Network Setting
The contents of your next screen is dependent on your choice in the previous screen.
If you know the details, just type them in to configure your network settings directly.
Information Retrieval by Scanning the Network
In the case of SMB, KDEPrint will use the Samba utilities nmblookup and smbclient (which need to be installed for this to work) to retrieve the information it presents in a tree structure.
Some printers or manufacturers use other port numbers for direct TCP/IP printing.
You may need to look up which one to use.
The Settings button in the dialog lets you configure your scan, including IP addresses, ports and timeout to use.
Printer Model Selection
Driver Selection
On the next screen you will see a description of the driver selected previously.
This description is extracted from the actual PPD used.
For a real PostScript printer never try to install a Foomatic or Gimp-Print PPD, even if it is offered.
You won't be happy with it.
Instead find the original PPD from the manufacturer, preferably the one written for Windows NT and use it.
If you are not sure which ones to use go to:
http://www.linuxprinting.org
http://www.cups.org
Via the Other... button you are able to retrieve any PPD located somewhere on your available file system.
Printer Test and Finding the Right Settings
You are ready to start a test print.
Hit the Test button.
Banner Selection
Finally:
Baptizing Your New Printer
The last screen lets you insert a name for your new printer.
The Final Confirmation Screen
CUPS options presently not available through KControl
Overview of provided features
All of the most often used features and functions CUPS provides are supported in KDEPrint.
Printer management is supported: add, remove, modify, configure, test, disable, enable...
Job management is supported: cancel, hold, release, move to different printer
Print options: for full control as provided by CUPS.
Where to find help when using CUPS
CUPS is accessible through other means than KDEPrint: commandline and browser are two native CUPS interfaces.
The many commandline utilities add up to the most complete control you have on CUPS.
The web interface is only a subset of all available configuration or control options.
Depending on your update method for CUPS, your active configuration file might not have been re-placed by a new one; thus your new, more capable CUPS -daemon might not have been told by the old configuration file about the new features to use.
How to find CUPS related man pages
Here is a way to find out which CUPS related man pages there are on your system:
Outside KDEPrint:
Hints & Tips Tricks with CUPS on the Commandline
Here are a few examples of options that are presently only available if you use the commandline.
Allowing or denying printer access for certain users
When installing (or modifying) a printer through the command line, you can either deny or allow the usage of that printer to certain users:
will allow the usage of this (believe me: very nice and also very professional) printer to only the three mentioned users and at the same time deny it to all others.
If another user wants to print on the DigiMaster via this CUPS server, he will receive an error message along the lines client-error-not-possible.
will deny the usage of this same printer to the three mentioned users and at the same time allow it to all others.
If denied user wants to print on the DigiMaster via this CUPS server, he will receive an error message along the lines client-error-not-possible.
Only one of the two options may be used at one time; at present there is no support to have a similar option in a per-group based way.
This will be implemented in the future.
Imposing Quotas for certain printers
Sometimes you want to impose quotas for certain printers.
With quotas you can set upper limits for the number of pages or the amount of data to be printed over a certain period to a certain printer.
Quotas can be set with the -o option when installing a printer with the lpadmin command, or afterwards for an already existing printer.
Following are some guidelines (which are missing at the time of writing in the, official CUPS documentation):
With CUPS you may have pagecount- and filesize-based quotas for individual printers.
Quotas are calculated for each user individually (so a single set of limits applies to all users for the printer concerned).
Quotas include banner pages (if those are used).
This means: you can limit every user to 20 pages per day on an expensive printer, but you cannot limit every user except Kurt or root.
There are job-k-limit, job-page-limit, and job-quota-period options to give when setting up a printer.
job-quota-period sets a time interval for quota computing (intervals are determined in seconds; so a day is 60x60x24=86.400, a week is 60x60x24x7=604,800, and a month is 60x60x24x30=2.592.000 seconds.)
For quotas to be enforced, the time-period plus at least one job-limit must be set to non-zero.
The default value of 0 for job-k-limit specifies that there is no limit.
The default value of 0 for job-page-limit specifies that there is no limit.
The default value of 0 for job-quota-period specifies that the limits apply to all jobs that have been printed by a user that are still known to the system.
Working Examples:
Working, as both, time-period plus one or both job-limits are defined
This sets a limit of a file size of 1 MB (in total) for each user of existing printer danka_infotec_4850 during one week.
This sets a limit of 100 pages (in total) for each user of existing printer danka_infotec_4105 during one week.
This sets a combined limit of 1 MB (in total) and 100 pages (in total) for each user of existing printer danka_infotec_P450 during one week.
Whichever limit is reached first will take effect.
Not working examples
NOT working, as only one, time-period or job-limit is defined)
Related Error Messages
Once a user reaches his quota limit, he'll get a client-error-not-possible message, if he wants to print.
Installing a raw printer
There are different ways to define a raw printer.
One comfortable one is to use the lpadmin command.
Just don't define a PPD file to be used for that printer and it will be a raw one:
Raw printer queues are those which don't touch the print file to transform it to a different file format.
You need this for example when printing from Windows clients via Samba through a CUPS server to a PCL printer: in this case the Windows side printer driver would generate the finished print file format for the target printer and filtering it through CUPS filters would only harm the purpose.
Troubleshooting CUPS in KDEPrint
Error Messages
What does the error client-error-bad-request mean?
The user sent a file to the CUPS which the server could not process.
You get this also upon sending an empty file.
And client-error-not-possible?
User is either not allowed to print to a certain printer or has achieved his quota (based on file size and/or page number)
How about client-error-not-found?
The user tried to access a nonexistant resource on the CUPS server, such as trying to print a nonexistent file, or one that you are denied permission to read.
Questions and Answers
Why can't I re-start my jobs?
To be able to re-start your completed jobs from the web interface, you need a setting in the /etc/cups/cupsd.conf file: set PreserveJobFiles True.
How do I get rid of the long list of completed jobs in the web interface?
TODO
How does page accounting work?
CUPS does the print accounting by passing nearly every job through the pstops filter.
This one does, amongst other things, the page counting.
Output of this filter there may be piped into other filters (like pstoraster --> rastertopcl) or sent to the printer directly (if it is a PostScript printer).
In any case, this works for network, parallel, serial or USB printers the same.
For pstops to work, it needs DSC, Document Structuring Convention compliant PostScript (or near-equivalent) as input.
So it calculates the pages during filtering on the print server and writes info about every single page (what time, which user, which job-ID and -name, which printer, how many copies of which pages of the document, how many kilo-bytes?) into /var/log/cups/page_log.
By the way: on my personal wishlist is a hack of webalizer to read and analyse the page_log and give a similar output.
Anyone?
However, it is not giving correct results in the following cases:
The printer jams and maybe therefor throw away the job (real live experience; or maybe throwing away the job because of problems with the data format)
Jobs printed as raw are always counted as size of 1 page (and maybe multiple copies).
Therefore the page accounting of CUPS is only an approximation (in many cases an excellent or at least good one, in others a quite poor one).
The only reliable print count is the one done by the internal printer counter. (Because this is the one you pay for, if you are on a click price or similar.) Some, by far not most, printers can be queried remotely for that information via SNMP (Simple Network Management Protocol).
That means, in a bigger network with many different printers there is just no completely reliable and accurate page accounting tool!
Why doesn't page-accounting work with Windows clients?
From Windows clients jobs nearly always need to be sent as raw.
Why?
If CUPS works as a print server for Windows clients using the original native Windows driver for the target print device, this guarantees the correct formatting of the job on the clients already; therefor the server should not touch it and print raw; therefor no filtering is started (and this is not even possible as the input from the clients is not PostScript as pstops expects; hence no page-count other than the default 1.
How do I get a list of available options for a given printer or a PPD file?
See the man page for the lpoptions command.
You may investigate a CUPS -enabled box about any option of its available printers.
There is no need to have the printer installed locally.
As long as the printer is available locally (through the CUPS printer browsing feature), it will also work remote.
Remote server Transmeta and its CUPS daemon as well as the localhost's CUPS daemon need to be up and running for this to succeed.
How do I read the listing retrieved by the lpoptions command?
You know that for PostScript printer manufacturers it is legal to define their own internal names and procedures even for standard PostScript options.
As long as the driver is able to retrieve the option from the PPD and show it to the user in a way that he understands it everything is OK.
But what do you do, if you want to use some obscure printer options on the command line?
How do you find out its exact syntax?
The name of the investigated option is TR-Duplex;
Behind the slash you see the translation of the option, as it should be shown in a GUI or Web interface (Duplex);
The option may take one of the two values False or True;
How do I get a nicely formatted listing of available options for a given printer or PPD?
Use the lphelp command which may be installed on your system locally.
There is not yet a man page for lphelp.
This lists the available options for the named printer.
It is nicely formatted and does explain every available option and how to use it.
You can query different printers 'options at once:
It also works for PPD files.
Just specify the path to the PPD:
Solving Problems
No system is perfect.
Here are some commonly seen traps people have fallen into.
My printer named 3-lp-duplex shows erratic behavior.
What's wrong?
The printer names used in CUPS shall start with a letter and may contain up to 128 letters, numbers or underscores.
Using dashes may lead to problems.
Speaking about naming: printer names in CUPS are not case sensitive.
So a printer named Best_of_Danka will be the same as best_of_danka or BEST_OF_DANKA. (This is a requirement of IPP, which CUPS is fully compliant with).
Are the rights on the remote Windows box set correctly for you?
Are you actually allowed to print on the Windows shared printer?
My files for printer lp sometimes mysteriously disappear and two days later I am told they got printed on a printer 3 storeys below my office.
What's on?
Believe me, it is very unlikely that your printer is the only one with the name lp.
Maybe CUPS is playing a trick on you.
As you might have the setting ImplicitClasses On activated, CUPS tries to stuff all printers it sees on the network into a Class name lp.
All jobs destined to lp are sent to this class and the first available member prints it.
So if you had this nice fellow (who listened closely when you raved about CUPS and KDEPrint) install CUPS and poke around the system...get the idea?
Take my advice: choose a unique name for any network printer! (Mind you, the one on your parallel port also turns out to be a network printer for the rest of the world if you don't take care of your settings).
Modul f\xFCr das rlpr Programm
\xDCberblick der verf\xFCgbaren Funktionen
Druckerverwaltung: einfache Aufgaben werden unterst\xFCtzt (hinzuf\xFCgen/entfernen/ver\xE4ndern).
Jeder Benutzer kann die Drucker vordefinieren, die er benutzen will, indem er den Rechnernamen und die zugeh\xF6rige Warteschlange angibt.
Drucker werden auf Benutzerebene gespeichert.
Dieses Modul wurde zur Unterst\xFCtzung des rlpr Programms rlpr entwickelt.
Allgemeines LPD Modul (UNIX)
\xDCberblick der verf\xFCgbaren Funktionen
Allgemeines Modul, das nur das Senden von Druckauftr\xE4gen erlaubt.
Druckeinstellungen oder Einstellungen zu den Druckauftr\xE4gen werden nicht unterst\xFCtzt.
Das Modul funktioniert auf einer F\xFClle von UNIX -Systemen:
Linux / LPR, HP-UX, Solaris, IRIX.
Es unterst\xFCtzt auch einige LPRng Erweiterungen, wie die Abwesenheit des Fortf\xFChrungszeichen\ in printcap -Dateien.
LPR (BSD)
Einfache LPR Unterst\xFCtzung.
Ein LPRng Modul ist in der Entwicklung und wird hoffentlich mit dem Erscheinen der Version 3.0 vorliegen.
\xDCberblick der verf\xFCgbaren Funktionen
Druckereinstellungen: einfache Unterst\xFCtzung zum hinzuf\xFCgen/entfernen/einrichten eines Druckers.
Kompatibel mit Red Hat -6.x Systemen (printtool + rhs-Druckfilter Pakete).
Druckauftragseinstellungen: nicht unterst\xFCtzt
Druckeinstellungen: einfache M\xF6glichkeiten
LPRng
Module f\xFCr den externen Druckbefehl (z.B. bei Netscape)
Mit diesem Modul k\xF6nnen Sie den Druckbefehl genau angeben (z.B. bei Netscape).
Zu diesem Zweck wird dem Druckdialog eine Zeile hinzugef\xFCgt, die sich bearbeiten l\xE4sst.
Das Modul kann auf viele verschiedene Arten genutzt werden, z.B. mit einem selbst gemachten Druckprogramm.
\xDCberblick der verf\xFCgbaren Funktionen
Druckereinstellungen: nicht unterst\xFCtzt
Druckauftragseinstellungen: nicht unterst\xFCtzt
Druckeinstellungen: elementare Kontrollm\xF6glichkeiten, die von Ihren Kenntnissen \xFCber den Druckbefehl abh\xE4ngen
KDEPrint -Erweiterungen f\xFCr alle Drucksysteme
Virtuelle Drucker
Der Fax -Drucker
Der Datei -Drucker
Der PDF -Drucker
Externe Filter
Der enscript -Filter f\xFCr Textdateien
Der n-up -Filter f\xFCr alle Dateien
Drei verschiedene Pamphlet -Filter f\xFCr PostScript -Dateien
Abschlu\xDFbemerkungen des Autors
Wer bin ich, wo arbeite ich?
Meine Bekanntschaft zu Linux und der Free Software Gemeinschaft ist nicht sehr alt.
Als ich Anfang 1999 anfing mit Linux zu experimentieren war meine gr\xF6\xDFte Entt\xE4uschung die Tatsache, dass die Druckunterst\xFCtzung wenig ausgereift war.
Ich konnte zwar auf allen unseren Druckern einseitig bedruckte Seiten ausgeben, aber wie funktionierte beidseitiger Druck?
Wie konnte man die ausgegebenen Druckseiten lochen?
Wie konnte man die Seiten sortieren, Heften oder Titelseiten machen?
All diese Dinge, die unsere Maschinen k\xF6nnen waren f\xFCr mich nicht m\xF6glich.
Mitwirkende
Ich m\xF6chte folgenden Personen danken...
Mike Sweet, f\xFCr die Entwicklung von CUPS von Anfang an.
Jean-Eric Cuendet f\xFCr die Arbeit an kups und qtcups, den Vorg\xE4ngern von KDEPrint
Michael Goffioul f\xFCr die ganze harte Arbeit
Martin Konold daf\xFCr, dass er zweimal denkt.
... viele andere, die ihr Wissen mit mir geteilt haben
und zuletzt:
Tom Schwaller, der mich dazu ermutigt hat mit dem Schreiben von Dokumentationen zu beginnen
Anmerkungen
KDEPrint wurde auf einem CUPS System der Version 1.1.6 entwickelt.
KDEPrint wurde unter anderen CUPS Versionen getestet und bis jetzt sind keine Inkompatibilit\xE4ten bekannt.
Zum Zeitpunkt des Schreibens dieses Handbuchs liegt CUPS in der Version 1.1.9 vor.
Diese Version enth\xE4lt einige wenige neue Funktionen, die KDEPrint noch nicht unterst\xFCtzt.
Nat\xFCrlich k\xF6nnen Sie diese Funktionen benutzen indem Sie KDEPrint \xFCbergehen und die CUPS Kommandozeilenwerkzeuge benutzen oder die Einrichtungsdateien manuell bearbeiten.
Die Entwicklung von KDEPrint geht weiter und dieses Handbuch wird immer darum bem\xFCht sein die beste verf\xFCgbare Dokumentationsquelle daf\xFCr zu sein.
Mitwirkende und Lizenz
Copyright des Handbuchs 2001, Kurt Pfeifle, kpfeifle@danka.de
\xDCbersetzung des Handbuchs:
Philipp Siegert siegert@pp-services.de
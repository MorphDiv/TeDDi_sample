# language_name_wals:	German
# language_name_glotto:	German
# ISO_6393:	deu
# year_composed:	NA
# year_published:	NA
# mode:	written
# genre_broad:	technical
# genre_narrow:	NA
# writing_system:	Latn
# special_characters:	NA
# short_description:	KDE4
# source:	https://object.pouta.csc.fi/OPUS-KDE4/v2/raw/de.zip
# copyright_short:	http://opus.nlpl.eu/KDE4.php
# copyright_long:	http://opus.nlpl.eu/KDE4.php J. Tiedemann, 2012, Parallel Data, Tools and Interfaces in OPUS. In Proceedings of the 8th International Conference on Language Resources and Evaluation (LREC 2012)
# sample_type:	whole
# comments:	NA

Das Handbuch zu & kleopatra;
Marc Mutz
marc@kdab.net
David Faure
Entwickler
Steffen Hansen
& Steffen.Hansen.mail;
Matthias Kalle Dalheimer
Jesper Pedersen
& Jesper.Pedersen.mail;
Daniel Molkentin
& Daniel.Molkentin.mail;
Matthias Kalle Dalheimer kalle@kdab.net Deutsche Übersetzung
& kleopatra; ist ein Hilfsprogramm zum Verwalten von X.509- und OpenPGP-Zertifikaten.
KDE
Kapp
X509
LDAP
gpg
gpgsm
Einführung
& kleopatra; ist das & kde;-Programm zum Verwalten von X.509- und OpenPGP-Zertifikaten im & gpgsm;-Schlüsselspeicher, und zum Abfragen von Zertifikaten von LDAP -Servern.
& kleopatra; kann sowohl aus dem Menü Extras Zertifikatsverwaltung von & kmail; als auch von der Befehlszeile aus gestartet werden. Das ausführbare Programm von & kleopatra; heißt kleopatra.
Dieses Programm ist nach Kleopatra benannt, einer berühmten ägyptischen Pharaonin, die zur Zeit Julius Cäsars gelebt hat, mit dem sie eine intime Beziehung unterhalten haben soll.
Der Name wurde gewählt, weil dieses Programm aus dem Auml;gypten-Projekten stammt.
Die wichtigsten Funktionen
Anzeige des lokalen Schlüsselspeichers
Die wichtigste Funktion von & kleopatra; ist das Anzeigen und Editieren des Inhalts des lokalen Schlüsselspeichers, der dem Schlüsselring-Konzept von & gpg; ähnelt, auch wenn man diesen Vergleich nicht zu sehr bemühen sollte.
Das Hauptfenster besteht aus mehreren Un terfenstern mit Listen von Zertifikaten, der Menüleiste und der Suchleiste am oberen Rand, sowie der Statuszeile am unteren Rand.
Jede Zeile in der Schlüsselliste entspricht einem Zertifikat, das durch den sogenannten Betreff-dn; identifiziert wird. & dn; ist ein Akronym für den englischen Ausdruck Distinguished Name, ein hierarchischer Bezeichner, der einem Dateisystempfad mit ungewöhnlicher Syntax ähnelt und ein bestimmtes Zertifikat eindeutig global identifizieren soll.
Um gültig und damit verwendbar zu sein, müssen (öffentliche) Schlüssel von einer & ca; (Certification Authority; Zertifizierungsinstanz) signiert sein. Diese Signaturen werden Zertifikate genannt, aber normalerweise werden die Ausdrücke Zertifikat und (öffentlicher) Schlüssel austauschbar verwendet, sofern das nicht ausdrücklich anders angegeben ist.
& ca;s müssen ebenfalls wiederum von anderen & ca;s signiert sein, um gültig zu sein. Natürlich muss diese Kette irgendwo enden, deshalb signiert die oberste & ca; (die Wurzel-ca;) ihren Schlüssel mit sich selbst (dies wird eine Selbst-Signatur genannt). Wurzel-Zertifikaten muss daher die Gültigkeit (meistens Vertrauenswürdigkeit genannt) manuell zugewiesen werden, z.B. durch Vergleichen des Fingerabdrucks mit dem auf der Website der & ca;. Dies wird normalerweise vom Systemverwalter oder dem Hersteller des Produkts, das Zertifikate verwendet, vorgenommen, kann aber über die Befehlszeilenschnittstelle von & gpgsm; auch vom Benutzer durchgeführt werden.
Um zu sehen, welche Zertifikate Wurzel-Zertifikate sind, können Sie mit Ansicht Hierarchische Zertifikatsliste in den hierarchischen Anzeigemodus wechseln.
Sie können sich die Details eines beliebigen Zertifikats durch Doppelklick auf das Zertifikat oder durch Verwendung von Ansicht Zertifikatsdetails ansehen. Dabei wird ein Dialog geöffnet, in dem die gängigsten Eigenschaften des Zertifikats, dessen Zertifikatskette (d.h. die Kette der Aussteller bis zur Wurzel-ca;) und alle Informationen, die das Backend über das Zertifikat ermitteln kann, angezeigt werden.
Wenn Sie den Inhalt des Schlüsselspeichers außerhalb von & kleopatra; verändern (etwa über die Befehlszeilenschnittstelle von & gpgsm;), dann können Sie die Anzeige mit F5 Ansicht Anzeige auffrischen aktualisieren.
Zertifikate suchen und importieren
Normalerweise bekommen Sie neue Zertifikate durch Überprüfen von Signaturen in E-Mail-Nachrichten, weil die Zertifikate normalerweise in die Signaturen, die damit vorgenommen wurden, eingebettet werden. Wenn Sie aber jemandem eine Nachricht senden wollen, mit dem Sie bisher noch keinen Kontakt hatten, dann müssen Sie das Zertifikat aus einem LDAP-Ordner (gpgsm; kann das aber auch automatisch für Sie tun) oder einer Datei holen. Außerdem müssen Sie Ihr eigenes Zertifikat importieren, nachdem Sie die Antwort der & ca; auf Ihre Zertifizierungsanfrage bekommen haben.
Um ein Zertifikat in einem LDAP-Ordner zu suchen, wählen Sie Datei Zertifikate auf Server suchen... und geben einen Text wie & eg; der Namen der Person, deren Zertifikat Sie suchen, in das Eingabefeld des Dialogs Zertifikatssuche auf Schlüsselserver ein. Drücken Sie dann den Knopf Suchen. Gefundene Zertifikate werden dann in der Schlüsselliste unter der Suchleiste angezeigt. Wählen Sie ein Zertifikat aus, um sich mit Details zusätzliche Informationen anzeigen zu lassen oder klicken Sie auf Importieren, um das Zertifikat in den lokalen Schlüsselspeicher herunterzuladen.
Sie können die Liste der zu durchsuchenden LDAP-Server auf der Seite Verzeichnisdienste des Einrichtungsdialogs von & kleopatra; einstellen.
Wenn Sie die Zertifikate als eine Datei bekommen haben, versuchen Sie es mit Datei Zertifikate importieren.... & gpgsm; muss dazu das Format der Zertifikatsdatei unterstützen; im & gpgsm;-Handbuch finden Sie eine Liste der unterstützten Dateiformate.
Wenn Sie Ihr Schlüsselpaar nicht mit & gpgsm; erzeugt haben, müssen Sie auch den öffentlichen und den geheimen Schlüssel aus der PKCS#12-Datei importieren, die Sie von der & ca; bekommen haben. Dies können Sie von der Befehlszeile aus mit kleopatra --import-certificate dateiname oder in & kleopatra; mit Datei Zertifikate importieren... durchführen, genauso, wie Sie es auch für normale Zertifikate tun würden.
Neue Schlüsselpaare erzeugen
Der Menüeintrag Datei Neues Zertifikat... startet den Assistenten zur Erstellung des Zertifikats, der Sie durch die notwendigen Schritte zur Erzeugung einer Zertifikatsanfrage führt.
Wenn Sie mit dem Ausfüllen einer Seite im Assistenten fertig sind, klicken Sie auf Vor, um zum nächsten Schritt zu kommen (mit Zurück können Sie bereits durchgeführte Schritte noch einmal anschauen). Die Erzeugung der Zertifikatsanfrage kann jederzeit mit der Schaltfläche Abbrechen abgebrochen werden.
Auf der ersten Seite des Assistenten wird die Art des Zertifikats ausgewählt, das erstellt werden soll.
Persönliches OpenPGP-Schlüsselpaar erzeugen
OpenPGP-Schlüsselpaare werden lokal auf Ihrem Rechner erstellt und von Ihren Freunden und Bekannten beglaubigt. Es gibt keine zentrale Beglaubigungsinstanz; jeder Anwender erstellt ein persönliches Netz des Vertrauens durch die Beglaubigung der Schlüsselpaare anderer durch sein eigenes Zertifikat.
Es muss ein Name, eine E-Mail -Addresse und wahlweise ein Kommentar eingegeben werden.
Persönliches X.509-Schlüsselpaar und Beglaubigungs-Anfrage erstellen
X.509-Schlüsselpaare werden lokal erstellt, aber zentral durch eine Beglaubigungsinstanz (Certificate Authority, CA) beglaubigt. CAs können andere CAs beglaubigen, dadurch entsteht eine hierarchische Vertrauenskette.
Der nächste Schritt im Assistenten besteht darin, Ihre persönlichen Daten für das Zertifikat einzutragen. Die auszufüllenden Felder lauten:
Allgemeiner Name (CN): Ihr Name;
E-Mail-Adresse (EMAIL): Ihre E-Mail-Adresse; geben Sie diese sorgfältig ein, denn an diese Adresse werden Nachrichten verschickt, wenn Ihr Zertifikat verwendet wird.
Ort (L): Die Stadt oder der Ort, wo Sie leben;
Abteilung (OU): Die Organisationseinheit, zu der Sie gehören (etwa Logistik);
Organisation (O): Die Organisation, die Sie repräsentieren (etwa Ihr Arbeitgeber);
Ländercode (C): Der zweibuchstabige Code, der das Land bezeichnet, in dem Sie leben (z.B. DE);
Im nächsten Schritt des Assistenten wählen Sie aus, ob das Zertifikat in einer Datei gespeichert oder direkt an eine & ca; geschickt werden soll. Sie müssen entweder den Dateinamen oder die E-Mail-Adresse, an die die Zertifikatsanfrage geschickt werden soll, angeben.
Verwaltung des Schlüsselspeichers
Neben dem Anzeigen und Validieren, Suchen und Importieren und Erzeugen von Zertifikaten, enthält & kleopatra; auch eine Reihe seltener verwendeter Funktionen, die Ihnen bei der Verwaltung Ihres lokalen Schlüsselspeichers helfen.
Zu diesen Funktionen gehören das Löschen von Zertifikaten aus dem lokalen Schlüsselspeicher mit Entf Zertifikate Löschen, sowie das Umgehen mit CRLs (Extras Zertifikate aktualisieren, Extras Sperrlisten-Zwischenspeicher leeren und Extras Sperrlisten-Zwischenspeicher ausgeben).
Menüreferenz
Das Menü Datei
Ctrl; N Datei Neues Zertifikat...
Erzeugt ein neues Schlüsselpaar (aus öffentlichem und privatem Schlüssel) und ermöglicht das Verschicken des öffentlichen Teils an eine Zertifizierungsinstanz (ca;) zur Signierung. Das resultierende Zertifikat wird an Sie zurückgeschickt oder in einem LDAP-Server gespeichert, von wo Sie es in Ihren lokalen Schlüsselspeicher herunterladen können, wo es zum Signieren und Entschlüsseln von Nachrichten dient.
Dieser Betriebsmodus wird dezentrale Schlüsselerzeugung genannt, weil alle Schlüssel lokal erzeugt werden. & kleopatra; (und & gpgsm;) unterstützt die zentrale Schlüsselerzeugung nicht direkt, aber Sie können das Bündel aus öffentlichem und geheimen Schlüssel, das Sie von der & ca; im PKCS#12-Format bekommen, mit Datei Zertifikate importieren... importieren.
Ctrl; I Datei Zertifikate importieren...
Importiert Zertifikate und/oder geheime Schlüssel aus Dateien in den lokalen Schlüsselspeicher.
Das Format der Zertifikatsdatei muss von & gpgsm; unterstützt werden. Im Handbuch von & gpgsm; finden Sie eine Liste der unterstützten Formate.
Ctrl; E Datei Zertifikate exportieren...
Exportiert die ausgewählten Zertifikate in eine Datei.
Diese Funktion exportiert nur die öffentlichen Schlüssel; auch wenn geheime Schlüssel verfügbar sind. Mit Datei Geheimen Schlüssel exportieren... können Sie sowohl die öffentlichen als auch die geheimen Schlüssel in eine Datei exportieren; beachten Sie aber, dass das fast nie eine gute Idee ist.
Datei Geheimen Schlüssel exportieren...
Exportiert sowohl den öffentlichen als auch den geheimen Schlüssel in eine (PKCS#12) Datei.
Diese Funktion benötigt man nur sehr selten, und wenn das doch einmal der Fall sein sollte, dann sollte dies sorgfältig geplant werden. Zur Planung der Migration eines geheimen Schlüssels gehört neben vielen anderen Dingen die Wahl des Transportmediums und das sichere Löschen der Schlüsseldaten auf dem alten Rechner sowie dem Transportmedium.
Ctrl; Q Datei Beenden
Beendet & kleopatra;.
Das Menü Ansicht
F5 Ansicht Anzeige auffrischen
Zeigt die ausgewählten Zertifikate erneut an oder aktualisiert die Zertifikatsliste.
Wenn Zertifikate ausgewählt sind, beschränkt sich die Aktualisierungsoperation auf die ausgewählten Einträge.
Wenn gerade ein (entferntes oder lokales) Abfrageergebnis angezeigt wird, wird die Abfrage erneut ausgeführt und die neuen Ergebnisse anstelle der alten angezeigt.
Wenn keine Abfrage ausgeführt wurde, wird der gesamte Inhalt des Schlüsselspeichers neu eingelesen und angezeigt.
Sie können diese Funktion verwenden, wenn Sie den Inhalt des Schlüsselspeichers auf andere Weise als mit & kleopatra; verändert haben (etwa mit der Befehlszeilenschnittstelle von & gpgsm;)
Esc Ansicht Vorgang abbrechen
Bricht alle schwebenden Operationen ab, etwa eine Suche oder ein Herunterladen.
Je nach verwendetem Server kann das Abbrechen einer entfernten Suche & kleopatra; einige Sekunden blockieren, während das Backend den Vorgang abbricht. Dies ist völlig normal.
Ansicht Zertifikatsdetails anzeigen...
Zeigt die Details des derzeit ausgewählten Zertifikats an.
Diese Funktion kann auch direkt durch Doppelklicken des entsprechenden Eintrags in der Zertifikatsliste aufgerufen werden.
Ansicht Hierarchische Zertifikatsliste
Schaltet zwischen der hierarchischen und der flachen Anzeige der Schlüsselliste um.
Im hierarchischen Modus werden die Zertifikate nach Aussteller und Subjekt angeordnet, so dass man einfach sehen kann, zu welcher Zertifikationshierarchie ein bestimmtes Zertifikat gehört; ein bestimmtes Zertifikat kann aber anfangs schwerer zu finden sein (zum Suchen können Sie aber natürlich die Suchleiste verwenden).
In der flachen Ansicht werden alle Zertifikate alphabetisch sortiert in einer flachen Liste angezeigt. In diesem Modus kann man ein bestimmtes Zertifikat leicht finden, aber es ist nicht direkt ersichtlich zu welchem Wurzel-Zertifikat es gehört.
Ctrl;. Ansicht Alle aufklappen
Diese Funktion steht nur zur Verfügung, wenn Ansicht Hierarchische Zertifikatsliste ausgewählt ist.
Klappt alle Listeneinträge in der Zertifikatsliste auf, macht also die untergeordneten Einträge sichtbar.
Dies ist die Standardeinstellung, wenn in die hierarchische Ansicht umgeschaltet wird.
Natürlich können Sie auch weiterhin jeden Eintrag einzeln ein- und ausklappen.
Ctrl;, Ansicht Alle einklappen
Klappt alle Listeneinträge in der Zertifikatsliste ein, macht also alle Einträge außer denen auf der obersten Ebene unsichtbar.
Das Menü Zertifikate
Entf Zertifikate Löschen
Löscht die ausgewählten Zertifikate aus dem lokalen Schlüsselspeicher.
Verwenden Sie diese Funktion, um unbenutzte Schlüssel aus Ihrem lokalen Schlüsselspeicher zu entfernen. Weil Zertifikate aber normalerweise an signierte E-Mail-Nachrichten angehängt sind, kann das Überprüfen einer Nachricht dazu führen, dass ein Schlüssel, den Sie gerade entfernt haben, wieder im lokalen Schlüsselspeicher auftaucht. Daher sollte man dies Funktion weitgehend vermeiden. Wenn Sie sich in den Zertifikaten nicht mehr zurechtfinden, verwenden Sie die Suchleiste oder die Funktion Ansicht Hierarchische Schlüsselliste, um wieder klar zu sehen.
Zertifikate Zertifikat ausgeben
Zeigt den genauen Inhalt des Sperrlisten-Zwischenspeichers von & gpgsm; an.
Das Menü Extras
Extras GnuPG-Protokollanzeige...
Startet kwatchgnupg;, ein Hilfsprogramm, mit dem Sie die Ausgaben des Programms GnuPG verfolgen können. Wenn das Signieren, Verschlüsseln oder Überprüfen auf einmal mysteriöserweise nicht mehr funktioniert, können Sie so möglicherweise den Grund dafür herausfinden.
Extras X.509- oder OpenPGP-Zertifikate aktualisieren
Das Aktualisieren von X.509- oder OpenPGP-Zertifikaten beinhaltet das erneute Herunterladen aller Zertifikate und Sperrlisten, um zu überprüfen, ob sie in der Zwischenzeit zurückgezogen wurden.
Dies kann Ihre Netzwerkverbindung stark belasten und kann bis zu einer Stunde oder länger andauern, abhängig von der Geschwindigkeit Ihrer Netzwerkanbindung sowie der Anzahl der zu überprüfenden Zertifikate.
Extras Sperrlisten-Zwischenspeicher löschen...
Leert den Sperrlisten-Zwischenspeicher von & gpgsm;.
Diese Funktion benötigen Sie wahrscheinlich nie. Sie können das Aktualisieren des Sperrlisten-Zwischenspeichers erzwingen, indem Sie alle Zertifikate auswählen und Extras Zertifikate aktualisieren aufrufen.
Extras Sperrlisten-Zwischenspeicher ausgeben....
Zeigt den genauen Inhalt des Sperrlisten-Zwischenspeichers von & gpgsm; an.
Extras GnuPG-Hintergrundprogramm einrichten...
Öffnet einen Dialog, in dem Sie sämtliche Einstellungen von & gpgsm; und anderen Backend-Modulen einstellen können.
Dieser Dialog wird dynamisch aus der Ausgabe des Hilfsprogramms & gpgconf; aufgebaut und kann sich daher ändern, wenn sich die Backend-Module ändern.
Das Menü Einstellungen
Einstellungen Statusleiste anzeigen
Schaltet die Anzeige der Statuszeile am unteren Rand ein und aus.
Einstellungen Kurzbefehle festlegen...
Öffnet den Standard-kde;-Konfigurationsdialog für Tastaturkürzel, indem Sie allen Menüeinträgen Tastaturkürzel zuweisen und diese auch wieder löschen können.
Einstellungen kleopatra; einrichten...
Öffnet den Konfigurationsdialog von & kleopatra;.
Näheres finden Sie in.
Das Menü Fenster
Im Menü Fenster können die Unterfenster verwaltet werden. Mit den Einträgen können Unterfenster umbenannt, hinzugefügt, dupliziert, geschlossen und nach rechts oder links verschoben werden.
Wenn Sie mit der & RMBn; auf einen Karteireiter klicken, wird ein Kontextmenü mit denselben Aktion geöffnet.
Das Menü Hilfe
Das Menü Hilfe enthält das Standard-kde;-Hilfemenü.
& help.menu.documentation;
Referenz der Befehlszeilenoptionen
Hier werden nur die & kleopatra;-spezifischen Optionen aufgezählt. Wie bei allen & kde;-Applikationen können Sie durch Aufrufen von kleopatra --help eine vollständige Liste aller Optionen bekommen.
--external
Nur Benutzerschnittstellen-Server starten, Hauptfenster nicht anzeigen
-p --openpgp
Für die folgende Operation OpenPGP verwenden
-c --cms
Für die folgende Operation CMS (X.509, S/MIME) verwenden
-i --import-certificate
Gibt eine Datei oder & URL; an, aus der Zertifikate (oder geheime Schlüssel) importiert werden sollen.
Dies ist das Befehlszeilen-Gegenstück zu Datei Zertifikate importieren....
-e --encrypt
Datei(en) verschlüsseln
-s --sign
Datei(en) unterschreiben
-E --encrypt-sign
Datei(en) verschlüsseln und/oder signieren
-d --decrypt
Datei(en) entschlüsseln
-V --verify
Datei/Signatur überprüfen
-D --decrypt-verify
Dateien entschlüsseln/überprüfen
& kleopatra; einrichten
Sie erreichen den Konfigurationsdialog von & kleopatra; über Einstellungen kleopatra; einrichten....
Sämtliche Seiten dieses Dialogs werden in den folgenden Abschnitten beschrieben.
Verzeichnisdienste konfigurieren
Auf dieser Seite können Sie einstellen, in welchen LDAP-Servern nach Zertifikaten gesucht werden soll. Außerdem können Sie die Suchreihenfolge festlegen, sowie einige ausgewählte LDAP-Einstellungen vornehmen, die aus dem über Extras GnuPG-Hintergrundprogramm einrichten... verfügbaren dynamischen Einrichtungsdialog des Hintergrundprogramms stammen.
Um einen neuen Server hinzuzufügen, klicken Sie auf den Knopf Neu. Dann können Sie Servername, Server-Port (voreingestellt ist der Standard-LDAP-Port), Basis-dn; (manchmal auch als Suchwurzel oder Suchbasis bezeichnet), den Benutzername und das Passwort eingeben, die letzteren beiden werden nur benötigt, wenn der Server Authentifizierung verlangt.
Um einen Server aus der Suchliste zu entfernen, wählen Sie ihn in der Liste aus und betätigen dann den Knopf Löschen.
Mit dem Eingabefeld LDAP-Zeitüberschreitung (Minuten:Sekunden) können Sie die LDAP-Zeitüberschreitung einstellen, also die maximale Zeit, die das Hintergrundprogramm auf die Antwort eines Servers warten soll.
Wenn einer Ihrer Server eine so große Datenbank enthält, dass selbst sinnvolle Suchanfragen wie Schmidt die Maximale Anzahl Treffer bei Anfragen überschreiten, dann können Sie diese Begrenzung heraufsetzen. Sie können leicht feststellen, wenn das der Fall ist, weil ein Dialog erscheinen wird, der Ihnen mitteilt, dass die Suchergebnisse verkürzt worden sind.
Einige Server haben eigene Beschränkungen, wieviele Einträge sie in einer Abfrage zurückgeben. In diesem Fall führt das Heraufsetzen der Begrenzung in diesem Dialog natürlich zu keiner Änderung.
Visuelle Einstellungen konfigurieren
Sie können in & kleopatra; die Darstellung (überprüfter) Schlüssel in der Schlüsselliste konfigurieren. Dazu gehören die Vordergrund- (Text-) und Hintergrundfarbe sowie der Zeichensatz.
Jeder Schlüsselkategorie auf der linken Seite ist ein Satz von Farben und ein Zeichensatz zugeordnet, in denen die Schlüssel, die zu dieser Kategorie gehören, dargestellt werden. Die Kategorieliste dient auch als Vorschau für die Einstellungen. Der Systemverwalter oder erfahrene Benutzer können die Kategorien frei definieren; siehe dazu in.
Um die Text- (Vordergrund-) Farbe einer Kategorie zu ändern, wählen Sie die Kategorie in der Liste aus und klicken auf Textfarbe einstellen... Der Standard-Farbdialog von & kde; erscheint, indem Sie eine Farbe auswählen oder eine neue erstellen können.
Die Hintergrundfarbe wird auf die gleiche Weise geändert, verwenden Sie hier die Schaltfläche Hintergrundfarbe einstellen....
Sie haben zwei Möglichkeiten, den Zeichensatz einzustellen:
Verändern Sie den Standard-Zeichensatz, der für alle Listenanzeigen in & kde; verwendet wird.
Verwenden Sie einen benutzerdefinierten Zeichensatz.
Die erste Option hat den Vorteil, dass der Zeichensatz Ihren & kde;-weiten Stileinstellungen folgen wird, während Sie bei der letzteren Möglichkeit die volle Kontrolle über den zu verwendenden Zeichensatz haben. Die Wahl liegt bei Ihnen.
Um den Standard-Zeichensatz zu verändern, wählen Sie die Kategorie in der Liste und ändern Sie die Modifikatoren Kursiv, Fett und/oder Durchgestrichen. Sie können den Effekt auf den Zeichensatz in der Kategorienliste unmittelbar sehen.
Um einen benutzerdefinierten Zeichensatz einzustellen, klicken Sie auf die Schaltfläche Zeichensatz einstellen.... Der Standard-Zeichensatzdialog von & kde; erscheint, in dem Sie den neuen Zeichensatz einstellen können. Beachten Sie, dass Sie die Modifikatoren weiterhin verwenden können; genau wie beim Standard-Zeichensatz.
Um auf den Standard-Zeichensatz zurückzuschalten, verwenden Sie die Schaltfläche Default-Aussehen.
Die Anzeigereihenfolge der & dn;-Attribute einstellen
& dn;s sind zwar hierarchisch, aber die Reihenfolge der einzelnen Komponenten (auch relative & dn;s (RDNs) oder & dn;-Attribute genannt) ist nicht definiert. Die Reihenfolge, in der die Attribute angezeigt werden, ist daher eine Frage des persönlichen Geschmacks oder von Firmenvorgaben, weswegen Sie diese Reihenfolge in & kleopatra; konfigurieren können.
Diese Einstellung gilt nicht nur für & kleopatra;, sondern für alle Anwendungen, die & kleopatra;-Technologie verwenden. Dazu gehören derzeit & kmail;, & kaddressbook; und natürlich & kleopatra; selbst.
Diese Konfigurationsseite besteht im wesentlichen aus zwei Listen, eine für die bekannten Attribute (Verfügbare Attribute) und eine, die die Aktuelle Attributreihenfolge beschreibt.
Beide Listen enthalten Einträge, die sowohl durch die Kurzform des Attributs (eg; CN) als auch durch die ausgeschriebene Form (Allgemeiner Name) beschrieben werden.
Die Einträge in der Liste Verfügbare Attribute sind immer alphabetisch sortiert, während die Reihenfolge in der Liste Aktuelle Attributreihenfolge die eingestellte Reihenfolge der & dn;-Attribute wiederspiegelt; das erste Attribut in dieser Liste wird auch als erstes angezeigt.
Nur Attribute, die explizit in der Liste Aktuelle Attributreihenfolge: aufgeführt sind, werden überhaupt angezeigt. Der Rest ist in der Voreinstellung ausgeblendet.
Wenn aber der Platzhalter _X_ (Alle anderen) in der aktuellen Liste steht, dann werden alle nicht aufgeführten Attribute (ob bekannt oder nicht) an der Position des _X_ in ihrer ursprünglichen relativen Reihenfolge eingefügt.
Ein kleines Beispiel soll dies deutlicher machen:
Im & dn;
O=kde;, C=US, CN=Dave Devel, X-BAR=foo, OU=kleopatra;, X-FOO=bar,
die Standardreihenfolge der Attribute CN, L, _X_, OU, O, C ergibt folgenden formatierten & dn;.
CN=Dave Devel, X-BAR=foo, X-FOO=bar, OU=kleopatra;, O=kde;, C=US
CN, L, OU, O, C dagegen ergibt
CN=Dave Devel, OU=kleopatra;, O=kde;, C=US
Um ein Attribut zur Anzeigeliste hinzuzufügen, wählen Sie es in der Liste der verfügbaren Attribute aus und klicken auf die Schaltfläche Zur aktuellen Attributreihenfolge hinzufügen.
Um ein Attribut aus der Anzeigeliste zu entfernen, wählen Sie es in dieser aus und klicken auf die Schaltfläche Von der aktuellen Attributreihenfolge entfernen.
Um ein Attribut an den Anfang oder das Ende zu verschieben, wählen Sie es in der Anzeigeliste aus und klicken auf eine der Schaltflächen Nach ganz oben oder Nach ganz unten.
Um ein Attribut um eine Position nach oben oder unten zu verschieben, wählen Sie es in der Anzeigeliste aus und klicken auf eine der Schaltflächen Nach oben oder Nach unten.
Handbuch für den Systemverwalter
Dieses Handbuch für den Systemverwalter beschreibt Möglichkeiten, & kleopatra; zu konfigurieren, die nicht über die grafische Benutzerschnittstelle, sondern nur über Konfigurationsdateien erreichbar sind.
Wir gehen hier davon aus, dass der Leser mit der Technologie zum Konfigurieren von & kde;-Applikationen vertraut ist. Dazu gehören das Format, die Lage im Dateisystem und das Kaskadieren von & kde;-Konfigurationsdateien, sowie das KIOSK-System.
Anpassung des Assistenten zum Erzeugen von Zertifikaten
Sie können in & kleopatra; die Felder anpassen, die der Benutzer ausfüllen muss, um ein Zertifikat zu erzeugen.
Legen Sie eine Gruppe namens CertificateCreationWizard in der systemweiten kleopatrarc -Datei an. Wenn Sie die Reihenfolge der Attribute verändern wollen, oder nur bestimmte Elemente anzeigen wollen, dann definieren Sie einen Schlüssel namens DNAttributeOrder. Das Argument besteht aus einem oder mehreren der Elementen CN,SN,GN,L,T,OU,O,PC,C,SP,DC,BC,EMAIL. Wenn Sie Felder mit einem bestimmten Wert initialisieren wollen, dann schreiben Sie Attribut=Wert. Wenn das Attribut obligatorisch sein soll, dann stellen Sie ihm ein Ausrufungszeichen voran (wie in CN!,L,OU,O!,C!,EMAIL!, der Default-Konfiguration).
Mit dem KIOSK -Modus-Modifikator $e können Sie Werte aus Umgebungsvariablen oder einem ausgewerteten Skript oder Binärprogramm verwenden. Wenn Sie außerdem noch das Editieren des entsprechenden Feldes verhindern wollen, verwenden Sie den Modifikator $i. Wenn Sie die Benutzung der Schaltfläche Meine Adresse einfügen verbieten wollen, dann setzen Sie ShowSetWhoAmI auf false.
Aufgrund der Funktionsweise des KIOSK -Systems von & kde;, ist es für den Benutzer unmöglich, den Schalter $i zu überschreiben. Das ist das beabsichtigte Verhalten. $i und $e können auch bei allen anderen Konfigurationsschlüsseln in & kde;-Applikationen verwendet werden.
Das folgende Beispiel zeigt mögliche Anpassungen:
[CertificateCreationWizard] ;Persönliche Daten dürfen nicht aus dem Adressbuch kopiert werden; ;lokales Überschreiben ist verboten ShowSetWhoAmI[$i]=false ;Benutzername mit $USER vordefinieren CN[$e]=$USER ;Firmenname mit "Meine Firma" vordefinieren; editieren verbieten O[$i]=Meine Firma ;Den Abteilungsnamen mit dem Rückgabewert eines Skripts vordefinieren OU[$ei]=$(lookup_dept_from_ip); das Land mit DE vordefinieren, aber Änderungen durch den Benutzer zulassen C=DE
Schlüsselkategorien erzeugen und editieren
Sie können in & kleopatra; das Aussehen von Schlüsseln auf der Basis eines Konzepts namens Schlüsselkategorien verändern. Schlüsselkategorien werden auch benutzt, um die Liste der Zertifikate zu filtern. In diesem Abschnitt beschreiben wir, wie Sie die verfügbaren Kategorien editieren und neue hinzufügen können.
Um herauszufinden, zu welcher Kategorie ein Schlüssel gehört, versucht & kleopatra;, den Schlüssel mit einer Folge von Schlüsselfiltern abzugleichen, die in der Datei libkleopatrarc konfiguriert sind. Der erste passende Filter definiert die Kategorie, basierend auf dem später erläuterten Konzept der Genauigkeit.
Jeder Schlüsselfilter ist in einer Konfigurationsgruppe namens Key Filter # n definiert, wobei n eine Zahl ist, beginnend bei 0.
Die einzigen obligatorischen Schlüssel in einer solchen Key Filter # n -Gruppe sind der Name, der den Namen der Kategorie enthält, wie er im Konfigurationsdialog angezeigt wird und id, die als Verweis auf Filter in anderen Abschnitten der Einrichtungsdatei dient, wie zum Beispiel View # n.
führt alle Schlüssel auf, die die Anzeigeeigenschaften von Schlüsseln dieser Kategorie definieren (d.h. die Schlüssel, die im Konfigurationsdialog editiert werden können), wohingegen alle Schlüssel auflistet, die die Kriterien definieren, anhand denen Filter mit Schlüsseln verglichen werden.
Schlüsselfilter-Konfigurationsschlüssel, die Anzeigeeigenschaften definieren
Konfigurationsschlüssel
Typ
Beschreibung
background-color
Farbe
Die zu verwendende Hintergrundfarbe. Wenn dieser Schlüssel nicht vorhanden ist, wird als Vorgabe die global definierte Hintergrundfarbe für Listenansichten verwendet.
foreground-color
Die zu verwendende Vordergrundfarbe. Wenn dieser Schlüssel nicht vorhanden ist, wird als Vorgabe die global definierte Vordergrundfarbe für Listenansichten verwendet.
font
Zeichensatz
Der zu verwendende benutzerdefinierte Zeichensatz. Der Zeichensatz wird auf die für Listenansichten konfigurierte Größe skaliert, und mit Zeichensatzattributen (siehe unten) versehen.
font-bold
Bool'scher Wert
Wenn dieser Schlüssel den Wert true hat und font nicht gesetzt ist, dann wird der Default-Listen-Zeichensatz in Fettschrift (so verfügbar) verwendet. Wenn auch font vorhanden ist, wird dieser Schlüssel ignoriert.
font-italic
Analog zu font-bold, aber für kursiven Schriftstil anstelle von fettem.
font-strikeout
Wenn dieser Schlüssel den Wert true hat, dann wird eine zentrierte Linie durch den Zeichensatz gezogen. Wird auch dann verwendet, wenn font gesetzt ist.
icon
Text
Der Name eines Icons, das in der ersten Spalte angezeigt wird. Noch nicht implementiert.
Schlüsselfilter-Konfigurationsschlüssel, die Filterkriterien definieren
Wenn dieser Schlüssel angegeben ist, passt der Filter, wenn...
is-revoked
der Schlüssel widerrufen worden ist.
match-context
context
Kontext besteht aus einer Aufzählung der folgenden zulässigen Werte: appearance, filtering und any.
der Kontext der auf diesen Filter passt.
is-expired
der Schlüssel abgelaufen ist.
is-disabled
der Schlüssel vom Benutzer deaktiviert worden ist (nicht mehr benutzt werden soll). Wird bei & smime;-Schlüsseln ignoriert.
is-root-certificate
der Schlüssel ein Wurzelzertifikat ist. Wird bei OpenPGP-Schlüsseln ignoriert.
can-encrypt
der Schlüssel zum Verschlüsseln verwendet werden kann.
can-sign
der Schlüssel zum Signieren verwendet werden kann.
can-certify
der Schlüssel zum Signieren (Zertifizieren) anderer Schlüssel verwendet werden kann.
can-authenticate
der Schlüssel zur Authentifikation (etwa als TLS -Client-Zertifikat) verwendet werden kann.
is-qualified
der Schlüssel kann benutzt werden, um qualifizierte Signaturen zu erzeugen, wie sie im deutschen Signaturgesetz ((Gesetz über Rahmenbedingungen für elektronische Signaturen) definiert sind.
is-cardkey
der Schlüssel wird auf einer Chipkarte und nicht auf dem Rechner gespeichert.
has-secret-key
der geheime Schlüssel zu diesem Schlüsselpaar zur Verfügung steht.
is-openpgp-key
der Schlüssel ein OpenPGP-Schlüssel (true) oder ein & smime;-Schlüssel (false) ist.
was-validated
der Schlüssel überprüft worden ist.
prauml;fix -ownertrust
Gültigkeit
Die Gültigkeit ist eine (geordnete) Aufzählung mit den folgenden zulässigen Werten: unknown, undefined, never, marginal, full und ultimate. Eine vollständige Beschreibung finden Sie in den Handbüchern zu & gpg; und & gpgsm;.
der Schlüssel hat genau (prauml;fix nbsp;=nbsp; is), hat alle außer (prauml;fix nbsp;=nbsp; is-not), hat mindestens (prauml;fix nbsp;=nbsp; is-at-least), oder hat höchstens (prauml;fix nbsp;=nbsp; is-at-most) den Ownertrust, der als Wert des Konfigurationsschlüssels angegeben ist. Wenn mehr als ein prauml;fix -ownertrust -Schlüssel (mit unterschiedlichen prauml;fix -Werten) in einer einzigen Gruppe steht, ist das Verhalten undefiniert.
prauml;fix -validity
Entsprechend prauml;fix -ownertrust, aber für die Gültigkeit von Schlüsseln anstelle von Ownertrust.
Einige der interessanteren Kriterien wie is-revoked oder is-expired funktionieren nur bei validierten Schlüsseln, weswegen defaultmäßig nur überprüfte Schlüssel auf Widerruf oder Ablauf geprüft werden, auch wenn es Ihnen frei steht, diese zusätzlichen Abfragen zu entfernen.
Zusätzlich zu den oben genannten Konfigurationsschlüsseln kann ein Schlüsselfilter auch noch die Attribute id und match-contexts haben.
Mit der id des Filters ist überall in der Konfiguration der Zugriff auf den Schlüsselfilter möglich, & eg; in & kleopatra;s Konfiguration des Erscheinungsbilds. Der Standardwert der id ist der Name der Gruppe in der Konfigurationsdatei, falls nicht anders angegeben. Der Wert darf auch nicht gesetzt sein. Die id wird durch & kleopatra; nicht verarbeitet und kann daher einen beliebigen Text enthalten, der aber eindeutig sein muss.
Das Attribut match-contexts begrenzt die Anwendungsmöglichkeit des Filters. Es sind zurzeit zwei Kontexte definiert: appearance wird benutzt zur Definition von Farben und Schriften für die Anzeige. Mit filtering werden Zertifikate in der Ansicht ein- oder ausgeblendet. any kann zur Kennzeichnung aller aktuell definierten Kontexte verwendet werden. Dies ist die Voreinstellung, wenn match-contexts nicht definiert ist oder sich ansonsten kein Kontext ergibt. Damit wird sichergestellt, dass es keinen Filter ohne Kontext gibt.
Ein Eintrag besteht aus einer Liste von Zeichengruppen, getrennt durch Leerzeichen. Jeder Zeichengruppe kann ein Ausrufungszeichen (!) vorangestellt werden, damit wird der Ausdruck verneint. Die Zeichengruppen werden der Reihe nach auf eine interne Liste von Kontexten angewendet, die zu Beginn leer ist. Das lässt sich am Besten an einem Beispiel erklären: any !appearance entspricht filtering, und appearance !appearance ebenso wie !any ergeben eine leere Menge. Die letzten beiden Ergebnisse werden intern durch any ersetzt, da sie keinerlei Kontext ergeben.
Nicht angegebene Kriterien (Kriterien, deren Konfigurationsschluuml;ssel nicht angegeben ist), werden nicht abgefragt. Wenn ein Kriterium angegeben ist, dann wird es abgefragt und muss zutreffen, damit der Filter als Ganzes zutrifft; die einzelnen Kriterien werden also UND-verknüpft.
Jeder Filter beinhaltet eine Genauigkeit, die alle passenden Filter bewertet. Der genauere Filter wird dem weniger genauen vorgezogen. Haben zwei Filter die gleiche Genauigkeit, wird der zuerst in der Konfigurationsdatei aufgeführte benutzt. Die Genauigkeit entspricht der Anzahl der Kriterien des Filters.
Beispiele für Schlüsselfilter
Um alle abgelaufenen, aber nicht widerrufenen Wurzel-Zertifikate abzufragen, würden Sie den folgenden Schlüsselfilter verwenden:
< !-- -- > [Key Filter # n] Name=abgelaufen, aber nicht widerrufen was-validated=true is-expired=true is-revoked=false is-root-certificate=true; (specificity 4) < !-- -- >
Um alle deaktivierten OpenPGP-Schlüssel (derzeit noch nicht von & kleopatra; unterstützt) mit einem Ownertrust von mindestens marginal abzudecken, verwenden Sie:
< !-- -- > [Key Filter # n] Name=deaktivierte OpenPGP-Schlüssel mit einem Ownertrust von marginal oder besser is-openpgp=true is-disabled=true is-at-least-ownertrust=marginal; (specificity 3) < !-- -- >
Danksagungen und Lizenz
& kleopatra; Copyright 2002 & Steffen.Hansen;, & Matthias.Kalle.Dalheimer; und & Jesper.Pedersen;, Copyright 2004 & Daniel.Molkentin;, Copyright 2004 Klarauml;lvdalens Datakonsult AB
Copyright der Dokumentation 2002 & Steffen.Hansen;, Copyright 2004 & Daniel.Molkentin;, Copyright 2004 Klarauml;lvdalens Datakonsult AB
Mitwirkende
& Marc.Mutz; & Marc.Mutz.mail;
& David.Faure; & David.Faure.mail;
& Steffen.Hansen; hansen@kde.org
& Matthias.Kalle.Dalheimer; & Matthias.Kalle.Dalheimer.mail;
& Jesper.Pedersen; & Jesper.Pedersen.mail;
& Daniel.Molkentin; & Daniel.Molkentin.mail;
Übersetzung Matthias Kalle Dalheimer kalle@kdab.net
& underFDL; & underGPL;
O=kde;, C=US, CN=Dave Devel, X-BAR=foo, OU=kleopatra;, X-FOO=bar, ergibt die Default-Attributreihenfolge von CN, L, _X_, OU, O, C den folgenden formatierten & dn;: CN=Dave Devel, X-BAR=foo, X-FOO=bar, OU=kleopatra;, O=kde;, C=US während CN, L, OU, O, C folgende Ausgabe ergibt: CN=Dave Devel, OU=kleopatra;, O=kde;, C=US
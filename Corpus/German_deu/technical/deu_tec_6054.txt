# language_name_wals:	German
# language_name_glotto:	German
# iso639_3:	deu
# year_composed:	NA
# year_published:	NA
# mode:	written
# genre_broad:	technical
# genre_narrow:	NA
# writing_system:	Latn
# special_characters:	NA
# short_description:	KDE4
# source:	https://object.pouta.csc.fi/OPUS-KDE4/v2/raw/de.zip
# copyright_short:	http://opus.nlpl.eu/KDE4.php
# copyright_long:	http://opus.nlpl.eu/KDE4.php J. Tiedemann, 2012, Parallel Data, Tools and Interfaces in OPUS. In Proceedings of the 8th International Conference on Language Resources and Evaluation (LREC 2012)
# sample_type:	whole
# comments:	NA

Das Handbuch zu & kdiff3;
Joachim Eibl
joachim.eibl at gmx.de
Thomas Reitelbach tr@erdfunkstelle.de Deutsche Übersetzung
Joachim Eibl
& kdiff3; ist ein Programm zum Anzeigen von Unterschieden und zum Zusammenführen von Dateien und Ordnern.
vergleicht zwei oder drei Textdateien bzw. Ordner und führt sie zusammen,
kann Unterschiede zeilenweise und sogar Zeichen für Zeichen anzeigen,
hat eine Funktion zum automatischen Zusammenführen,
enthält einen speziellen komfortablen Editor zum Auflösen von Konflikten beim Zusammenführen,
ist mit Hilfe von KIO Netzwerktransparent,
kann Unterschiede in weißen Zeichen oder Kommentaren besonders hervorheben oder ausblenden.
unterstützt Unicode, UTF-8 und weitere Dateikodierungen.
druckt Abweichungen,
Dieses Dokument beschreibt & kdiff3; in der Version 0.9.92.
KDE
kdeextragear
kdiff3
vergleichen
zusammenführen
CVS
dreifach-vergleichen
vergleichen
Dateien
Ordner
Versionskontrolle
Drei-Wege-Zusammenführen
Unterschiede innerhalb einer Zeile
synchronisieren
kpart
kio
netzwerktransparent
Editor
weißes Zeichen
Kommentare
Einführung
Noch eine Oberfläche zu Diff?
Es gibt viele grafische Werkzeuge zum Vergleichen. Warum also & kdiff3;? Lassen Sie mich kurz erklären, warum ich geschrieben habe.
& kdiff3; wurde programmiert, weil ich eine sehr komplizierte Zusammenführung durchzuführen hatte. Zusammenführen wird dann nötig, wenn mehrere Personen an der gleichen Datei in einem Projekt arbeiten. Wenn das verwendete Werkzeug zum Zusammenführen nicht nur die geänderten Dateien (Branch genannt), sondern auch die Originale (Basis) zur Verfügung hat, kann das Zusammenführen gewissermaßen automatisiert werden. Das Programm wird dann automatisch die in der Branch gemachten Änderungen auswählen. Doch wenn mehrere Beitragende die gleichen Zeilen ändern, wird ein Konflikt erkannt. Solch ein Konflikt muss dann von Hand aufgelöst werden.
Die Zusammenführung war sehr kompliziert, weil einer der Beitragenden viele Änderungen vorgenommen und gleichzeitig an vielen Stellen die Einrückung korrigiert hatte. Ein weiterer Programmierer hatte in der gleichen Datei viel Text verändert. Das Ergebnis waren zahlreiche Konflikte beim Zusammenführen.
Das von mir benutzte Programm zeigte mir nur die geänderten Zeilen an, ich konnte aber nicht sehen, was genau sich innerhalb dieser Zeilen geändert hatte. Und es gab keinerlei Hinweise auf die Stellen, wo sich vielleicht nur die Einrückung geändert hatte. Das Zusammenführen dieser Änderungen war ein kleiner Albtraum.
Das war also der Beginn. Die erste Version von & kdiff3; konnte Unterschiede innerhalb einer Zeile und Änderungen an weißen Zeichen darstellen. Später wurden noch jede Menge weiterer nützlicher Funktionen hinzugefügt.
Wenn Sie zum Beispiel schnell Text vergleichen möchten, kopieren Sie ihn einfach in die Zwischenablage und fügen ihn in eines der Vergleichsfenster ein.
Eine Funktion die viel Arbeit machte, war das Vergleichen und Zusammenführen von Ordnern. Diese Funktion verwandelte & kdiff3; beinahe in einen vollwertigen Datei-Browser.
Ich hoffe, dass Sie viel Nutzen an & kdiff3; haben und wünsche Ihnen viel Freude!
Joachim Eibl (2003)
Bildschirmfotos und Funktionen
Dieses Bildschirmfoto zeigt die Unterschiede zwischen zwei Textdateien
(Unter Verwendung einer frühen Version von & kdiff3;):
Auch 3-Wege-Zusammenführen wird vollständig unterstützt. Dies ist nützlich, wenn zwei Personen unabhängig voneinander an einem Stück Kode arbeiten und Änderungen vornehmen. Die Originaldatei (die Basis) hilft & kdiff3; beim automatischen Auswählen der jeweils korrekten Änderungen. Der Zusammenführungs-Editor unter den Unterschiede-Fenstern ermöglicht das Auflösen von Konflikten und zeigt gleichzeitig das zu erwartende Ergebnis an. In diesem Editor können Sie das Ergebnis sogar direkt bearbeiten. Das Bildschirmfoto zeigt drei Quell-Dateien beim Zusammenführen:
& kdiff3; hilft Ihnen auch beim Vergleichen und Zusammenführen kompletter Ordner. Dieses Bildschirmfoto zeigt & kdiff3; beim Ordner-Zusammenführen:
Weitere Funktionen
Zeilen- und sogar Zeichenweises Darstellen von Unterschieden
& kdiff3; zeigt die exakten Unterschiede an und bediehnt sich dazu der Möglichkeiten heutiger Farbmonitore. Wenn Sie häufig Kode überprüfen müssen, werden Sie diese Funktion mögen.
Erkennen von Unterschieden in weißen Zeichen auf einen Blick
Unterschiede in weißen Zeichen und Tabulatoren werden sichtbar dargestellt. Wenn sich Zeilen nur in einer gewissen Anzahl an weißen Zeichen unterscheiden, kann man das auf einen Blick an der Zusammenfassung in der Spalte an der linken Seite sehen. (Kein Ärger mehr, wenn Jemand die Einrückung ändert.)
3-Wege-Vergleichen
Man kann drei Dateien analysieren und sehen, an wo sie sich unterscheiden.
Das linke/mittlere/rechte Fenster hat den Namen A/B/C und ist entsprechend blau/grün/magenta eingefärbt.
Wenn eine Datei gleich ist, und die andere sich in einer Zeile unterscheidet, dann zeigt die Farbe an, welche Datei unterschiedlich ist. Rote Farbe bedeutet, dass beide sich Dateien unterscheiden.
Komfortables zusammenführen von zwei oder drei Dateien
Mit & kdiff3; kann man zwei oder drei Dateien zusammenführen. Dabei führt & kdiff3; so viel wie möglich automatisch zusammen. Das Ergebnis wird in einem editierbaren Fenster angezeigt; dort können die meisten Konflikte schon mit einem einfachen Mausklick gelöst werden: Wählen Sie zwischen den Knöpfen A/B/C um die zu benutzende Quelle auszuwählen. Sie können auch mehr als eine Quelle wählen. Weil das Fenster im Grunde ein Editor ist, können hier selbst Konflikte, die eine weitere Bearbeitung erfordern, einfach aufgelöst werden. Sie benötigen dazu keine weiteren Hilfsmittel.
Und...
Schnelle Navigation über Knöpfe.
Ein Mausklick in die Zusammenfassungs-Spalte gleicht alle Fenster ab, so dass alle die gleiche Stelle anzeigen.
Kopieren Sie eine Auswahl aus irgendeinem Fenster einfach in das Ergebnisfenster.
Die Übersichtsspalte zeigt an, wo sich Änderungen und Konflikte befinden.
Die Farben sind an Ihre Bedürfnisse anpassbar.
Die Größe von Unterfenstern ist veränderbar.
Es gibt die Option, anstelle von Tabulatoren Leerzeichen einzufügen.
Bequemes Öffnen von Dateien über einen Dialog oder über die Befehlszeile.
Suchen (Strg-F) und Weitersuchen (F3) nach bestimmten Zeichenketten in allen Textfenstern.
Anzeigen der Zeilennummer zu jeder Zeile.
Einfügen aus der Zwischenablage oder das Ziehen von Text in ein Vergleichsfenster.
Netzwerktransparenz durch KIO.
& kdiff3; kann als Anzeigemodul in KDevelop 3 genutzt werden um Unterschiede anzuzeigen.
Zeilenumbruch für lange Zeilen
Unterstützung für Unicode, UTF-8 und weitere Kodierungen.
Unterstützung für Sprachen, die von rechts nach links geschrieben werden.
...
Dateivergleichsmethode:
Befehlszeilen-Optionen
Vergleichen von zwei Dateien:
kdiff3 datei1 datei2
Zusammenführen von zwei Dateien:
kdiff3 datei1 datei2 -m kdiff3 datei1 datei2 -o ausgabedatei
Vergleichen von drei Dateien:
kdiff3 datei1 datei2 datei3
Zusammenführen von drei Dateien:
kdiff3 datei1 datei2 datei3 -m kdiff3 datei1 datei2 datei3 -o ausgabedatei
Beachten Sie, dass datei1 als Basis für datei2 und datei3 verwendet wird.
Spezialfall: Dateien mit gleichem Namen
Wenn alle Dateien den gleichen Namen haben, aber in verschiedenen Ordnern liegen, dann können Sie sich die Tipparbeit erleichtern indem Sie nur den Dateinamen der ersten Datei vollständig ausschreiben. Beispiel:
kdiff3 Ordner1/Dateiname Ordner2 Ordner3
Befehlszeile zum Vergleichen bzw. Zusammenführen von Ordnern:
Das Vorgehen ist hier sehr ähnlich, doch nun geht es um Ordner.
kdiff3 Ordner1 Ordner2 kdiff3 Ordner1 Ordner2 -o Zielordner kdiff3 Ordner1 Ordner2 Ordner3 kdiff3 Ordner1 Ordner2 Ordner3 -o Zielordner
Zum Vergleichen bzw. Zusammenführen von Ordnern lesen Sie bitte hier weiter.
Andere Befehlszeilen-Optionen
Mehr Informationen zu den Befehlszeilen-Optionen erhalten Sie mit diesem Befehl:
kdiff3 --help
Beispielausgabe:
kdiff3 --help Options: -m, --merge Quellen zusammenführen. -b, --base file Explizite Basisdatei. Für Kompatibilität mit anderen Programmen. -o, --output datei Ausgabe-Datei. Impliziert -m. Z. B.: -o neueDatei.txt --out file Ausgabe-Datei. (Für Kompatibilität mit anderen Programmen.) --auto Keine grafische Oberfläche, wenn alle Konflikte automatisch aufgelöst werden können. (Benötigt -o datei) --qall Konflikte nicht automatisch auflösen. (Aus Kompatibilitätsgründen.) --L1 alias1 Sichtbarer Namensersatz für Quelldatei 1 (Basis). --L2 alias2 Sichtbarer Namensersatz für Quelldatei 2. --L3 alias3 Sichtbarer Namensersatz für Quelldatei 3. -L, --fname alias Alternativer sichtbarer Namensersatz. Für jede Quelldatei einmal angeben. -u Hat keine Wirkung. Für Kompatibilität mit anderen Programmen.
Befehlszeilen-Optionen
Befehlszeilen-Optionen
Öffnen-Dialog
Weil mehrere Dateien auszuwählen sind, hat & kdiff3; einen besonderen Dialog zum Öffnen von Dateien:
Der Öffnen-Dialog ermöglicht das manuelle Eintippen von Dateinamen, die Auswahl über den Datei-Browser (Datei...) oder das Auswählen einer zuletzt geöffneten Datei aus der Aufklappliste. Der Öffnen-Dialog merkt sich Ihre Auswahl und zeigt sie beim nächsten Mal wieder an. Sie müssen keine dritte Datei angeben; wenn Sie den Eintrag für C leer lassen, wird die Analyse der Unterschiede mit zwei Dateien durchgeführt.
Über den Knopf Ordner... können Sie auch einen Ordner auswählen. Wenn Sie einen Ordner wählen, wird das Vergleichen bzw. Zusammenführen von Ordnern eingeleitet. Wenn für A eine Datei ausgewählt wird, für B und C jedoch ein Ordner, dann benutzt & kdiff3; den Dateinamen aus A in den beiden anderen Ordnern.
Wenn Zusammenführen angekreuzt ist, wird das Eingabefeld für Ziel aktiv und lässt sich bearbeiten. Es ist allerdings nicht unbedingt erforderlich, sofort eine Ausgabedatei festzulegen. Sie können diesen Schritt auch später beim Speichern erledigen.
Der Einrichten -Knopf öffnet einen Dialog mit Einstellungen. Hier können Sie Optionen festlegen bevor Sie mit dem Vergleichen/Zusammenführen beginnen.
Einfügen und Ablegen von Text
Manchmal möchte man nicht eine ganze Datei, sondern nur Teile eines Textes vergleichen. & kdiff3; ermöglicht Ihnen, Textteile aus der Zwischenablage in das aktive Vergleichsfenster zu ziehen. Der Vergleich beginnt dann sofort. Im Öffnen-Dialog müssen Sie keine Dateien auswählen, Sie können den Dialog einfach mit dem Abbrechen -Knopf schließen.
Sie können auch Ziehen und Ablegen benutzen: Ziehen Sie einfach eine Datei aus einem Dateimanager oder ausgewählten Text aus einem Editor und lassen Sie ihn über einem Vergleichsfenster fallen.
Welcher Gedanke steckt dahinter? Manchmal enthält eine Datei z. B. mehrere ähnliche Funktionen. Wenn Sie herausfinden möchten, wie ähnlich sich diese Funktionen sind, wäre das ein relativ großer Aufwand. Sie müssten erst zwei entsprechende Dateien erstellen, sie in & kdiff3; laden und diese dann vergleichen. Jetzt können Sie die relevanten Abschnitte einfach kopieren, einfügen und dann vergleichen.
Anmerkung: Zurzeit können Sie nichts aus & kdiff3; herausziehen. Nur das Fallenlassen von Text in ein Vergleichsfenster wird unterstützt.
Warnung: Einige Editoren interpretieren das Ziehen und Ablegen von Text in ein anderes Programm als Ausschneiden und Einfügen (anstelle von Kopieren und Einfügen). In einem solchen Fall könnten Ihre Originaldaten verloren gehen.
Interpretieren der angezeigten Informationen in den Quellfenstern
Im oberen Teil jedes Textfensters befindet sich die Info-Zeile. Die Info-Zeile der Quellfenster enthält die Zeichen A, B oder C, den Dateinamen und die Zeilennummer der ersten sichtbaren Zeile im Fenster. (Beachten Sie, dass Fenster C optional ist.) Jede Info-Zeile hat eine unterschiedliche Farbe. (Wenn der Pfad zu einer Datei zu lang ist, lassen Sie die Maus eine Weile über der Zeile ruhen. Dann wird ein kleines Hilfsfenster den vollständigen Namen anzeigen.)
Farbgebung
Den drei Quellfenstern sind die Buchstaben A, B und C zugeordnet. A hat die Farbe Blau, B die Farbe Grün und C ist magenta. (Diese Voreinstellungen können über das Einstellungen-Menü geändert werden.)
Wenn ein Unterschied erkannt wird, sieht man an der Farbe, welche Datei sich unterscheidet. Wenn sich beide Dateien unterscheiden, ist die Voreingestellte Farbe dafür Rot. (Farbe für Konflikte in den Einstellungen). Das Farbschema ist besonders nützlich, wenn Sie drei Dateien vergleichen. Das ist im nächsten Abschnitt (Zusammenführen) gut zu sehen.
Links neben dem Text befindet sich die Zusammenfassungs-Spalte. Wenn Unterschiede gefunden wurden, zeigt die Spalte die entsprechende Farbe an. Bei Unterschieden in weißen Zeichen wird die Farbe gerastert angezeigt. Bei einigen Programmiersprachen wo weiße Zeichen nicht so wichtig sind, ist es nützlich, nur die relevanten Änderungen zu sehen. (Bei C/C++ z. B. sind weiße Zeichen nur in Zeichenketten und Kommentaren, für den Preprozessor und in wenigen, seltenen Einzelfällen relevant.)
Die vertikale Linie, die die Zusammenfassungs-Spalte vom Text trennt, wird an den Stellen unterbrochen, wo die jeweilige Quelldatei keine Zeilen hat. Wenn der Zeilenumbruch aktiviert ist, wird die Linie an umgebrochenen Zeilen gepunktet dargestellt.
Übersichts-Optionen:
An der rechten Seite befindet sich eine Übersichts-Spalte, direkt links neben der vertikalen Bildlaufleiste. Sie zeigt eine komprimierte Zusammenfassung des gesamten Fenster A. Alle Unterschiede und Konflikte sind hier auf einen Blick erkennbar. Wenn nur zwei Quellfenster genutzt werden, dann erscheinen alle Unterschiede rot, denn dann ist jeder Unterschied gleichzeitig auch ein Konflikt. Der aktuell sichtbare Bereich der Quelltexte wird durch ein schwarzes Rechteck umrandet. Bei sehr langen Quelldateien mit mehr Zeilen als die Übersichts-Spalte in Pixeln anzeigen kann, teilen sich mehrere Zeilen jeweils eine Zeile in der Übersichts-Spalte. Ein Konflikt hat gegenüber einfacher Unterschiede die höchste Priorität. Unterschiede wiederum haben eine höhere Priorität als keine Änderungen. So gehen keine Konflikte oder Unterschiede verloren. Durch einen Klick in die Übersichts-Spalte wird der zugehörige Text angezeigt.
Zusammenführen und das editierbare Ergebnisfenster
Das Ergebnisfenster (unter den Vergleichsfenstern) hat auch eine Info-Zeile mit der Aufschrift Ausgabe:, dem Dateinamen und [Geändert] wenn Sie das Ergebnis bearbeitet haben. Üblicherweise enthält es durch das automatische Zusammenführen bereits Text, aber oft enthält es auch Konflikte.
!!! Bis alle Konflikte aufgelöst sind, ist das Speichern deaktiviert!!! (Benutzen Sie die Knöpfe Springe zu nächstem gelösten/ungelösten Konflikt um die noch verbleibenden Konflikte zu finden.)
Wenn nur zwei Vergleichsfenstern benutzt werden, ist jeder Unterschied gleichzeitig auch ein Konflikt der manuell gelöst werden muss.
Bei drei Vergleichsfenstern wird die erste Datei als Basis verwendet, und die zweite und dritte Datei enthalten die Änderungen. Wenn eine Zeile nur in Datei B oder C geändert wurde, aber nicht in beiden, dann wird automatisch die richtige Änderung ausgewählt. Wenn B und C allerdings Änderungen in der gleichen Zeile enthalten, erkennt & kdiff3; einen manuell zu lösenden Konflikt. Wenn B und C identisch sind, sich aber von A unterscheiden, dann wird C als Quelle ausgewählt.
Die Status-Spalte
Das Ergebnisfenster hat auch eine Zusammenfassungs-Spalte an der linken Seite. Sie zeigt entweder den Buchstaben des Vergleichsfensters an von dem eine Zeile stammt, oder sie ist leer, wenn alle drei Quellen an der Stelle identisch sind. Konflikte werden mit einem roten Fragezeichen? und dem Text & lt;Zusammenführungskonfliktgt; dargestellt. Weil das zeilenweise Auflösen von Konflikten sehr lange dauern würde, werden Zeilen mit gleichem Unterschied und Charakteristika gruppiert. Konflikte mit weißen Zeichen und Konflikte mit nicht-weißen Zeichen werden getrennt dargestellt, um das Zusammenführen von Dateien mit vielen Einrückungsänderungen zu vereinfachen.
Durch einen Klick mit der linken Maustaste in die Zusammenfassungs-Spalte in einem der Fenster wird die zu der Zeile gehörende Gruppe in allen Fenstern markiert und die erste Zeile der Gruppe wird angezeigt. (Dadurch wird auch ein Sprung der Position in den Fenstern verursacht, wo der Anfang der Gruppe sonst nicht sichtbar wäre.) Diese Gruppe wird dann die aktuelle Gruppe. Sie wird mit der Farbe Hintergrundfarbe für aktuellen Bereich hervorgehoben und jeweils zur Linken erscheint ein schwarzer Balken.
Manchmal bleibt durch das automatische Zusammenführen oder durch manuelles Bearbeiten keine weitere Zeile mehr in der Gruppe übrig; dann wird in diesen Zeilen der Text & lt;Keine Zeile in der Quellegt; angezeigt. Das ist nur ein Platzhalter für den Fall, dass Sie Ihre Meinung ändern und vielleicht doch wieder eine andere Quelle wählen. Dieser Text erscheint weder in der endgültigen gespeicherten Datei, noch in einer Markierung die Sie vielleicht kopieren und woanders einfügen.
Der Text & lt;Zusammenführungskonfliktgt; erscheint allerdings in der Zwischenablage, wenn Sie solchen Text aus dem Ergebnisfenster kopieren. Gehen Sie vorsichtig mit dieser Funktion um.
Das normale Zusammenführen startet mit dem automatischen Lösen einfacher Konflikte. Das Zusammenführen -Menü enthält einige häufig verwendete Funktionen. Wenn Sie bei den meisten Konflikten die gleiche Quelle auswählen müssen, können Sie z. B. überall A, B oder C auswählen. Die gleiche Möglichkeit gibt es auch für die noch verbleibenden ungelösten Konflikte oder sogar für die noch verbleibenden ungelösten Konflikte in weißen Zeichen. Wenn Sie solche Entscheidungen nicht zusammengefasst für eine Gruppe, sondern sogar für jeden einzelnen Unterschied im Detail treffen möchten, dann wählen Sie Alle Unterschiede zu Konflikten machen. Sie können wieder zur automatischen Auswahl von & kdiff3; zurück, indem Sie Automatisch einfache Konflikte lösen wählen. & kdiff3; startet das Zusammenführen dann erneut. & kdiff3; fragt nach, bevor Ihre eventuell gemachten Änderungen verloren gehen.
Hinweis: Wenn beim Auswählen der Quellen die Optionen Zahlen ignorieren oder Ignoriere C/C++ Kommentare aktiviert sind, werden Änderungen in Zahlen oder Kommentaren auch wie weiße Zeichen behandelt.
Navigieren und Bearbeiten
Navigiert wird hauptsächlich mit den Bildlaufleisten und der Maus, aber Sie können dazu auch die Tastatur benutzen. Wenn Sie in eines der Fenster klicken, können Sie die Pfeiltasten links, rechts, hoch, runter, Seite auf, Seite ab, Anfang, Ende, Strg-Anfang und Strg-Ende benutzen, siw wie Sie es auch von anderen Programmen gewohnt sind. Die Übersichts-Spalte neben der vertikalen Bildlaufleiste kann durch hineinklicken auch zum Navigieren benutzt werden.
Ausserdem können Sie das Rädchen Ihrer Maus zum hoch- und runterblättern benutzen.
Im Augabefenster können Sie auch die anderen Tasten zum Bearbeiten verwenden. Mit der Einfügen -Taste können Sie zwischen Einfüge- und Überschreibmodus wechseln. (Voreingestellt ist der Einfügemodus.)
Ein Klick mit der linken Maustaste in eine der Zusammenfassungs-Spalten synchronisiert die Ansicht aller Fenster auf den Anfang der jeweiligen Gruppe (wie bereits im Abschnitt Zusammenführen und das editierbare Ausgabefenster erklärt wurde).
Die Werkzeugleiste enthält sieben Knöpfe zur Navigation mit denen Sie zum aktuellen/ersten/letzten Unterschied, zum nächsten/vorigen Unterschied (Strg-unten/Strg-oben), zum nächsten/vorigen Konflikt (Strg-Bild Aufwärts/Strg-Bild Abwärts) oder zum nächsten/vorigen ungelösten Konflikt springen können. Beachten Sie, dass & kdiff3; alle nicht automatisch gelösten Konflikte auch nach dem manuellen lösen weiterhin als Konflikt betrachtet. Daher muss zwischen gelösten und ungelösten Konflikten unterschieden werden.
Automatisch-Weiterspringen-Verzögerung (ms):
Es gibt auch einen Knopf Automatisch zum nächsten ungelösten Konflikt weiterspringen. Wenn Sie dies aktivieren, wird & kdiff3; nach der ersten Auswahl der Quelle automatisch zum nächsten ungelösten Konflikt weiterspringen und ihn lösen. Das ist hilfreich, wenn Sie immer nur eine Quelle wählen möchten. Wenn Sie beide Quellen brauchen, oder das Ergebnis nach der Auswahl noch bearbeiten möchten, dann sollten Sie diese Funktion ausschalten. Bevor & kdiff3; zum nächsten ungelösten Konflikt weiterspringt, wird das Ergebnis der Auswahl für eine Kurze Zeit angezeigt. Die Verzögerungszeit kann im Abschnitt Vergleich und Zusammenführung in den Einstellungen eingestellt werden: Geben Sie für Automatisch-Weiterspringen-Verzögerung einen Wert zwischen 0 und 2000 Millisekunden an. Tipp: Wenn Sie sich viele Mausklicks sparen möchten, dann benutzen Sie eine kurze Verzögerungszeit und die Tastenkürzel Strg-1/2/3 uum Auswählen der Quelle A/B/C.
Markieren, Kopieren und Einfügen
In den Vergleichsfenstern wird kein Cursor angezeigt, daher müssen Markierungen mit der Maus gemacht werden. Drücken Sie am Beginn der Markierung die linke Maustaste und halten Sie sie gedrückt, ziehen Sie die Maus dann bis zum Ende der Markierung und lassen Sie hier die Maustaste wieder los. Ein einzelnes Wort kann auch einfach durch einen Doppelklick darauf markiert werden. Im Ergebnisfenster können Sie zum Markieren auch die Tastatur benutzen. Drücken Sie dazu die Umschalt-Taste und verändern Sie die Markierung mit den Pfeiltasten.
Um die Markierung in die Zwischenablage zu kopieren, müssen Sie den Kopieren -Knopf (Strg-C oder Strg-Einfügen) drücken. Es gibt auch die Option Auswahl automatisch kopieren. Wenn diese aktiviert ist, wird, was immer Sie markieren, automatisch in die Zwischenablage kopiert und das manuelle Kopieren entfällt. Seien Sie mit dieser Option aber vorsichtig, denn Sie könnten so den Inhalt der Zwischenablage versehentlich überschreiben.
Speichern
Speichern ist erst möglich, wenn alle Konflikte gelöst sind. Falls die Datei bereits existiert und die Option Sicherungskopie erstellen aktiviert ist, dann erhält die bestehende Datei die Endung .orig. Wenn bereits eine .orig -Datei existiert, wird diese überschrieben. Wenn Sie einen weiteren Vergleich starten bzw. beenden und noch nicht gespeichert haben, dann fragt & kdiff3;, ob Sie Speichern, Abbrechen oder ohne zu speichern fortfahren möchten. (KDiff3 fängt allerdings keine System-Signale ab. Wenn Sie & kdiff3; also mit dem Signal kill beenden, gehen Ihre ungespeicherten Daten verloren.)
Zeilenenden werden entsprechend dem zugrundeliegenden Betriebssystem gespeichert. Unix-Varianten verwenden ein Zeilenvorschub-Zeichen\, und Win32-basierte Systeme benutzen Wagenrücklauf + Zeilenvorschub \\r\. KDiff3 behält die Zeilenenden der Quelldateien nicht bei, darum sollten Sie & kdiff3; auch nicht mit Binärdateien verwenden.
Suchen und Finden von Zeichenketten
Sie können in jedem Textfenster von & kdiff3; nach einer Zeichenkette suchen. Die Suchen... -Funktion (Strg-F) im Bearbeiten-Menü öffnet einen Dialog, in dem Sie die zu suchende Zeichenkette eingeben können. Eine Suche beginnt immer am Anfang. Mit der Funktion Weitersuchen (F3) können Sie zum nächsten Vorkommen der gesuchten Zeichenkette springen. Wenn Sie eine Suche über mehrere Fenster aktiviert haben, wird erst das erste Fenster vom Beginn bis zum Ende durchsucht, danach das nächste Fenster, u. s. w.
Drucken
Auswahl automatisch kopieren:
Sprache:
Zeige Zeilennummern:
Farben
Optionen
Die Optionen und die Liste der zuletzt verwendeten Dateien wird beim Beenden automatisch gespeichert und beim nächsten Start wiederhergestellt. (Menü Einstellungen- > KDiff3 einrichten...)
Schriftart
Wählen Sie eine Schrift mit fester Breite. (Auf einigen Systemen stellt der Dialog auch Schriften mit variabler Breite zur Auswahl, Sie sollten diese aber nicht benutzen.)
Kursivschrift bei Unterschieden:
Wenn Sie diese Option aktivieren, werden Unterschiede in kursiver Schrift dargestellt. Wenn die gewählte Schrift diese Darstellung nicht unterstützt, passiert gar nichts.
Farben
Vordergrundfarbe:
Üblicherweise Schwarz.
Hintergrundfarbe:
Üblicherweise Weiß.
Hintergrundfarbe bei Unterschieden:
Üblicherweise helles Grau.
Farbe für A:
Üblicherweise dunkles Blau.
Farbe für B:
Üblicherweise dunkles Grün.
Farbe für C:
Üblicherweise dunkles Magenta.
Farbe für Konflikte:
Üblicherweise Rot.
Hintergrundfarbe für aktuellen Bereich:
Üblicherweise helles Gelb.
Hintergrundfarbe für Unterschiede im aktuellen Bereich:
Üblicherweise dunkles Gelb.
Üblicherweise Rot.
Befehlszeile zum Vergleichen bzw. Zusammenführen von Ordnern:
Üblicherweise dunkles Grün.
Befehlszeile zum Vergleichen bzw. Zusammenführen von Ordnern:
Befehlszeile zum Vergleichen bzw. Zusammenführen von Ordnern:
Befehlszeile zum Vergleichen bzw. Zusammenführen von Ordnern:
An Systemen mit nur 16 oder 256 Farben könnten einige Farben nicht in ihrer reinen Form verfügbar sein sondern würden gerastert dargestellt werden. An diesen Systemen stellt der Knopf Voreinstellungen automatisch eine ungerasterte Farbe ein.
Editor
Tabulator fügt Leerzeichen ein:
Wenn diese Option aktiviert ist, wird beim Drücken der Tabulator-Taste die entsprechende Anzahl an Leerzeichen eingefügt. Ansonsten wird ein Tabulator-Zeichen eingefügt.
Tabulator Länge:
Kann nach Ihren persönlichen Vorstellungen eingestellt werden. Voreingestellt ist 8.
Automatisch einrücken:
Wenn Sie Eingabe oder Return drücken, wird die Einrückung der vorangehenden Zeile automatisch auch für die nächste Zeile verwendet.
Auswahl automatisch kopieren:
Wenn diese Option aktiviert ist, wird jede Auswahl automatisch in die Zwischenablage kopiert. Das manuelle kopieren in die Zwischenablage entfällt dann.
Zeilenende-Typ:
Sie können auswählen, welchen Zeilenende-Typ Sie zum Speichern bevorzugen. Der voreingestellte Wert ist die allgemein übliche Auswahl auf dem verwendeten Betriebssystem.
Diff-Optionen
Beim Vergleichen von Dateien versucht & kdiff3; zuerst, alle vollständig identischen Zeilen in den Quelldateien zu finden. Nur während diesem ersten Schritt können weiße Zeichen ignoriert werden. Der zweite Schritt vergleicht jede Zeile. In diesem Schritt werden weiße Zeichen nicht ignoriert. Auch beim Zusammenführen werden weiße Zeichen nicht ignoriert.
Wagenrücklaufzeichen anzeigen:
Manche Editoren (auf manchen Systemen) speichern ein Wagenrücklaufzeichen '\\r' und einen Zeilenvorschub '\' am Ende einer Zeile, andere wiederum speichern nur einen Zeilenvorschub '\'. Üblicherweise ignoriert & kdiff3; das Wagenrücklaufzeichen, aber dann könnten Dateien mit unterschiedlichen Größen im Seite-an-Seite-Vergleich identisch aussehen, obwohl sie unterschiedlich sind. Wenn diese Option aktiviert ist, werden Wagenrücklaufzeichen sichtbar gemacht, jedoch wie ein weißes Zeichen behandelt. Während dem Zusammenführen muss diese Option deaktiviert sein. In der Voreinstellung ist dies deaktiviert.
Zahlen ignorieren:
In der Voreinstellung ist diese Option deaktiviert. Im ersten Teil der Analyse werden Zahlen und zugehörige Zeichen ('0'-'9', '.', '-') ignoriert. Im Ergebnis werden die Unterschiede dennoch angezeigt, aber sie werden wie weiße Zeichen behandelt.
Ignoriere C/C++ Kommentare:
In der Voreinstellung ist diese Option deaktiviert. Änderungen in Kommentaren werden wie Änderungen in weißen Zeichen behandelt.
Groß-/Kleinschreibung ignorieren:
In der Voreinstellung ist diese Option deaktiviert. Änderungen in Kommentaren werden wie Änderungen in weißen Zeichen behandelt.
Vorverarbeitungsbefehl:
Siehe nächster Abschnitt.
Vorverarbeitungsbefehl nur für Zeilenabgleich:
Aufwändig suchen (langsamer):
Intensiv nach noch kleineren Unterschieden suchen. Die Option ist in der Voreinstellung aktiviert. Sie ist effektiv bei komplizierten und großen Dateien, aber langsam bei sehr großen Dateien.
Vergleich und Zusammenführung
Automatisch-Weiterspringen-Verzögerung (ms):
Im Automatisch-Weiterspringen-Modus bestimmt diese Einstellung, wie lange das Ergebnis der Auswahl angezeigt wird, bevor zum nächsten ungelösten Konflikt weitergesprungen wird.
Weiße Zeichen Autoauswahl bei 2/3 Dateien:
Löst automatische alle Konflikte in weißen Zeichen indem die gewählte Datei als Quelle benutzt wird. (Voreingestellt ist manuelle Auswahl.) Das ist nützlich, wenn weiße Zeichen in vielen Dateien weniger wichtig sind. Wenn Sie dies nur von Zeit zu Zeit benötigen, dann nutzen Sie besser die Funktionen Wähle A/B/C für alle ungelösten weißen Konflikte aus dem Zusammenführen-Menü. Beachten Sie, dass die Automatische Auswahl auch Konflikte in Zahlen oder Kommentaren betrifft, wenn die Optionen Zahlen ignorieren oder Ignoriere C/C++-Kommentare aktiviert sind.
Verzeichnis-Zusammenführung
Diese Optionen werden im Kapitel zum Scannen von Ordnern und Durchführen einer Zusammenführung behandelt. Schauen Sie für Details unter Dokumentation zum Verzeichnis-Vergleich und Zusammenführung nach.
Es gibt hier dennoch eine Option die auch beim Speichern von einzelnen Dateien relevant ist:
Sicherungskopie erstellen (.orig):
Wenn eine Datei gespeichert wird und bereits eine ältere Version existiert, dann wird der Originalversion das Suffix .orig angehängt. Wenn bereits eine solche Backupdatei mit dem Suffix .orig existiert, wird diese ohne weitere Sicherung gelöscht.
Regional- und Spracheinstellungen
Sprache:
Passt die Sprache der Benutzeroberfläche an. Das Ändern dieser Option betrifft nicht das aktuell laufende Programm. Sie müssen & kdiff3; beenden und neu starten, damit die Änderung aktiv wird. (Diese Option ist in der KDE-Version von & kdiff3; nicht verfügbar, weil die Sprache dort global über das Kontrollzentrum eingestellt wird.)
Die gleiche Kodierung für alles verwenden:
Die folgenden Kodierungseinstellungen können für jeden Eintrag separat eingestellt werden. Wenn man diese Option aktiviert, wird für alle Einträge die obere Einstellung verwendet.
Lokale kodierung:
Über den Auswahlfeldern für die Kodierung erscheint ein kurzer Hinweis, was die lokale Kodierung ist. (Dies kann hier nicht geändert werden und hat für Sie rein informellen Charakter.)
Datei-Kodierung für A/B/C:
Passen Sie die Datei-Kodierung für Quelldateien an. Dies beeinflusst, wie Sonderzeichen behandelt und interpretiertwerden. Da die Kodierung für jede Datei einzeln einstellbar ist, können selbst Dateien mit unterschiedlicher Kodierung verglichen und zusammengeführt werden.
Datei-Kodierung für die Zusammenführen-Ausgaben und zum Speichern:
Wenn Sie eine Datei bearbeitet haben, können Sie hier festlegen, welche Kodierung zum Speichern verwendet werden soll.
Datei-Kodierung für Preprozessor-Dateien:
Wenn Sie Vorverarbeitungsbefehle definieren, könnten sie eventuell nicht mit Ihrem Codec funktionieren. (Z. B. könnten Ihre Dateien 16-Bit Unicode sein, aber der Vorverarbeitungsbefehl kann nur mit 8-Bit ASCII umgehen.) Mit dieser Option kann man die Kodierung der Ausgabe von Vorverarbeitungsbefehelen festlegen.
Rechts-nach-Links-Sprache:
Einige Sprachen werden von Rechts nach Links geschrieben. Wenn diese Option aktiviert ist, zeigt & kdiff3; den Text in Vergleichs- und Zusammenführen-Fenstern von Rechts nach Links an. Wenn Sie & kdiff3; mit der Option --reverse starten, wird das gesamte Layout der Programmoberfläche von Rechts nach Links angezeigt. (Dies ist eine Funktion von Qt.) Diese Dokumentation wurde unter der Annahme geschrieben, dass Rechts-nach-Links Sprache und umgedrehtes Layout abgeschaltet sind. Wenn Sie diese Optionen verwenden, müssen Sie also Referenzen auf Rechts und Links entsprechend umkehren.
Verschiedenes
(Diese Optionen und Aktionen sind in den Menüs oder den Werkzeugleisten zu finden.)
Zeige Zeilennummern:
Sie können wählen, ob in den Quelldateien die Zeilennummern angezeigt werden sollen.
Zeige Leerzeichen und Tabulator-Zeichen in Unterschieden:
Manchmal sind sichtbare Leerzeichen und Tabulatoren störend. Sie können die Anzeige dieser Zeichen abschalten.
Zeige weiße Zeichen:
Schalten Sie dies ab, um Hervorhebungen von Änderungen in weißen Zeichen in den Text- oder Übersichtsspalten zu unterdrücken. (Hinweis: Dies gilt auch für Änderungen in Zahlen oder Kommentaren, wenn die Optionen Zahlen ignorieren oder Ignoriere C/C++-Kommentare aktiviert sind.)
Übersichts-Optionen:
Dieses Auswahl ist nur verfügbar, wenn Sie drei Dateien vergleichen. Im normalen Modus werden alle Unterschiede in einer farblich kodierten Übersichts-Spalte angezeigt. Aber manchmal möchten Sie vielleicht nur die Unterschiede zwischen zwei von drei Dateien sehen. Nach Auswahl von A & lt;-gt; B, A & lt;-gt; C oder B & lt;-gt; C wird neben der normalen noch eine zweite Übersichts-Spalte mit den benötigten Informationen angezeigt.
Zeilenumbruch in Diff-Fenstern:
Aktiviert den Zeilenumbruch in Diff-Fenstern, wenn die Länge einer Zeile die Breite des Fensters überschreitet.
Zeige Fenster A/B/C:
Manchmal möchte man den verfügbaren Platz auf dem Bildschirm lieber für lange Zeilen benutzen. Blenden Sie einfach die weniger wichtigen Fenster aus. (Diese Option befindet sich im Fenster-Menü.)
Ausrichtung der Fensterteilung wechseln:
Ordnet die Vergleichfenster nebeneinander oder übereinander an. Dies kann auch zum Anzeigen von langen Zeilen nützlich sein. (Diese Option befindet sich im Fenster-Menü.)
Aktuelle Datei zusammenführen:
Manchmal betrachten Sie die Unterschiede und entscheiden sich dann unvermittelt, die Dateien zusammenzuführen. Aktuelle Datei zusammenführen im Zusammenführen-Menü funktioniert auch dann, wenn Sie nur zwei Dateien vergleichen. Ein einfacher Klick startet die Zusammenführung und benutzt den Dateinamen der letzten Quelldatei als voreingestellten Namen für die Ausgabedatei. (Wenn diese Funktion benutzt wird, um das Zusammenführen erneut zu starten, dann wird der Name der zuletzt benutzten Ausgabedatei beibehalten.)
Kurzbefehle festlegen
Zurzeit unterstützt nur die KDE-Version benutzerdefinierbare Kurzbefehle (Menü: Einstellungen- > Kurzbefehle festlegen...)
Vorverarbeitungsbefehle:
& kdiff3; unterstützt zwei Vorverarbeitungsbefehle.
Beim Lesen einer Datei wird sie zuerst diesem externen Befehl übergeben. In & kdiff3; wird dann die Ausgabe des Befehls sichtbar, und nicht die Datei selbst. Sie können Ihren eigenen Präprozessor schreiben, der genau Ihren Ansprüchen entspricht. Sie können diese Funktion z. B. zum herausschneiden störender Teile oder zum korrigieren der Einrückung verwenden.
Beim Lesen einer Datei wird sie zuerst diesem externen Befehl übergeben. Wenn auch ein normaler Vorverarbeitungsbefehl angegeben wurde (siehe oben), dann ist die Ausgabe des Befehls die Eingabe dieses Vorverarbeitungsbefehls. Die Ausgabe des Befehls wird nur beim Zeilenabgleich verwendet. Sie können Ihren eigenen Präprozessor schreiben, der genau Ihren Ansprüchen entspricht. Jede Eingabe-Zeile muss eine zugehörige Ausgabe-Zeile haben.
Der Gedanke dahinter ist, dem Anwender mehr Flexibilität beim Einrichten der Diff-Ergebnisse zu ermöglichen. Doch dafür wird ein externes Programm benötigt, und die meisten Anwender möchten das nicht selbst programmieren. Die Gute Nachricht ist allerdings, dass in dem meisten Fällen sed oder perl vollkommen ausreichen.
Beispiel: Ein einfacher Testfall. Wie nehmen eine Datei a.txt (6 Zeilen): aa ba ca da ea fa Und eine Datei b.txt (3 Zeilen): cg dg eg Ohne Preprozessor würden die folgenden Zeilen nebeneinander stehen: aa - cg ba - dg ca - eg da ea fa Dies ist allerdings nicht das gewünschte Ergebnis, weil der erste Buchstabe die interessante Information darstellt. Um den Suchalgorythmus beim Abgleich zu unterstützen, ignorieren wir den zweiten Buchstaben. Dazu kann folgender Zeilen-Preprozessor verwendet werden, der g durch a ersetzt: sed 's/g/a /' Mit diesem Befehl würde das Ergebnis so aussehen: aa ba ca - cg da - dg ea - eg fa Programmintern sieht der Vergleichsalgorythmus die Dateien erst nach dem Durchlauf des Zeilen-Preprozessors, auf dem Bildschirm jedoch erscheinen die Dateien unverändert. (Der normale Preprozessor würde auch die Daten auf dem Bildschirm ändern.)
sed -Grundlagen
Dieser Abschnitt führt Sie nur in einige sehr grundlegende Funktionen von sed ein. Weiterführende Informationen finden Sie unter info:/sed oder http://www.gnu.org/software/sed/manual/html_mono/sed.html. Eine vorkompilierte Version für Windows finden Sie unter http://unxutils.sourceforge.net. Beachten Sie, dass die folgenden Beispiele voraussetzen, dass der Befehl sed sich in einem Ordner in der PATH-Variable befindet. Falls das nicht der Fall sein sollte, müssen Sie den vollständigen Pfad zu sed angeben. Außerdem nutzen die Beispiele einfache Hochkommas ('), die allerdings unter Windows nicht funktionieren. Unter Windows müssen Sie doppelte Hochkommas (") verwenden.
In diesem Kontext wird nur der sed -Substitute-Befehl benutzt: sed 's / REGEXP / ERSATZ / SCHALTER' Bevor Sie in KDiff3 einen neuen Befehl benutzen, sollten Sie ihn zuerst in der Konsole testen. Hier kann der echo -Befehl sehr hilfreich sein. Beispiel: echo abrakadabra | sed 's/a/o /' - > obrakadabra Dieses Beispiel zeigt einen einfachen sed -Befehl, der das erste Vorkommen von a durch o ersetzt. Wenn Sie alle Vorkommen ersetzen möchten, müssen Sie den Schalter g benutzen: echo abrakadabra | sed 's/a/o/g' - > obrokodobro Das | -Symbol ist der Pipe-Befehl, er übergibt die Ausgabe des ersten Befehls an die Eingabe des folgenden Befehls. Wenn Sie Ihren sed -Befehl mit einer längeren Datei testen möchten, dann können Sie unter Unix cat und unter Window type dazu benutzen. sed wird die Ersetzung in jeder Zeile der Datei durchführen.
cat dateiname | sed optionen
Beispielanwendungen von sed in & kdiff3;
Ignorieren weiterer Kommentartypen
Zurzeit unterstützt KDiff3 nur C/C++-Kommentare. Mit Hilfe des Vorverarbeitungsbefehl nur für Zeilenabgleich können Sie auf andere Kommentar-Arten unterstützen. Dafür wandeln Sie diese in C/C++-Kommentare um. Beispiel: Um Kommentare zu ignorieren, die mit # beginnen, würden Sie diese zu / / umwandeln. Außerdem muss natürlich die Option C/C++-Kommentare ignorieren aktiviert sein damit dies etwas bewirkt. Ein passender Befehl für den Vorverarbeitungsbefehl nur für Zeilenabgleich wäre zum Beispiel: sed 's/#/\\/\\ / /' Weil das Zeichen / für sed ein Sonderzeichen ist, muss jedem / ein\\ vorangestellt werden. Manchmal wird dies benötigt, um einem Sonderzeichen die besondere Bedeutung zu entziehen. Außerdem sind die einfachen Anführungszeichen (') vor und hinter dem Ersetzungsbefehl wichtig, weil die Shell sonst versucht, einige der Zeichen wie' # ',' $'oder'\\ 'zu ersetzen, bevor sie an sed weitergereicht werden. Unter Windows müssen Sie doppelte Anführungszeichen verwenden ("). Windows ersetzt Zeichen wie'% 'grundsätzlich, hier müssen Sie eventuell ein wenig experimentieren.
Diff ohne Beachtung der Groß- / Kleinschreibung
Verwenden Sie diesen Vorverarbeitungsbefehl für Zeilenabgleich um die Eingabe in Großbuchstaben umzuwandeln: sed 's/\\(.*\\)/\\U\\1 /' Das .* ist ein ergulärer Ausdruck der auf jede Zeichenkette passt und in diesem Zusammenhang daher alle Zeichen in einer Zeile erfasst. Die \\1 in der Ersetzungs-Zeichenkette bezieht sich auf den gefundenen Text im ersten Klammernpaar. Das \\U wandelt den gefundenen Text in Großbuchstaben um.
Ignorieren von Schlüsselwörtern aus Versionskontrolle-Systemen
CVS und andere Versionskontrolle-Systeme verwenden einige Schlüsselwörter um automatisch erzeugte Zeichenketten einzufügen (info:/cvs/Keyword substitution). Alle folgen dem selben Muster $SCHLÜSSELWORT erzeugter Text$. Nun wird also ein Vorverarbeitungsbefehl für Zeilenabgleich benötigt, der den automatisch erzeugten Text entfernt: sed 's/\\$\\(Revision\\|Author\\|Log\\|Header\\|Date\\).*\\$/\\$\\1\\$ /' Das \\| trennt die möglichen Schlüsselwörter. Sie können die Liste nach Bedarf ändern. Das\\ vor dem $ist nötig, weil $ein Sonderzeichen ist und Ende der Zeile bedeuten würde.
Während Sie mit sed experimentieren, beginnen Sie vielleicht, es zu verstehen und vielleicht mögen Sie diese regulären Ausdrücke sogar. Sie sind sehr nützlich weil es viele Programme gibt, die sehr ähnliche Dinge unterstützen.
Ignorieren von Zahlen
Das Ignorieren von Zahlen ist eigentlich eine bereits eingebaute Funktion in KDiff3. Aber sie ist gut als Beispiel für einen weiteren Vorverarbeitungsbefehl für Zeilenabgleich geeignet. sed 's/[0123456789.-]//g' Jedes Zeichen zwischen '[' und ']' ist ein Treffer, und jeder Treffer wird durch nichts ersetzt, also quasi gelöscht.
Ignorieren von bestimmten Spalten
Manchmal ist ein Text nach strengen Regeln formatiert und enthält Spalten, die Sie grundsätzlich ignorieren möchten, und andere Spalten, die Sie für die Analyse heranziehen möchten. Im folgenden Beispiel werden die ersten fünf Spalten (Zeichen) ignoriert, dann 10 Spalten beibehalten, dann wieder fünf Spalten ignoriert und der Rest der Zeile wird beibehalten. sed 's/.....\\(..........\\).....\\(.*\\)/\\1\\2 /' Jeder Punkt '.' passt auf genau ein Zeichen. Die \\1 und \\2 in der Ersetzungs-Zeichenkette beziehen sich auf den gefundenen Text im ersten und zweiten Klammernpaar und markieren so den beizubehaltenden Text.
Mehrere Ersetzungen kombinieren
Manchmal möchten Sie vielleicht mehrere Ersetzungen auf einmal durchführen. Dann können Sie das Semikolon ';' benutzen, um die Ersetzungen voneinander zu trennen. Beispiel:
echo abrakadabra | sed 's/a/o/g;s/\\(.*\\)/\\U\\1 /' - > OBROKODOBRO
perl statt sed benutzen
Statt sed können Sie auch etwas anderes wie z. B. perl verwenden. perl -p -e 's / REGEXP / ERSETZUNG / SCHALTER' Allerdings sind bei perl einige Details anders. Wo sed \\( und\\) benötigt, braucht perl nur noch (und) ohne das vorangestellte '\\'. Beispiel:
sed 's/\\(.*\\)/\\U\\1 /' perl -p -e 's/(.*)/\\U\\1 /'
Reihenfolge der Ausführung von Preprozessoren
Die Daten werden durch interne und externe Preprozessoren in dieser Reihenfolge durchgeschleust:
Normaler Preprozessor,
Vorverarbeitungsbefehl für Zeilenabgleich,
Groß-/Kleinschreibung ignorieren (Umwandlung in Großbuchstaben),
Erkennung von C/C++ Kommentaren,
Zahlen ignorieren,
weiße Zeichen ignorieren
Die Daten nach dem normalen Preprozessor werden für die Anzeige und zum Zusammenführen beibehalten. Die weiteren Operationen verändern nur die Daten, die der Zeilenabgleich-Algorythmus sieht.
Beachten Sie: In seltenen Fällen wenn Sie einen normalen Preprozessor verwenden, sieht der Zeilenabgleich-Preprozessor die Ausgabe des normalen Preprozessors als Eingabe.
Warnung
Die Präprozessor-Befehle sind sehr nützlich, aber wie bei jeder Funktion, die Text verändert oder Unterschiede versteckt, können Sie versehentlich bestimmte Unterschiede nicht bemerken und im schlimmsten Fall wichtige Daten zerstören.
Beim Zusammenführen werden Sie daher von KDiff3 gewarnt, falls ein Präprozessor-Befehl benutzt wurd. Sie werden gefragt, ob dieser deaktiviert werden soll oder nicht. Sie werden allerdings nicht gewarnt, wenn ein Vorverarbeitungsbefehl für den Zeilenabgleich benutzt wird. Das Zusammenführen ist nicht abgeschlossen bevor nicht alle Konflikte aufgelöst wurden. Falls Sie Weiße Zeichen anzeigen deaktiviert haben, dann sind die vom Zeilenabgleich-Preprozessor entfernten Unterschiede ebenfalls unsichtbar. Wenn der Knopf Speichern während dem Zusammenführen deaktiviert bleibt (durch nicht aufgelöste Konflikte), dann aktivieren Sie weiße Zeichen anzeigen. Falls diese weniger wichtigen Unterschiede nicht zusammengeführt werden sollen, können Sie auch Wähle [A|B|C] für alle ungelöste Konflikte im Menü Zusammenführen-Menü auswählen.
Mit & kdiff3; Ordner Vergleichen und Zusammenführen
Ordnervergleich oder -zusammenführung starten
Oftmals müssen Programmierer in einem Ordner viele Dateien bearbeiten. Aus diesem Grund können Sie mit & kdiff3; komplette Ordner rekursiv vergleichen und zusammenführen.
Auch wenn das Vergleichen und Zusammenführen von ganzen Ordnern recht naheliegend und einleuchtend erscheint, gibt es einige Details, die Sie wissen sollten. Der wichtigste Punkt ist natürlich, dass sich jeder Durchlauf dieser Funktion gleich auf viele Dateien auswirkt. Wenn Sie keine Sicherungskopie der Originaldaten haben, könnte es schwer oder gar unmöglich werden, den Originalstand wiederherzustellen. Bevor Sie das Zusammenführen starten, sollten Sie also sicherstellen, dass Ihre Daten gesichert sind und das Sie alles rückgängig machen können. Ob Sie ein Archiv erstellen oder ein System zur Versionskontrolle benutzen, ist Ihre Entscheidung; selbst erfahrene Programmierer und Integratoren benötigen hin und wieder die alten Quelltexte. Bitte beachten Sie auch, dass selbst ich (der Autor von & kdiff3;) keine Garantie geben kann, dass das Programm fehlerlos ist. Entsprechend der GNU-GPL gibt es für dieses Programm KEINE GARANTIE. Also denken Sie daran:
Irren ist menschlich, aber um etwas wirklich durcheinander zu bringen braucht man schon einen Computer ;-)
All diese Dinge kann & kdiff3; für Sie erledigen: & kdiff3;...
... liest und vergleicht rekursiv zwei oder drei Ordner,
... behandelt symbolische Links besonders vorsichtig,
... lässt Sie Ihre Dateien per Mausklick durchsuchen,
... macht für jedes Objekt einen Vorschlag zum Zusammenführen; Sie können den Vorschlag vor dem Start anpassen,
... kann das Zusammenführen simulieren und zeigt die simulierten Änderungen an, ohne sie wirklich durchzuführen,
... führt letztendlich die Zusammenführung durch und lässt Sie (wenn nötig) eingreifen,
... führt ausgewählte Aktionen entweder mit allen (F7-Taste), oder nur mit den ausgewählten Objekten (F6-Taste) aus,
... setzt das Zusammenführen nach einem manuellen Eingriff fort (F7-Taste),
... erzeugt optional Sicherungskopien mit der Erweiterung .orig,
Ordnervergleich oder -zusammenführung starten
Dies ist dem Vergleichen und Zusammenführen von einzelnen Dateien sehr ähnlich. Sie müssen nur Ordner auf der Befehlszeile oder im Dialog Datei öffnen angeben.
Vergleichen/Zusammenführen von zwei Ordnern:
kdiff3 Ordner1 Ordner2 kdiff3 Ordner1 Ordner2 -o Zielordner
Wenn kein Zielordner angegeben wurde, benutzt & kdiff3; Ordner2.
Vergleichen/Zusammenführen von drei Ordnern:
kdiff3 Ordner1 Ordner2 Ordner3 kdiff3 Ordner1 Ordner2 Ordner3 -o Zielordner
Wenn drei Ordner zusammengeführt werden, dann wird Ordner1 als Basis benutzt. Wenn kein Zielordner angegeben wurde, verwendet & kdiff3; Ordner3 als Zielordner.
Beachten Sie, dass nur der Vergleich von Ordnern automatisch startet, nicht das Zusammenführen. Um das Zusammenführen zu starten, müssen Sie den entsprechenden Menüeintrag auswählen oder die F7-Taste drücken. (Weitere Details folgen.)
Sichtbare Informationen
Während dem Einlesen der Ordner informiert Sie ein kleines Nachrichtenfenster über den aktuellen Fortschritt. Wenn Sie das Scannen der Ordner abbrechen, werden nur die Dateien aufgelistet, die bis dahin verglichen wurden.
Wenn das Scannen der Ordner abgeschlossen ist, zeigt & kdiff3; ein Listenfenster mit den Ergebnissen auf der linken Seite,...
... und den Details zu dem jeweils ausgewählten Objekt auf der rechten Seite:
Die Spalte Name
Jede Datei und jeder Ordner der während dem Scan gefunden wurde, wird hier in einem Baum dargestellt. Sie können ein Objekt mit einem einfachen Mausklick auswählen.
Die Ordnerstruktur wird normalerweise zusammengeklappt dargestellt. Sie können einen Ordner aufklappen, indem Sie auf das + / - klicken, oder auf das Objekt doppelklicken oder indem Sie die Pfeiltasten für links/rechts benutzen. Das Verzeichnis -Menü enthält zwei Funktionen Alle Unterverzeichnisse einklappen und Alle Unterverzeichnisse aufklappen mit denen Sie alle Ordner auf- bzw. zuklappen können.
Wenn Sie auf eine Datei doppelklicken, wird der Dateivergleich gestartet und es erscheint ein Vergleichsfenster.
Das Symbol in der Spalte Name spiegelt den Dateityp im ersten Ordner (A) wieder. Diese Typen sind möglich:
Normale Datei
Normaler Ordner (Ordner-Symbol)
Link auf eine Datei (Datei-Symbol mit einem Link-Pfeil)
Link auf einen Ordner (Ordner-Symbol mit einem Link-Pfeil)
Wenn der Dateityp in den anderen Ordnern unterschiedlich ist, dann ist dies in den Spalten A/B/C und in dem Detailfenster zu dem ausgewählten Objekt sichtbar. In einem solchen Fall kann die Zusammenführ-Aktion nicht automatisch gewählt werden. Wenn das Zusammenführen gestartet wird, werden Sie über Probleme dieser Art nochmals informiert.
Die Spalten A/B/C und das Farbschema
Wie in dem obigen Bild zu sehen ist, werden in den Spalten A/B/C die Farben Rot, Grün, Gelb und Schwarz verwendet.
Schwarz: Dieser Eintrag existiert nicht in diesem Ordner.
Grün: Neuester Eintrag.
Gelb: Älter als grün, neuer als rot.
Rot: Ältester Eintrag.
Bei identischen Einträgen ist die Farbe allerdings auch identisch, auch wenn das Alter der Einträge unterschiedlich ist.
Ordner werden als identisch betrachtet, wenn ihr gesamter Inhalt identisch ist. Dann haben auch Ordner die gleiche Farbe. Bei Ordnern ist das Alter unerheblich für seine Farbe.
Die Idee zu diesem Farbschema basiert auf dirdiff. Die Farben spiegeln die Farben eines Blattes wieder, welches erst grün ist, dann gelb wird und später, wenn es alt ist, rot wird.
Die Aktions-Spalte
Nach dem Vergleichen der Ordner schlägt & kdiff3; eine Zusammenführ-Aktion vor. Dieser Vorschlag wird in der Aktions-Spalte angezeigt. Sie können den Vorschlag ändern, indem Sie auf den entsprechenden Eintrag klicken. Daraufhin erscheint ein kleines Menü, in dem Sie eine Aktion auswählen können. (Die häufigsten Aktionen können Sie auch mit der Tastatur auswählen. Strg+1/2/3/4/Entf wählt entsprechend A/B/C/Zusammenführen/Löschen aus.) Die Aktion wird dann während dem Zusammenführen ausgeführt. Welche Aktionen möglich sind, hängt von dem Eintrag und dem aktuellen Zusammenführ-Modus ab. Mögliche Zusammenführ-Modi sind
Drei-Ordner-Zusammenführen (A wird als die ältere Basis für die beiden anderen herangezogen).
Zwei-Ordner-Zusammenführen.
Zwei-Ordner-Synchronisieren-Modus (aktivieren Sie diesen Modus mit der Option Verzeichnisse Synchronisieren).
Beim Zusammenführen von drei Ordnern sind diese Aktions-Vorschläge möglich: Wenn für ein Objekt...
... alle drei Ordner identisch sind: Kopieren von C
... A und C identisch sind, aber nicht B: Kopieren von B (oder falls B nicht existiert, löschen des Ziels, falls es existiert)
... A und B identisch sind, aber nicht C: Kopieren von C (oder falls C nicht existiert, löschen des Ziels, falls es existiert)
... B und C identisch sind, aber nicht A: Kopieren von A (oder falls A nicht existiert, löschen des Ziels, falls es existiert)
... nur A existiert: Löschen des Ziels (falls es existiert)
... nur B existiert: Kopieren von B
... nur C existiert: Kopieren von C
... A, B und C nicht identisch sind: Zusammenführen
... A, B und C nicht den gleichen Dateityp haben (z. B. wenn A ein Ordner und B eine Datei ist): Fehler: Widersprüchliche Dateitypen. Solange solche fehlerhaften Objekte existieren, kann das Zusammenführen nicht gestartet werden.
Beim Zusammenführen von zwei Ordnern sind diese Aktions-Vorschläge möglich: Wenn für ein Objekt...
... beide Ordner gleich sind: Kopieren von B
... A existiert, aber nicht B: Kopieren von A
... B existiert, aber nicht A: Kopieren von B
... A und B existieren aber nicht identisch sind: Zusammenführen
... A und B nicht den gleichen Dateityp haben (z. B. wenn A ein Ordner und B eine Datei ist): Fehler: Widersprüchliche Dateitypen. Solange solche fehlerhaften Objekte existieren, kann das Zusammenführen nicht gestartet werden.
Der Modus zum Synchronisieren ist aktiv, wenn nur zwei Ordner und kein expliziter Zielordner angegeben wurden und wenn die Option Verzeichnisse synchronisieren aktiv ist. Dann wählt & kdiff3; die nötige Aktion aus, damit nachher beide Ordner identisch sind. Wenn für einen Eintrag...
... beide Ordner identisch sind: Es wird nichts unternommen.
... A existiert, aber nicht B: Kopieren von A nach B
... B existiert, aber nicht A: Kopieren von B nach A
... A und B existieren, aber nicht identisch sind: Zusammenführen und das Ergebnis in beiden Ordnern speichern. (Der Anwender sieht als sichtbaren Dateinamen für die Ausgabedatei nur B; direkt nach dem Zusammenführen kopiert & kdiff3; B nach A.)
Wenn zwei Ordner zusammengeführt werden und die Option Neuere Datei statt Zusammenführung auswählen (unsicher) aktiviert ist, dann untersucht & kdiff3; das Datum der Dateien und schlägt die neuere Datei zum Kopieren vor. Wenn die Dateien unterschiedlich sind, aber das gleiche Datum aufweisen, dann erscheint eine Fehlermeldung Fehler: Dateien sind unterschiedlich, aber das Datum ist identisch.. Solange solche Fehler nicht beseitigt sind, kann das Zusammenführen der Ordner nicht gestartet werden.
Die Status-Spalte
Während dem Zusammenführen wird eine Datei nach der anderen abgearbeitet. Sie Status-Spalte zeigt Fertig an, wenn das Zusammenführen erfolgreich war, und entsprechend andere Meldungen, wenn etwas unerwartetes auftrat. Wenn das Zusammenführen abgeschlossen ist, sollten Sie eine letzte Überprüfung vornehmen und nachsehen, ob der Status überall in Ordnung ist.
Die Statistik-Spalte
Wenn im Einrichtungsdialog die Dateivergleichsmethode Vollständige Analyse gewählt ist, wird KDiff3 weitere Spalten anzeigen. Diese enthalten die Anzahl ungelöster, gelöster, nicht weißer und weißer Konflikte. (Die Spalte für gelöste Konflikte wird nur angezeigt, wenn drei Ordner verglichen oder zusammengeführt werden.)
Verzeichnis-Zusammenführung
Sie können entweder den gerade ausgewählten Eintrag (Datei oder Odner) zusammenführen, oder alle Einträge auf einmal. Wenn Sie alle Zusammenführ-Aktionen ausgewählt haben (auch in allen Unterordnern), können Sie das Zusammenführen starten.
Beachten Sie bitte: Wenn Sie keinen Zielordner angegeben haben, dann wird im Drei-Ordner-Zusammenführen-Modus C als Ziel benutzt, beim Zwei-Ordner-Zusammenführen wird B als Ziel gewählt und beim Synchronisieren wird A und/oder B als Ziel verwendet.
Wenn Sie einen Zielordner ausgewählt haben, prüfen Sie bitte nachher, ob alle Einträge die im Zielordner sein sollten, auch in der Ordnerstruktur angezeigt werden. Es gibt einige Optionen durch die bestimmte Einträge übersprungen werden könnten. Überprüfen Sie diese Optionen um unliebsame Überraschungen zu vermeiden:
Rekursive Verzeichnisse: Wenn diese Option deaktiviert ist, werden keine Dateien in Unterordnern bearbeitet.
Datei Muster / Datei Anti-Muster: Ein- / und Ausschließen auf das Muster passender Einträge
Finde versteckte Dateien und Verzeichnisse
Wenn Sie soweit zufrieden sind ist der Rest einfach.
Um alle Einträge zusammenzuführen: Wählen Sie Verzeichniszusammenführung starten/fortsetzen im Verzeichnis -Menü oder drücken Sie F7 (das Tastenkürzel). Um nur den aktuellen Eintrag zusammenzuführen: Wählen Sie Aktion des aktuellen Elements ausführen oder drücken Sie F6.
Wenn durch widersprüchliche Dateitypen immer noch ungültige Zusammenführen-Aktionen existieren, erscheint eine Meldung die auf die fehlerhaften Elemente hinweist. Sie können für sie dann eine gültige Aktion auswählen.
Wenn Sie alle Einträge zusammenführen, erscheint ein Dialogfenster mit den Optionen Durchführen, Simulieren und Abbrechen.
Wählen Sie Simulieren wenn Sie erst sehen möchten was passieren würde, ohne das wirklich Änderungen vorgenommen werden. Sie erhalten dann eine ausführliche Liste aller Aktionen.
Ansonsten klicken Sie auf Durchführen um das Zusammenführen wirklich zu starten.
& kdiff3; führt dann bestimmte Aktionen mit allen Einträgen durch. Wenn ein manueller Eingriff nötig ist (zusammenführen einer einzelnen Datei), dann öffnet sich ein Zusammenführen-Fenster (beachten Sie das Bildschirmfoto).
Wenn Sie mit einer Datei fertig sind, wählen Sie erneut Verzeichniszusammenführung starten/fortsetzen oder drücken Sie F7. Wenn Sie noch nicht gespeichert haben, erscheint ein entsprechender Dialog. Dann führt & kdiff3; seine Arbeit mit dem nächsten Eintrag fort.
Wenn & kdiff3; auf einen Fehler stösst, erscheint eine Nachricht und ausführliche Status-Informationen. Am Schluss der Liste sehen Sie einige Fehlermeldungen, die Ihnen helfen sollen, die Ursache des Problems auszumachen. Wenn Sie das Zusammenführen fortfahren (F7-Taste), lässt & kdiff3; Ihnen die Wahl es erneut zu versuchen, oder den problematischen Eintrag zu überspringen. So haben Sie die Möglichkeit, eine andere Aktion für den Eintrag auszuwählen oder das Problem auf andere Weise zu lösen, bevor Sie mit dem Zusammenführen fortfahren.
& kdiff3; informiert Sie mit einem Info-Fenster wenn das Zusammenführen abgeschlossen ist.
Falls einige Einträge individuell zusammengeführt wurden, merkt sich & kdiff3; diese Einträge (in der aktuellen Sitzung) und führt sie beim späteren zusammenführen aller Einträge nicht nochmals zusammen. Selbst wenn hier das Zusammenführen übersprungen wurde oder nicht gespeichert wurde, werden diese Einträge als erledigt betrachtet. Nur wenn Sie die Zusammenführen-Aktion ändern, werden diese Einträge erneut zusammengeführt.
Optionen zum Vergleichen und Zusammenführen von Ordnern
Das Einstellungen-Menü von & kdiff3; (Menü Einstellungen - > KDiff3 einrichten...) hat nun einen Abschnitt namens Verzeichnis-Zusammenführung mit diesen Optionen:
Rekursive Verzeichnisse:
Stellen Sie ein, ob Ordner rekursiv durchsucht werden sollen.
Datei Muster:
Nur Dateien, die auf das angegebene Muster passen, werden im Elementbaum angezeigt. Es können mehrere Muster eingegeben werden. Trennen Sie die Muster mit einem Semikolon;. Gültige Platzhalter: '*' und '?'. (z. B. *.cpp;*.h). Die Voreinstellung ist *. Ordner müssen nicht diesem Muster entsprechen.
Datei Muster:
Dateien und Ordner die diesem Muster entsprechen, werden nicht im Elementbaum angezeigt. Es kann mehr als ein Muster eingegeben werden, benutzen Sie das Semikolon; als Trennzeichen. Gültige Platzhalter: '*' und '?'. Voreinstellung ist *.orig;*.o.
Datei Anti-Muster:
Dateien und Ordner die diesem Muster entsprechen, werden nicht im Elementbaum angezeigt. Es kann mehr als ein Muster eingegeben werden, benutzen Sie das Semikolon; als Trennzeichen. Gültige Platzhalter: '*' und '?'. Voreinstellung ist *.orig;*.o.
.cvsignore benutzen:
Ignoriert Dateien, die auch von CVS ignoriert werden würden. Viele autmatisch erzeugte Dateien werden von CVS ignoriert. Der große Vorteil ist, dass dies Ordnerspezifisch mit einer .cvsignore -Datei eingestellt werden kann. (Schauen Sie unter info:/cvs/cvsignore.)
Finde versteckte Dateien und Verzeichnisse:
In einigen Dateisystemen haben Dateien ein Versteckt -Attribut. In anderen Dateisystemen markiert ein vorangestellter Punkt. eine Datei als versteckt. Diese Option lässt Sie entscheiden, ob diese Dateien im Elementbaum angezeigt werden sollen oder nicht. Diese Option ist in der Voreinstellung eingeschaltet.
Folge Datei-Verknüpfungen:
Bei Links auf Dateien: Wenn die Option abgeschaltet ist, werden symbolische Verknüpfungen verglichen. Wenn die Option eingeschaltet ist, werden die Dateien verglichen, auf die die Links zeigen. Dies ist in der Voreinstellung deaktiviert.
Folge Verzeichnis-Verknüpfungen:
Bei Links auf Ordner: Wenn die Option abgeschaltet ist, werden die symbolischen Links verglichen. Wenn die Option eingeschaltet ist, werden die Links wie normale Ordner behandelt und rekursiv durchsucht. (Beachten Sie, dass & kdiff3; nicht auf mögliche Rekursionen prüft. Ein Link auf einen Ordner der einen Link auf sich selbst enthält würde zu einer Endlosschleife führen und & kdiff3; stürzt ab.) Diese Option ist in der Voreinstellung abgeschaltet.
Dateivergleichsmethode:
Binärvergleich:
Dies ist die voreingestellte Vergleichsmethode.
Vollständige Analyse:
Führt eine vollständige Analyse jeder Datei durch und zeigt die Statistik-Spalten an. (Die Anzahl gelöster, ungelöster, nicht- weißer und weißer Konflikte.) Die vollständige Analyse ist langsamer als eine einfache binäre Analyse, und wesentlich langsamer, wenn sie auf Dateien angewendet wird, die keinen Text enthalten. (Geben Sie ein entsprechendes Anti-Muster ein.)
Vertraue dem Änderungsdatum (unsicher):
Wenn Sie große Ordner über ein langsames Netzwerk vergleichen, geht es möglicherweise schneller, nur das Änderungsdatum und die Dateigröße zu vergleichen. Dieser Geschwindigkeitsvorteil kostet Sie allerdings ein gewisses Maß an Sicherheit. Bitte mit Vorsicht benutzen. Diese Option ist in der Voreinstellung abgschaltet.
Vertraue der Größe (unsicher):
Ähnlich wie Vertraue dem Änderungsdatum. Es findet kein echter Vergleich statt. Die Dateien werden als identisch betrachtet, wenn sie gleich groß sind. Das kann z. B. nützlich sein, wenn beim Kopieren das Änderungsdatum verlorengegangen ist. Bitte mit Vorsicht benutzen. Diese Option ist in der Voreinstellung abgschaltet.
Verzeichnisse synchronisieren:
Aktiviert den Synchronisieren -Modus wenn zwei Ordner verglichen werden und kein Zielordner angegeben wurde. In diesem Modus werden die Vorschläge zum Zusammenführen so ausgewählt, dass nachher beide Ordner identisch sind. Auch die Ergebnisse vom Zusammenführen von Dateien werden in beiden Ordnern gespeichert. Diese Option ist in der Voreinstellung abgeschaltet.
Neuere Datei statt Zusammenführung auswählen (unsicher):
Falls es Unterschiede gibt, wird statt dem Zusammenführen das Kopieren der neueren Datei als Aktion vorgeschlagen. (Dies wird als unsicher betrachtet, denn es wird das Wissen vorausgesetzt, dass die andere Datei nicht auch verändert wurde. Sie sollten dies in jedem Fall prüfen.) Diese Option ist in der Voreinstellung abgeschaltet.
Wenn eine Datei oder ein Ordner durch eine andere ersetzt oder gelöscht wird, dann wird die Originalversion umbenannt und erhält die Erweiterung .orig. Wenn eine alte Backup-Datei mit der .orig -Erweiterung bereits existiert, so wird diese ohne weiteres Backup gelöscht. Das betrifft auch das normale Zusammenführen einzelner Dateien, nicht nur das Zusammenführen ganzer Ordner. Diese Option ist in der Voreinstellung eingeschaltet.
Verzeichnis & Textfenster teilen sich Hauptfenster
Normalerweise bleibt die Ordner-Zusammenführen-Ansicht währen dem Zusammenführen einzelner Dateien sichtbar; Sie können den Fensterteiler mit der Maus verschieben. Wenn Sie das nicht wollen, können Sie die Option Verzeichnis & Textfenster teilen sich Hauptfenster im Fenster -Menü abschalten und mittels Wechsel zwischen Verzeichnis & Textfenster zwischen den beiden Ansichten umschalten.
Vergleichen und Zusammenführen einer einzelnen Datei
Wahrscheinlich bevorzugen Sie, eine Datei einfach mittels Doppelklick zu vergleichen. Dennoch gibt es im Verzeichnis -Menü auch einen entsprechenden Menüeintrag. Sie können eine einzelne Datei auch direkt zusammenführen, ohne erst das Ordnerzusammenführen starten zu müssen. Dazu benutzen Sie die Funktion Aktuelle Datei Zusammenführen aus dem Zusammenführen -Menü. Sobald Sie das Ergebnis speichern, wird der Status auf Erledigt gesetzt und die Datei wird nicht nochmals zusammengeführt wenn Sie das Ordnerzusammenführen starten.
Dieser Status geht allerdings verloren, wenn Sie das Verzeichnis erneut einlesen: Verzeichnis -Menü: Neu einlesen
Vergleichen und Zusammenführen einer einzelnen Datei
Verschiedene Themen
Netzwerktransparenz durch KIO.
KIO-Slaves
KDE unterstützt Netzwerktransparenz mit Hilfe von KIO-Slaves. KDiff3 benutzt dies zum Einlesen von Dateien und Ordnern. Auf diese Weise können Sie Dateien und Ordner zum Öffnen angeben, die sich auf lokalen oder entfernten Rechnern befinden.
Beispiel:
kdiff3 test.cpp ftp://ftp.weitweg.org/test.cpp kdiff3 tar:/home/hacker/archiv.tar.gz/ordner ./ordner
Die erste Befehlszeile vergleicht eine lokale Datei mit einer auf einem FTP-Server. Die zweite Befehlszeile vergleicht einen Ordner innerhalb eines komprimierten Archivs mit einem lokalen Ordner.
Weitere interessante KIO-Slaves sind:
Dateien aus dem WWW (http:),
Dateien von FTP (ftp:),
Verschlüsselte Dateiübertragung (fish:, sftp:),
Windows-Ressourcen (smb:),
Lokale Dateien (file:),
Desweiteren wäre möglich (wenn auch weniger nützlich):
Man-Pages (man:),
Info-Seiten (info:),
Wie man eine URL schreibt
Eine URL hat eine andere Syntax als lokale Dateien und Ordner. Ein paar Dinge sollten Sie beachten:
Ein Pfad kann relativ sein und. oder.. enthalten. Das ist mit URLs nicht möglich, diese sind immer absolut.
Sonderzeichen müssen maskiert werden. (# - > %23, Leerzeichen- > %20, u.s.w.). Zum Beispiel hat eine Datei mit dem Namen /#foo# die URL file:/%23foo%23.
Wenn eine URL nicht wie erwartet funktioniert, versuchen Sie erstmal, diese im Konqueror zu öffnen.
Fähigkeiten von KIO-Slaves
Netzwerktransparenz hat auch einen Nachteil: Nicht alle Ressourcen haben die gleichen Fähigkeiten.
Manchmal aufgrund des Dateisystems auf dem Server, manchmal durch das verwendete Protokoll. Es folgt eine kurze Liste der Einschränkungen:
Teilweise werden keine Links unterstützt.
Oder es kann nicht unterschieden werden, ob ein Link auf eine Datei oder einen Ordner zeigt. Dann wird immer eine Datei als Link-Ziel angenommen. (ftp:, sftp:).
Die Dateigröße kann nicht immer ermittelt werden.
Eingeschränkte Unterstützung für Berechtigungen.
Es gibt keine Möglichkeit, Berechtigungen oder Veränderungsdatum zu bearbeiten. Daher weichen die Berechtigungen oder das Veränderungsdatum vom Original ab. (Beachten Sie hierzu die Option Vertraue der Größe.) (Dies ist nur bei lokalen Dateien möglich.)
& kdiff3; als KPart benutzen
& kdiff3; ist ein KPart. Zurzeit ist die KParts::ReadOnlyPart-Schnittstelle eingebaut.
Der hauptsächliche Verwendungszweck ist zurzeit als Unterschiede-Betrachter in KDevelop. KDevelop startet zuerst immer den eingebauten Unterschiede-Betrachter. Um KDiff3 zu starten, drücken Sie die rechte Maustaste über dem Unterschiede-Betrachter und wählen dann In KDiff3Part anzeigen aus dem Kontextmenü.
Normalerweise benötigt & kdiff3; zwei vollständige Eingabedateien. Wenn es allerdings als KPart angewendet wird, nimmt & kdiff3; an, dass die Eingabedatei eine Patch-Datei im unified-Format ist. Dann entnimmt & kdiff3; die Namen der Originaldateien aus der Patch-Datei. Mindestens eine der beiden Dateien muss existieren. Dann startet & kdiff3; das Programm patch um die fehlende Datei wiederherzustellen.
Im Konqueror können Sie auf eine Patch-Datei klicken und aus dem Kontextmenü Vorschau in - KDiff3Part auswählen. Beachten Sie bitte, dass das nicht funktioniert wenn keine der Originaldateien existiert. Ausserdem ist dies unzuverlässig, wenn sich die Originaldateien seit Erzeugung der Patch-Datei verändert haben.
Wenn & kdiff3; als Part ausgeführt wird, unterstützt es nur das Vergleichen von zwei Dateien, eine sehr kleine Werkzeugleiste und Menü. Das Zusammenführen oder das Vergleichen von Ordnern wird im KPart-Modus nicht unterstützt.
Fragen und Antworten
& reporting.bugs; & updating.documentation;
Warum heisst das Programm kdiff3;?
Werkzeuge mit dem Namen KDiff und KDiff2 (nun heist es Kompare) gibt es bereits. Ausserdem weist der Name KDiff3 bereits darauf hin, dass es Zusammenführen kann wie das Programm diff3 aus der Diff-Tool-Sammlung.
Warum wurde KDiff3 unter der GPL lizenziert?
Ich verwende GPL-Programme schon sehr lange und habe viel gelernt indem ich in die Quellen anderer Programme geschaut habe. Dies ist mein Dankeschön an alle Programmierer die diesen Weg gegangen sind oder ihn mal so gehen werden.
Einige Knöpfe und Funktionen fehlen. Was ist passiert?
Sie haben das Programm aus den Quellen kompiliert und dem configure-Skript vermutlich nicht den richtigen Prefix zu KDE mitgeteilt. In der Voreinstellung installiert configure in /usr/local, aber dann kann KDE die Ressourcen für die Benutzerschnittstellen nicht finden (z. B. kdiff3ui.rc). In der README-Datei finden Sie nähere Informationen zu diesem Thema.
Häufig werden ähnliche, aber nicht identische Zeilen nebeneinander angezeigt, und manchmal nicht. Warum?
Wenn nur die Anzahl an weißen Zeichen unterschiedlich ist, werden diese Zeilen erstmal als identisch behandelt; wenn jedoch auch nur ein nicht-weißes Zeichen unterschiedlich ist, wird die Zeile als nicht identisch behandelt. If similar lines appear next to each other, this actually is coincidence but this fortunately is often the case.
Warum müssen alle Konflikte gelöst sein, bevor das Ergebnis gespeichert werden kann?
Der Editor merkt sich für jeden Unterschied in den Dateien wo er beginnt und wo er endet. Das ist nötig, um einen Konflikt einfach durch das Klicken in den Quelltext und Auswählen des Knopfes A/B/C lösen zu können. Diese wichtige Information geht allerdings verloren, wenn das Ergebnis einfach als Textdatei gespeichert wird und es ist zuviel Aufwand, extra ein eigenes Dateiformat zu entwerfen, das diese Informationen speichern könnte.
Warum hat der Editor im Ergebnisfenster einer Zusammenführung keine Rückgängig -Funktion?
Der Aufwand dafür war bisher zu groß. Sie können eine bestimmte Version immer durch das Auswählen einer Quelle A/B/C wiederherstellen. Um grössere Mengen an Text zu bearbeiten sollte ein anderer Editor verwendet werden.
Nach dem entfernen von Text ist plötzlich lt;No src linegt; erschienen und der Text lässt sich nicht löschen. Was bedeutet das und wie kann das entfernt werden?
Der Editor merkt sich für jede gleiche und unterschiedliche Sektion wo sie beginnt und wo sie aufhört. lt;No src linegt; bedeutet, dass in dieser Sektion nichts mehr existiert, nocht nicht mal mehr das Zeichen für den Zeilenvorschub. Soetwas kann beim automatischen Zusammenführen oder beim Editieren passieren und ist kein Problem, denn der Text erscheint nicht in der gespeicherten Datei. Wenn Sie den Originaltext wiederhaben möchten, klicken Sie in die Sektion und wählen die korrekte Quelle A/B/C aus.
Warum unterstützt & kdiff3; keine Syntax-Hervorhebung?
& kdiff3; benutzt bereits viele Farben zum hervorheben von Unterschieden. Noch mehr Hervorhebung wäre verwirrend und verfehlt den Zweck. Benutzen Sie dafür bitte einen anderen Editor.
Wird Ihre Frage hier nicht beantwortet?
Bitte senden Sie mir Ihre Frage zu. Ich bin dankbar für jeden Kommentar.
Danksagungen und Lizenz
& kdiff3; - Ein Programm zum vergleichen und zusammenführen von Dateien und Ordnern
Programm-Copyright 2002-2007 Joachim Eibl joachim.eibl at gmx.de
Viele gute Ideen und Fehlerberichte kamen von Kollegen und vielen Leuten aus dem Wild Wild Web. Vielen Dank!
Dokumentation Copyright & copy; 2002-2007 Joachim Eibl joachim.eibl at gmx.de
Deutsche Übersetzung: Thomas Reitelbach tr@erdfunkstelle.de
& underFDL; & underGPL;
Installation
Wie Sie & kdiff3; bekommen können
Sie können die neueste Version von KDiff3 von der Homepage http://kdiff3.sourceforge.net herunterladen.
Kdiff3 gibt es auch für andere Plattformen. Besuchen Sie für Details bitte die Homepage.
Voraussetzungen
Um alle Funktionen von & kdiff3; nutzen zu können, benötigen Sie & kde; 3.1 oder neuer.
Informationen, wie Sie KDiff3 auf anderen Plattformen ohne KDE benutzen können finden Sie auf der Homepage.
Eine Liste der letzten Änderungen finden Sie unter http://kdiff3.sourceforge.net/ChangeLog oder in der Datei ChangeLog im Quell-Paket.
Kompilieren und Installation
Um & kdiff3; auf einem System mit & kde; zu kompilieren und installieren, benutzen Sie folgenden Befehl im Basisordner der & kdiff3;-Distribution:
% ./configure --prefix= kde-dir% make% make install
kde-dir gibt den Ordner in Ihrem System an, in dem KDE installiert ist. Wenn Sie unsicher sind, finden Sie weitere Details in der README-Datei.
Da & kdiff3; autoconf und automake verwendet, sollten Sie keine Probleme beim Kompilieren haben. Sollten dennoch Schwierigkeiten auftreten, berichten Sie bitte auf den & kde;-Mailinglisten davon.
Ausschneiden (Strg-X oder Umschalt-Entfernen) kopiert in die Zwischenablage und löscht den markierten Text. Einfügen (Strg-V oder Umschalt-Einfügen) fügt den Text aus der Zwischenablage an der aktuellen Cursorposition ein bzw. ersetzt die aktuelle Markierung.
Nur Unterschiede anzeigen: Dateien die in allen Ordnern identisch sind erscheinen nicht in der Ordnerstruktur, und folglich auch nicht im Zielordner.
(In der aktuellen Programmversion müssen Sie nach Änderungen an diesen Optionen den Ordner mit der Funktion Aktualisieren neu einlesen.)
Nur Unterschiede anzeigen:
Es werden nur Einträge angezeigt, die Unterschiede aufweisen. Das führt auch dazu, dass identische Dateien beim Zusammenführen nicht in den Zielordner kopiert werden. Falls der Zielordner diese Dateien nicht bereits enthält, fehlen sie nach dem Zusammenführen. (Das Verhalten wird in einer späteren Programmversion wahrscheinlich abgeändert.) Diese Option ist in der Voreinstellung abgeschaltet.
Dieses Bildschirmphoto zeigt die Unterschiede zwischen zwei Textdateien
Dokumentation zum Vergleichen und Zusammenführen von Dateien
Beachten Sie die Knöpfe zur Auswahl der Quelle mit der Beschriftung A, B und C unterhalb der Menüleiste. Wenn Sie auf einen der Knöpfe klicken, werden die Zeilen aus dem entsprechenden Fenster an das Ende der ausgewählten Gruppe im Ergebnisfenster angehängt (wenn sie nicht bereits vorhanden sind). Falls die Zeilen bereits vorhanden sind, werden sie beim Klicken auf den Knopf entsprechend wieder entfernt.
Hinweis: Sie können auch jede Zeile manuell bearbeiten. Die Zusammenfassungs-Spalte zeigt dann ein m in jeder Zeile, die Sie von Hand bearbeitet haben.
Verwendung der lokalen Codetabelle:
Zum Anzeigen ausländischer Zeichen. Ändern Sie diese Option, wenn ausländische Zeichen nicht korrekt angezeigt werden.
In der Voreinstellung ist diese Option deaktiviert. Underschiede in einzelnen Zeichen (wie z. B. 'A' und 'a') werden wie Unterschiede in weißen Zeichen behandelt.
sed -Grundlagen
Dies ist die voreingestellte Vergleichsmethode.
kdiff3 Ordner1 Ordner2 kdiff3 Ordner1 Ordner2 -o Zielordner
echo abrakadabra | sed 's/a/o/g;s/\\(.*\\)/\\U\\1 /' - > OBROKODOBRO
echo abrakadabra | sed 's/a/o/g;s/\\(.*\\)/\\U\\1 /' - > OBROKODOBRO
sed -Grundlagen
sed -Grundlagen
sed -Grundlagen
perl statt sed benutzen
kdiff3 Ordner1 Ordner2 kdiff3 Ordner1 Ordner2 -o Zielordner
Eine Zusammenführung durchführen
Weitere Funktionen
Netzwerktransparenz via KIO
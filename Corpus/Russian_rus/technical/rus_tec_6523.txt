# language_name_wals:	Russian
# language_name_glotto:	Russian
# iso639_3:	rus
# year_composed:	NA
# year_published:	NA
# mode:	written
# genre_broad:	technical
# genre_narrow:	NA
# writing_system:	Cyrl
# special_characters:	NA
# short_description:	KDE4
# source:	https://object.pouta.csc.fi/OPUS-KDE4/v2/raw/ru.zip
# copyright_short:	http://opus.nlpl.eu/KDE4.php
# copyright_long:	http://opus.nlpl.eu/KDE4.php J. Tiedemann, 2012, Parallel Data, Tools and Interfaces in OPUS. In Proceedings of the 8th International Conference on Language Resources and Evaluation (LREC 2012)
# sample_type:	whole
# comments:	NA

Набор команд для Hayes- совместимых модемов
Ниже приводится описание набора команд для Hayes- совместимых модемов. Большинство модемов поддерживают этот набор команд в достаточно большой степени. Если вы потеряли руководство по эксплуатации вашего модема (или если руководства не было), этот раздел может быть оказаться весьма полезным. К примеру, я определил, как отключать динамик моего модема: команда ATM0 -- наконец- таки тишина!
Инициализационная строка модема являет собой последовательность команд. Она подготавливает модем к коммуникациям, задавая ему такие параметры как: режим дозвона, ожидание, определение сигнала Занято и многие другие установки. Современные коммуникационные программы создают строки инициализации сами, на основе выбранных вами опций меню, на основе включенных вами функций, и т. д.
На протяжении многих лет Hayes- совместимые модемы являются промышленным стандартом. Несмотря на возросшее количество производителей модемов, большинство из них очень близки к стандарту Hayes- совместимых. Ниже приводится (частично) набор команд для Hayes - совместимых модемов. (Так называемые AT - команды). Набор команд для Hayes- совместимых модемов можно разделить на четыре группы:
Основной набор команд
Цифра после заглавной буквы. Например, M1.
Расширенный набор команд
Символ amp; (амперсант) с последующей заглавной буквой в сочетании с цифрой. Это расширение основного набора команд. К примеру, amp; M1. Обратите внимание на то, что команда M1 отлична от команды amp; M1.
Частный набор команд
Обычно начинающиеся с символа обратного слэша (\\) или знака процента (percnt;), эти команды очень различаются на разных моделях модемов. По этой причине ниже приведены только некоторые из них.
Команды для управления регистрами
S r = n, где r означает номер регистра, значение которого нужно изменить, а n -- заменяющее значение.
Регистр -- компьютерный термин, означающий некую физическую область памяти. Количество памяти в модемах мало. Этот четвертый набор команд используется для ввода значения в определенный регистр (область в памяти). Регистр хранит определенную переменную (алфавитно- цифровые данные), которые используются модемом и коммуникационным программным обеспечением. К примеру, команда S7=60 указывает компьютеру Установить значение регистра # 7 равным 60.
Кроме того, большинство команд определяются буквенно- цифровой комбинацией (L0, L1 и так далее), использование нуля является необязательным. К примеру, команда L0 аналогична команде L. Имейте это ввиду при ознакомлении с таблицей, приведенной ниже!
Ниже приводятся некоторые из наиболее важных символов в строке инициализации модема. Как правило, изменение этих символов не требуется.
AT
Указывает модему, что последует набор команд. С этой команды начинаться каждая строка, содержащая команды.
Z
Сбросить установки модема в состояние по умолчанию
, (запятая)
задерживает выполнение программы на одну секунду. Допускается использование нескольких команд, в одном ряду. Например, команда,,,, создаст задержку в 4 секунды. (Время паузы задается значением регистра S8.
^M
Отправляет модему символ- прерывание Возврат каретки (CR). Этот управляющий код большая часть коммуникационных программ понимает как Carriage Return
Основной набор команд Hayes
В алфавитном порядке:
Основной набор команд Hayes
Команда
Описание
Комментарии
A0 или A
Ответить на входящий звонок
A /
Повторить последнюю выполненную команду
Не предварять командой AT. За этим, как правило, следует завершение сеанса.
B0 или B
Обработка входящих звонков
Процедура ответа на входящий звонок - протокол V32/ CCITT
B1
Процедура ответа на входящий звонок - Bell 212A
B2
Режим ответа на входящий звонок: Отчет/ Без отчета
D
Дозвон
Дозвониться по указанному номеру и выполнить процедуру приветствия.
P
Импульсный набор номера
T
Тоновый набор номера
W
Ожидать повторного зуммера
,
Выдержать паузу, заданную значением регистра S8 (обычно 2 секунды)
;
После дозвона остаться в командном режиме
!
Краткое прерывание линии (На полсекунды повесить трубку, как в случае перевода звонка.
L
Набрать последний набранный номер
E0 или E
Без эхо
В компьютер не поступает эхо- команд
E1
Эхо
В компьютер поступает эхо- команда (отображаются набранные символы)
H0
Состояние линии
Линия используется - повесить трубку
H1
Состояние линии
Линия свободна - поднять трубку
I0 или I
Запрос на сведения
Эта команда сильно зависит от модели модема. Обычно, команда I0 возвращает число или код, тогда как более высокие номера предоставляют намного более полезные сведения.
L0 или L
Громкость динамика модема. Эти опции отсутствуют у модемов с механической регулировкой.
Громкость динамика модема в положении Тихо или Выключено
L1
Громкость динамика модема в положении Тихо
L2
Громкость динамика модема в положении Средне
L3
Громкость динамика модема в положении Громко
M0 или M
Динамик модема выключен
Команда M3 также встречается, но на разных моделях интерпретируется по- разному
M1
Динамик включен, пока не определен удаленный носитель (т. е., пока не будет услышан другой модем)
M2
Динамик модема всегда включен (после соединения слышны звуки передачи данных)
N0 или N
Скорость при приветствии
Приветствовать только при скорости, указанной в регистре S37
N1
Приветствовать при наибольшей скорости, по значению превышающей значение регистра S37
O0 или O
Вернуться в режим На связи
Смотрите также X1, так как может быть включен режим определения наличия зуммера.
O1
Вернуться в режим На связи после выполнения проверки эквалайзера
Q0 или Q1
Тихий режим
Выключено - отображаются коды ответов, пользователь видит ответы на команды (например, OK)
Q1
Включено - коды ответов опускаются, пользователь их не видит.
S n?
Запросить значение S- регистра n
S n = r
Сохранить
Сохранить значение r в S- регистре n
V0 или V
Режим отчета
Цифровые коды ответов
V1
Коды ответов на английском языке (к примеру, CONNECT, BUSY, NO CARRIER и так далее)
X0 или X
Smartmodem
Коды ответов для модемов, совместимых с Hayes Smartmodem 300
X1
Добавляет скорость соединения к основному коду ответа (например CONNECT 1200
X2
Добавляет определение способа набора номера (предотвращает дозвон вслепую и иногда предотвращает выполнение команды AT0)
X3
Добавляет определение сигнала Занято
X4
Добавляет определение сигналов Занято и Тональный набор
Z0 или Z
Сброс
Сбросить установки модема и загрузить сохраненную схему конфигурации. Используйте команды Z0, Z1, и т. д., если вы используете несколько схем. Эквивалент команды amp; F для загрузки заводских установок на модемах без NVRAM (non voltaile memory)
Расширенный набор команд Hayes
Команды с амперсендом
amp; B0 or amp; B
Параметры повтора
Выключить функцию автоповтора
& B1
Включить функцию автоповтора
& B2
Включить функцию автоповтора, но разъединиться, если состояние линии не улучшилось за период времени, заданный значением регистра S7
amp; C0 или amp; C1
Определение наличия связи
Сигнал всегда включен
& C1
Соответствует удаленному носителю (как правило, оставляйте без изменений)
amp; D0 или amp; D
DTR -- Готовность к передаче данных
Сигнал игнорируется (Зависит от модема, сведения вы можете найти в руководстве по эксплуатации!)
& D1
Если DTR переключается из состояния Включено в Выключено, модем переходит в командный режим (только некоторые модели)
& D2
Некоторые модемы при изменении состояния DTR вешают трубку (Как правило, является установкой по умолчанию)
& D3
Повесить трубку, сбросить установки модема в начальное состояние и перейти в командный режим при сигнале DTR
amp; F0 или amp; F
Заводские установки
Установки по умолчанию для Generic Hayes- совместимых модемов.
Как правило, имеет смысл использовать эту команду в строке инициализации модема, так как команды amp; F1 - amp; F3 могут по- разному быть поняты различными модемами, тем самым вызывая проблемы при соединении. (Никогда нельзя точно знать какие установки изменяет команда amp; F2.
С другой стороны, бывает целесообразным использовать приведенные ниже опции; большинство проблем можно решить, заменив сложную строку инициализации простой командой amp; F2 или подобной. Тем не менее, если вы создаете строку инциализации, лучше начать ее простой командой amp; F, а не использовать измененные типы установок по умолчанию.
& F1
Заводские установки
Заводские установки, прошитые в IBM PC - совместимых модемах
& F2
Заводские установки с программным приветствием (Макинтош)
& F3
Заводские установки с аппаратным приветствием (Макинтош)
amp; G0 or amp; G
Защитные тоновые сигналы
Выключить защитные тоновые сигналы
amp; K0 или amp; K
Локальное управление потоком
Выключить локальное управление потоком
& K1
Включить локальное аппаратное управление потоком RTS/ CTS
& K2
Включить локальное программное управление потоком XON/ XOFF
& K3
& K4
amp; L0 или amp; L
Режим дозвона
Выбрать режим дозвона
amp; M0 или amp; M
Режим контроля ошибок
Выбрать асинхронный не - EC режим (то же самое, что и команда amp; Q0)
amp; P0 или amp; P
Соотношение набор- пауза импульсного дозвона
Импульсный дозвон с соотношением набор- пауза 39% / 61% (США/ Канада)
& P1
Импульсный дозвон с соотношением набор- пауза 33% / 67% (Великобритания/ Гонконг)
amp; Q0 или amp; Q
Асинхронный не - EC режим. Буферизация данных отключена. ASB отключено.
& Q5
Выбрать операцию EC протокола V. 42 (необходимо управление потоком)
& Q6
Асинхронный режим с ASB (необходимо управление потоком)
& Q8
Выбрать альтернативный протокол EC (MNP)
& Q9
Условное сжатие данных: V. 42bis = да, MNP5 = нет.
amp; S0 или amp; S
Выбор действия DSR
Всегда в состоянии Включено (по умолчанию)
& S1
Следовать спецификации EIA (Включено слежение за тональным сигналом носителя, до потери связи.)
amp; T0 или amp; T
Самопроверка
Самопроверка (у некоторых модемов, зависит от модели)
amp; U0 или amp; U
Решетчатая модуляция кода
Включить протокол V. 32 TCM
& U1
Выключить протокол V. 32 TCM
amp; V0 или amp; V1
Просмотреть активную конфигурацию
(и, зачастую, сохраненную) (то же, что и команда ATI4
amp; W0 или amp; W
Сохранить схему
В NVRAM (команды amp; W0, amp; W1, и т. д. для нескольких схем). Некоторые установки сохранению не подлежат. Они не выводятся в ответ на команду amp; V или же ATI4
amp; Y0 или amp; Y
Выбрать конфигурацию, загружаемую при включении питания
Загрузить схему 0 (по умолчанию)
& Y1
Загрузить схему 1
& Z n = x
Мягкий сброс установок и загрузка схемы номер n
Заметьте, что содержимое командной строки после amp; Z будет проигнорировано
Команды Backslash (обратный слэш) и Percent (процент)
\\ A0 или\\ A
Максимальный размер блока MNP (в символах)
64 символа максимум
\\ A1
128 симоволов максимум
\\ A2
192 символа максимум
\\ A3
256 символов максимум
percnt; C0 или percnt; C
Включить/ Выключить режим сжатия данных
Выключить
& percnt; C1
Включить MNP5
& percnt; C2
Включить V. 42bis (BTLZ)
& percnt; C3
Включить MNP5 & V. 42bis (BTLZ)
percnt; D0 или percnt; D
Сжатие данных
Размер словаря 512 BLTZ
& percnt; D1
Размер словаря 1024 BLTZ
& percnt; D2
Размер словаря 2048 BLTZ
& percnt; D3
Размер словаря 4096 BLTZ
percnt; E0 или percnt; E1
Метод Escape
Выключить ESCAPE
& percnt; E1
Метод +++AT (по умолчанию)
& percnt; E2
Метод Break AT
& percnt; E3
Включить оба метода
& percnt; E4
Выключить получение отклика OK на команду +++
& percnt; E5
Включить получение отклика OK на команду +++
\\ J0 или\\ J
Авторегулировка DTE
\\ J1
Значение DTE приводится в соответствие со значением носителя.
\\ N0 или\\ N
Тип соединения
Нормальное соединение (определение приведено ниже)
\\ N1
Прямое соединение
\\ N2
Соединение с надежной (с авторегулировкой) связью MNP
\\ N3
Соединение с надежной (с авторегулировкой) связью
\\ N4
Надежная связь протокола V. 42bis с определением фазы
\\ N5
Надежная (с авторегулировкой) связь протокола V. 42bis с определением фазы
\\ N6
Надежная связь протокола V. 42 с определением фазы
\\ N7
Надежная (с авторегулировкой) связь протокола V. 42 с определением фазы
Прямое соединение -- это простое соединение без использования протоколов коррекции ошибок и сжатия данных. В этом случае скорости компьютер- модем и модем- модем должны быть идентичными.
Нормальное соединение использует управление потоком (аппаратное или программное) для буферизации отправленных и полученных данных, таким образом, модем может передавать данные на скорости, отличной от скорости передачи компьютера. К примеру, компьютер может отправлять данные на скорости 57 Кб/ с с использованием сжатия, а модем ведет передачу на скорости 28. 8 Кб/ с. Этот режим используется большинством модемов.
Соединение с надежной связью подобно нормальному соединению; если по какой- либо причине не происходит сжатия данных или отключен режим коррекции ошибок, в таком случае произойдет разъединение. (В частности, такой модем проверяет все соединения на предмет надежности, в противном же случае вешает трубку.)
Соединение с надежной (с авторегулировкой) связью является практически тем же самым, разве что модем будет пытаться соединиться заново для установления соединения с надежной связью. Большинство модемов используют этот режим.
S- регистры
S- регистры
Регистр
Диапазон
По умолчанию
Функция
S0
0- 255 звонков
1- 2
Ответить при определенном количестве звонков. Не отвечать при значении 0
S1
0
Если значение регистра S0 больше 0, этот регистр предназначен для подсчета входящих звонков.
S2
0- 127 ASCII
43 +
Переход в командный режим симовлом ESC
& gt; 127
неприятие символа ESC
S3
13 CR
Символ возврата каретки
S4
10 LF
Символ перехода на новую строку
S5
0- 32, 127 ASCII
8 BS
Символ забоя
S6
2- 255 секунд
2
Время ожидания зуммера (для набора номера вслепую смотрите X n
S7
1- 255 секунд
30- 60
Время ожидания ответа удаленного носителя
S8
0- 255 секунд
Время паузы при дозвоне
S9
1- 255 1/ 10- ых долей секунды
6
Время на определение наличия связи
S10
7- 14
Время между утратой связи и командой модему повесить трубку
S11
50- 255 миллисекунд
70- 95
Продолжительность тоновых сигналов и интервал между ними при тональном наборе номера
S12
0- 255 1/ 50- ых долей секунды
50
Задержка при выполнении команды +++
S36
Возможные опции при невозможности устранить ошибки связи:
0 - Разъединить
1 - Установить прямое соединение
3 - Установить нормальное соединение
4 - Установить MNP - соединения при возможности, иначе разъединить
5 - Установить MNP - соединение при возможности, иначе установить прямое соединение.
7 - Установить MNP - соединение при возможности, иначе установить нормальное соединение
7
Обработка сбоев установления связи
S37
1 = 300 bps
5 = 1200 bps
6 = 2400 bps
7 = 1200/ 75 bps (протокол v. 23)
8 = 4800 bps
9 = 9600 bps
10 = 12000 bps
11 = 14400 bps
12 = 7200 bps
Начальная скорость (установление связи)
У многих модемов существуют десятки, даже сотни S- регистров, но стандартными являются только первые десять. Их значения изменяются командой ATS n = N, а проверяются командой ATS n? (например, команда AT S10 =70 S1? укажет модему не вешать трубку в в течении семи секунд без ответа другого модема и вернет последнее зарегистрированное число звонков.)
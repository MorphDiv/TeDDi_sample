# language_name_wals:	Russian
# language_name_glotto:	Russian
# ISO_6393:	rus
# year_composed:	NA
# year_published:	NA
# mode:	written
# genre_broad:	technical
# genre_narrow:	NA
# writing_system:	Cyrl
# special_characters:	NA
# short_description:	KDE4
# source:	https://object.pouta.csc.fi/OPUS-KDE4/v2/raw/ru.zip
# copyright_short:	http://opus.nlpl.eu/KDE4.php
# copyright_long:	http://opus.nlpl.eu/KDE4.php J. Tiedemann, 2012, Parallel Data, Tools and Interfaces in OPUS. In Proceedings of the 8th International Conference on Language Resources and Evaluation (LREC 2012)
# sample_type:	whole
# comments:	NA

Конфигурационные файлы & kdm;
Эта глава описывает файлы, определяющие поведение & kdm;. Некоторые его аспекты, но не все, могут быть настроены через соответствующий модуль Центра управления KDE.
& kdmrc; & mdash; основной конфигурационный файл & kdm;
Формат файла похож на формат INI- файлов. Пары опция- значение организованы в секции. Все наименования регистрозависимы. Если & kdm; встретит в файле синтаксическую ошибку, непредусмотренную опцию или секцию, будет выведено сообщение о некритической ошибке.
Строки, начинающиеся с символа #, являются комментариями. Комментарии и пустые строки игнорируются.
Начало секции отмечается так: [имя секции].
Вы можете настроить каждый Х- дисплей отдельно.
С каждым дисплеем связан идентификатор. Он включает имя, состоящее из имени машины (нулевое для локальных дисплеев, заданных в файле Xservers), двоеточия и номера монитора. Кроме того, дисплей может принадлежать к классу дисплеев (в большинстве случаев это можно не учитывать).
Синтаксис секций, связанных с конкретным дисплеем (под словом "раздел" здесь и далее понимается раздел секции): [X - nbsp; машина nbsp; [nbsp;: nbsp; номер nbsp; [nbsp; _ nbsp; класс nbsp;] nbsp;] nbsp; - nbsp; раздел nbsp;]
Все секции с одинаковым именем раздела составляют класс секций.
Вы можете использовать шаблон * (соответствует любому количеству любых символов) вместо имени машины, номера и класса. Вы можете опустить эти компоненты, что аналогично замене их на *. Часть имени машиныможет соответствовать спецификации домена, например,. inf. tu- dresden. de. Вы также можете использовать шаблон + (который соответствует непустой строке).
Чтобы выбрать секцию, из которой берётся настройка, программа использует следующие правила:
Полное совпадение имени имеет большую значимость, чем частичное, значимость которого, в свою очередь, больше, чем у шаблона. Шаблон + имеет большую значимость, чем *.
Значимость уменьшается слева направо для равных по предыдущему критерию совпадений.
В качестве примера возьмём имя дисплея "myhost. foo: 0", класс "dpy". Следующие названия секций приведены в порядке убывания значимости:
[X- myhost. foo: 0_ dpy]
[X- myhost. foo: 0 _ *] (то же, что и [X- myhost. foo: 0])
[X- myhost. foo: * _ dpy]
[X- myhost. foo: * _ *] (то же, что и [X- myhost. foo])
[X -. foo: * _ *] (то же, что и [X -. foo])
[X- +: 0_ dpy]
[X - *: 0_ dpy]
[X - *: 0 _ *] (то же, что и [X - *: 0])
[X - *: * _ *] (то же, что и [X - *])
Следующие названия секций НЕ соответствуют этому дисплею:
[X- hishost], [X- myhost. foo: 0_ dec], [X - *: 1], [X -: *]
Стандартные секции файла: [X - *] (относится ко всем дисплеям), [X -: *] (относится ко всем локальным дисплеям) и [X -: 0] (относится к первому локальному дисплею).
Формат всех параметров таков: опция = значение. Опции действительны только в том классе секций, для которого они определены. Некоторые настройки не применяются к определённым дисплеям. В этом случае они игнорируются.
Если настройка не найдена ни в одной из соответствующих монитору секций, используется значение по умолчанию.
В списках поля разделяются запятыми. Вокруг запятой не должно быть пробелов.
Исходный файл & kdmrc; очень подробно прокомментирован. Если для настройки kdm будет использован kcontrol, все комментарии будут удалены.
Секция [General] файла & kdmrc;
Эта секция содержит общие настройки.
ConfigVersion
Этот параметр относится к автоматическому обновлению. НЕ изменяйте его, это может препятствовать будущим обновлениям и привести к тому, что & kdm; не сможет запуститься.
StaticServers
Значение по умолчанию —: 0.
ReserveServers
Список дисплеев, активируемых по требованию. Синтаксис описан в & # 160; StaticServers.
Значение по умолчанию — пустая строка.
ServerVTs
Список виртуальных терминалов, на которых может быть запущена система Х. Если указано отрицательное число, берётся значение по модулю. Графическая система Х может быть запущена на терминале, только если ядро показывает, что этот терминал свободен. Если Х не удалось запустить ни на одном терминале, будет предпринята попытка использовать терминал с номером на единицу больше, чем последняя запись в списке.
ConsoleTTYs
PidFile
В файле с указанным именем будет сохраняться идентификатор основного процесса (PID) & kdm;. Если имя не задано, PID сохраняться не будет.
LockPidFile
Эта опция определяет, будет ли & kdm; использовать файл блокировки для того, чтобы не было запущено более одного экранного диспетчера.
Значение по умолчанию — true.
AuthDir
В указанном каталоге & kdm; будет хранить файлы авторизации Х- сервера во время запуска сеанса. & kdm; требует, чтобы при перезагрузке система удаляла устаревшие файлы.
Файл авторизации для конкретного дисплея можно указать через параметр AuthFile секции [X - * - Core].
Значение по умолчанию — / var/ run/ xauth.
AutoRescan
Параметр определяет, будет ли & kdm; перечитывать файлы настроек при их изменении. Возможные значения — true (да) и false (нет).
ExportList
Дополнительные переменные окружения. Они будут доступны всем программам, которые запускает & kdm;. Желательно, хотя не обязательно, указать LD_ LIBRARY_ PATH и XCURSOR_ THEME.
RandomFile
Если в системе нет источника энтропии (т. е. псевдослучайных данных), такого, как / dev/ urandom (см. опцию RandomDevice) и не запущен какой- либо демон (пример -- EGD), способный возвращать случайные числа (см. опции PrngdSocket и PrngdPort), & kdm; будет использовать собственный генератор псевдослучайных чисел. Кроме всего прочего, этот генератор будет использовать значение контрольной суммы файла kdmrc.
Если программа выполняется на Linux или ОС семейства BSD, этот параметр отсутствует.
Значение по умолчанию — / dev/ mem.
PrngdSocket
Если в системе нет источника энтропии, такого, как / dev/ urandom (см. опцию RandomDevice), KDM будет получать случайные данные от демона генерации псевдослучайных чисел (пример такого демона -- EGD, http: // egd. sourceforge. net) через указанный сокет UNIX.
PrngdPort
Задаёт сокет TCP на локальной машине. Функция та же, что и у PrngdSocket.
RandomDevice
Путь к символьному устройству, с которого KDM будет считывать случайные данные. Если значение не указано, то оно будет задаваться системой (если в ней есть устройство генерации случайных чисел).
Если программа работает под OpenBSD, параметр отсутствует, так как используется функция arc4_ random.
FifoDir
В указанном каталоге будут создаваться управляющие сокетные соединения. Если значение не указано, каналы не используются.
Значение по умолчанию — / var/ run/ xdmctl.
FifoGroup
Определяет, какой группе пользователей принадлежит файл, соответствующий глобальному управляющему сокетному соединению. Можно указать как имя, так и номер группы.
DataDir
В указанном каталоге & kdm; будет хранить данные, требующиеся для работы. К таким данным относится, например, имя последнего пользователя, вошедшего в систему на каком- либо дисплее.
Значение по умолчанию — / var/ lib/ kdm.
DmrcDir
В указанном каталоге & kdm; будет хранить пользовательские файлы. dmrc. Параметр используется, только если домашний каталог становится доступными для чтения только после входа пользователя в систему (пример — файловая система AFS).
Параметры секции [Xdmcp] файла & kdmrc;
Параметры этой секции определяют, как & kdm; будет обрабатывать запросы & XDMCP;.
Enable
Определяет, будет ли & kdm; принимать запросы & XDMCP;. Значение по умолчанию — true.
Port
Номер порта UDP, через который & kdm; будет принимать запросы & XDMCP;. Изменение может потребоваться только при отладке системы.
Значение по умолчанию — 177.
KeyFile
Метод аутентификации & XDMCP; XDM- AUTHENTICATION- 1 требует, чтобы & kdm; связывал с каждым терминалом ключ доступа. Эта опция задаёт путь к файлу, содержащему ключи. Каждая запись в файле должна состоять из имени дисплея и ключа.
Xaccess
Для того, чтобы предотвратить несанкционированный доступ к & XDMCP;, но разрешить перенаправление запросов & XDMCP; (IndirectQuery), система использует файл, содержащий базу данных имён машин, которым разрешён прямой доступ к компьютеру, или на которых содержится список машин, на которые будут перенаправляться запросы. Формат этого файла описан в документе.
Значение по умолчанию — ${kde_ confdir} / kdm/ Xaccess.
ChoiceTimeout
Определяет время (в секундах), в течение которого программа будет ждать ответа от дисплея после того, как пользователь указал машину в окне выбора. Если в этот срок от дисплея был получен непрямой запрос & XDMCP; (IndirectQuery), он перенаправляется выбранной машине, иначе - он рассматривается как связанный с другим сеансом, и окно выбора машины выводится снова.
Значение по умолчанию — 15.
RemoveDomainname
Обычно при определении имени дисплея для клиентов & XDMCP; возвращается полное имя машины. Поскольку это может привести к ошибкам, & kdm; удаляет часть, соответствующую доменному имени, если оно совпадает с именем локальной машины (если опция включена).
SourceAddress
Использовать IP- адрес компьютера, который подключается к системе вместо имени машины. Это используется, чтобы предотвратить попытки подключения к незапущенному интерфейсу.
Значение по умолчанию — false.
Willing
Задаёт программу, которая запускается (от имени root), когда система получает широковещательный или прямой запрос & XDMCP; (DirectQuery/ BroadcastQuery) и должна предоставить возможность управления дисплеем через & XDMCP;. Вывод этой программы может отображаться в окне выбора машины. Если программа не указана, посылается строка Willing to manage.
Параметры секции [Shutdown] файла & kdmrc;
Секция содержит параметры, связанные с выключением системы.
HaltCmd
Команда останова/ выключения системы.
По умолчанию установлено значение, подходящее для системы, на которой был собран & kdm;, например, / sbin/ shutdownnbsp; - h nbsp; now.
RebootCmd
Команда перезагрузки системы.
По умолчанию установлено значение, подходящее для системы, на которой был собран & kdm;, например, / sbin/ shutdownnbsp; - r nbsp; now.
AllowFifo
Определяет, разрешено ли выключать систему через глобальное управляющее сокетное соединение.
AllowFifoNow
Определяет, разрешено ли прерывать запущенные сеансы при выключении системы через глобальное управляющее сокетное соединение.
Если параметр AllowFifo отключен, этот параметр ни на что не влияет.
BootManager
Диспетчер загрузки системы, который будет использоваться для вывода параметров загрузки в диалоге завершения работы.
None
Нет диспетчера загрузки
Grub
Загрузчик Grub
Lilo
Загрузчик Lilo (только Linux i386 и x86- 64)
Значение по умолчанию — None.
Параметры класса секций [X -: * - Core] файла & kdmrc;
Секции этого класса содержат настройки ядра & kdm;.
OpenDelay
См. параметр OpenRepeat.
OpenTimeout
Значение по умолчанию — 120.
OpenRepeat
Эти опции определяют поведение & kdm; при установке соединения с Х- сервером. OpenDelay задаёт задержку (в секундах) между попытками, OpenRepeat -- количество попыток, OpenTimeout -- время, в течение которого система будет пытаться установить соединение. Если было сделано количество попыток, указанное в OpenRepeat, или прошло время, указанное в OpenTimeout, подключение считается неудавшимся.
Значение по умолчанию — 5.
StartAttempts
Определяет, сколько раз & kdm; будет пытаться запуститься на дисплее указанном в файле Xservers с ключевым словом foreign. Если все попытки были неудачными, дисплей отключается. Для локальных дисплеев предпринимается одна попытка, для дисплеев & XDMCP; количество попыток зависит от программы- клиента (если Х- сервер не был запущен с опцией - once).
Значение по умолчанию — 4.
ServerAttempts
Определяет количество попыток запуска Х- сервера. Под запуском понимается выполнение программы и ожидание её завершения.
Значение по умолчанию — 1.
ServerTimeout
Определяет время (в секундах), в течение которого & kdm; будет ожидать запуска Х- сервера.
ServerCmd
По умолчанию установлено значение, имеющее смысл для системы, на которой был собран & kdm;, например, / usr/ X11R6/ bin/ X.
ServerArgsLocal
Дополнительные параметры X- серверов локальных сеансов.
ServerArgsRemote
Дополнительные параметры X- серверов удалённых сеансов.
ServerVT
ServerTTY
PingInterval
См. параметр PingTimeout.
PingTimeout
Чтобы определить, доступны ли удалённые дисплеи, & kdm; периодически опрашивает их. Опция PingInterval определяет интервал между запросами (в минутах), PingTimeout задаёт время (в минутах), в течение которого & kdm; будет ожидать ответа. Если ответ не был получен, сеанс считается неработающим и прерывается.
Если вы часто используете Х- терминалы, связь которых с управляющей машиной может прерываться, возможно, следует увеличить время ожидания. Однако при этом, если произойдёт выключение терминала, сеанс некоторое время будет существовать.
TerminateServer
Определяет, будет ли & kdm; заново запускать локальный Х- сервер после завершения сеанса. Выключите опцию, если при попытке перезапуска Х- сервера происходит утечка памяти или сбой системы.
ResetSignal
Номер системного сигнала, который будет использоваться для перезапуска локального Х- сервера.
Значение по умолчанию — 1 (SIGHUP).
TermSignal
Номер системного сигнала, который будет использоваться для остановки локального Х- сервера.
Значение по умолчанию — 15 (SIGTERM).
Authorize
Определяет, будет ли & kdm; использовать авторизацию при подключениях к локальным Х- серверам. Дисплеи & XDMCP; сами определяют, будет ли использована авторизация; удалённые дисплеи, работающие не через & XDMCP;, авторизацию не поддерживают.
AuthNames
Если опция Authorize включена, KDM будет использовать механизмы авторизации, перечисленные здесь. Авторизацию по методу MIT- MAGIC- COOKIE- 1 можно использовать всегда, доступность методов XDM- AUTHORIZATION- 1, SUN- DES- 1 и MIT- KERBEROS- 5 определяется параметрами, заданными при сборке программы.
Значение по умолчанию — DEF_ AUTH_ NAME.
ResetForAuth
Некоторые старые версии Х- серверов перечитывают файл авторизации при перезапуске, а не во время подключения. Как как & kdm; создаёт информацию о авторизации перед подключением к дисплею, такой Х- сервер будет работать с, возможно, устаревшей информацией. Если эта опция включена, & kdm; будет отправлять Х- серверу сигнал SIGHUP. При этом Х- сервер перезапустится и считает обновлённую информацию.
AuthFile
Через указанный файл & kdm; и Х- сервер будут обмениваться информацией о авторизации (если Х- сервер был запущен с опцией - auth). Право записи в каталог с этим файлом должно быть ограничено, так как при удалении файла механизм авторизации Х- сервера отключается. Если значение не указано, файл со случайно сгенерированным именем будет создан в каталоге AuthDir. Имя файла будет содержать имя дисплея.
Resources
Задаёт файл, который программа xrdb будет применять в качестве файла ресурсов к корневому окну экрана с номером 0. (Под словом "ресурсы" понимаются специфические настройки, с помощью которых можно определить поведение Х- сервера в мельчайших деталях.) Обычно файлы ресурсов Х- сервера не влияют на программы KDE, так что эта опция может понадобиться только в случае, когда ресурсы использует программа, указанная в параметре Setup.
Xrdb
Программа xrdb для считывания и анализа файла X- ресурсов, указанного в параметре Resources.
Значение по умолчанию — ${x_ bindir} / xrdb.
Setup
Указанная программа выполняется (с правами root) перед выводом окна приглашения (окна входа в систему). Вы можете использовать её, чтобы изменить внешний вид экрана в момент вывода окна приглашения, или чтобы вывести другие окна (например, программы xconsole). Общепринятым именем для используемой здесь программы является Xsetup. См..
Startup
Указанная программа выполняется (с правами root) после успешного входа пользователя в систему. Общепринятым именем для используемой здесь программы является Xstartup. См..
Reset
Указанная программа выполняется (с правами root) после завершения сеанса. Общепринятым именем для используемой здесь программы является Xreset. См..
Session
Опция определяет программу, через которую происходит взаимодействие с системой (сеанс). Запускается с правами пользователя, вошедшего в систему. Общепринятым именем для используемой здесь программы является Xsession. См..
Значение по умолчанию — ${x_ bindir} / xterm - ls - T.
FailsafeClient
Если программа, указанная в опции Session, возвращает ошибку и завершается, & kdm; запускает заданную здесь программу. Она запускается без аргументов; при этом ей доступны переменные окружения, определённые для незапустившегося сеанса (см.).
Значение по умолчанию — ${x_ bindir} / xterm.
UserPath
Значение переменной окружения PATH для сеансов всех пользователей, кроме root.
Значение по умолчанию зависит от того, на какой системе был собран & kdm;.
SystemPath
Значение переменной PATH для программ, запущенных не в сеансах root. По соображениям безопасности советуем вам не включать в этот список. (соответствует текущему каталогу).
SystemShell
Значение переменной окружения SHELL, относящееся ко всем программам, кроме указанной в опции Session.
Значение по умолчанию — / bin/ sh.
UserAuthDir
Если & kdm; не может создать обычный файл авторизации пользователя, она создаёт в указанном здесь каталоге файл с уникальным именем. При этом значение переменной окружения XAUTHORITY будет изменено на путь к этому файлу.
Значение по умолчанию — / tmp.
ForceUserAuthDir
AutoReLogin
Если используется этот параметр, при сбое Х- сервера (или при его выключении комбинацией клавиш Alt+Ctrl+BackSpace) & kdm; будет автоматически запускать новый сеанс. Обратите внимание, что использование этой возможности создаёт брешь в политике безопасности: злоумышленник может обойти программу, блокирующую экран (если не используется программа блокирования & kde;).
AllowRootLogin
Пользователь с номером (UID) 0 (обычно его имя — root) может входить в систему через kdm, только если параметр включен.
AllowNullPasswd
Если параметр отключен, пользователи с пустыми паролями не смогут войти в систему.
AllowShutdown
Определяет, каким пользователям разрешено выключать систему. Это относится к выключению как через окно приглашения, так и через сокетное соединение.
меню Выключить... вообще не доступно
Root
чтобы выключить компьютер, пользователь должен ввести root - пароль
All
любой пользователь может выключить компьютер
Значение по умолчанию — All.
AllowSdForceNow
Определяет, каким пользователям разрешено выключать компьютер при наличии активных сеансов.
отключать систему при наличии активных сеансов нельзя никому
чтобы выключить компьютер при наличии активных сеансов, пользователь должен ввести root - пароль
любой пользователь может выключать компьютер при наличии активных сеансов
DefaultSdMode
Выбор условий/ времени выключения системы по умолчанию.
Schedule
выключать после завершения всех сеансов
TryNow
выключать, только если не запущено ни одного сеанса
ForceNow
выключать без всяких условий
Значение по умолчанию — Schedule (по расписанию).
ScheduledSd
Определяет, как будут выводится уведомления при отключении по расписанию:
Never
выводиться не будут
Optional
в простых диалоговых окнах уведомления будет показываться кнопка
Always
вне зависимости от простых диалоговых окон
Значение по умолчанию — Never (никогда).
NoPassEnable
Включить вход в систему пользователей без пароля через этот дисплей. Используйте с особой осторожностью!
NoPassUsers
Список пользователей, которым разрешён вход в систему без пароля. Пункты, начинающиеся с @, соответствуют группе пользователей. Символ * соответствует всем пользователям, кроме пользователя с номером (UID) = 0 (обычно это root). Ни в коем случае не включайте в этот список пользователя root.
AutoLoginEnable
Разрешить автоматический вход в систему через этот дисплей. Используйте с особой осторожностью!
AutoLoginAgain
AutoLoginDelay
Задержка (в секундах) перед автоматическим входом.
AutoLoginUser
От имени указанного пользователя будет осуществляться автоматический вход в систему. Ни в коем случае не указывайте здесь root.
AutoLoginPass
Автоматический вход в систему будет осуществляться с указанным паролем. Используется, только если пользователь входит в домен NIS или Kerberos. Если вы включили эту опцию, выполните команду chmodnbsp; 600 nbsp; kdmrc.
AutoLoginLocked
Если значение - true, автоматически запущенный сеанс сразу же блокируется. Работает только с сеансами KDE.
SessionsDirs
Список каталогов, которые содержат определения типов сеансов.
Значение по умолчанию — ${kde_ datadir} / kdm/ sessions.
ClientLogFile
Значение по умолчанию —. xsession- errors.
ClientLogFallback
Значение по умолчанию -- / tmp/ xerr -% u -% d% - r.
UseSessReg
Переменные секции [X - * - Greeter] файла & kdmrc;
Этот класс секций содержит настройки интерфейса & kdm; (приглашения).
GUIStyle
Определяет стиль графических элементов, которые будут использоваться в окне приглашения. Если значение не задано, будет применена тема Plastik.
ColorScheme
Определяет цветовую схему графических элементов, которые будут использоваться в окне приглашения. Если значение не задано, будет применена схема, определяющая желтовато- серый вид с элементами синего и жёлтого.
LogoArea
Определяет, что будет находиться в области окна справа от полей ввода (если опция UserList отключена) или над ними (если опция UserList включена).
область будет пустой
Logo
изображение, путь к которому задаётся параметром LogoPixmap
Clock
аналоговые часы
Значение по умолчанию — Clock.
LogoPixmap
Если LogoArea = Logo, то в окне приглашения будет выводиться указанное здесь изображение.
GreeterPos
Определяет положение (в процентах от размера экрана, в порядке X, Y) центра окна приглашения.
Значение по умолчанию — 50, 50.
GreeterScreen
Определяет, на каком дисплее будет отображаться приглашение в многоэкранных системах. Нумерация, начинающаяся с 0, соответствует порядку перечисления в используемом разделе ServerLayout файла XF86Config. Если установлено значение - 1, будет использоваться верхний левый экран, если - 2, верхний правый экран.
GreetString
Заголовок окна приглашения. Если значение не указано, заголовок будет пустым.
Следующие комбинации символов система меняет на указанные значения:
% d
текущий дисплей
% h
имя компьютера, возможно, с именем домена
% n
имя компьютера, скорее всего, без имени домена
% s
операционная система
% r
версия операционной системы
% m
архитектура компьютера
%%
символ%
Значение по умолчанию — Welcome to% s at% n (в русифицированной версии — Добро пожаловать в% s на% n).
AntiAliasing
Определяет, будут ли сглажены шрифты надписей окна входа в систему.
GreetFont
Шрифт заголовка окна приглашения.
Значение по умолчанию — Serif, 20, bold.
StdFont
Шрифт текста окна приглашения.
Значение по умолчанию — Sans Serif, 10.
FailFont
Шрифт текста окна Ошибка входа в систему.
Значение по умолчанию — Sans Serif, 10, bold.
NumLock
Определяет состояние индикатора Num Lock при выводе окна входа в систему. Возможные значения:
Off
выключить
On
включить
Keep
не изменять
Значение по умолчанию — Keep.
Language
Язык, используемый в окне приглашения. Формат значения соответствует формату переменной $LC_ LANG.
Значение по умолчанию — en_ US (в русифицированной версии — ru).
UserCompletion
Если параметр включен, вводимое имя пользователя будет автоматически дополняться.
UserList
Если опция включена, в окне приглашения будет отображаться список системных, реальных имён пользователей и поставленных им в соответствие изображений.
ShowUsers
Определяет, какие пользователи будут указаны в списке пользователей при входе в систему (отображение списка определяется опцией UserList), и имена каких пользователей будут дополняться автоматически (использование этой возможности определяется значением опции UserCompletion). Если указано значение Selected, то имена этих пользователей берутся из списка SelectedUsers. Если указано значение NotHidden, используются имена всех пользователей системы, кроме указанных в списке HiddenUsers. Имена пользователей с UID большим, чем значение MaxShowUID, или меньшим, чем MinShowUID, также не используются. Если запись в списке SelectedUsers или HiddenUsers начинается с @, то она интерпретируется как имя группы, все пользователи которой считаются принадлежащими списку. Если включена опция SortUsers, список пользователей будет отсортирован по алфавиту.
Значение по умолчанию — NotHidden.
SelectedUsers
См. комментарий к параметру ShowUsers.
HiddenUsers
MinShowUID
MaxShowUID
Значение по умолчанию — 65535.
SortUsers
FaceSource
Если включен параметр UserList, то этот параметр определяет, откуда & kdm; будет считывать изображения пользователей:
AdminOnly
из файла lt; FaceDir gt; / $USER. face [. icon]
PreferAdmin
из & lt; FaceDir gt;, если попытка завершилась неудачей, то из $HOME
PreferUser
как в предыдущем пункте, но в обратном порядке
UserOnly
из файла $HOME /. face [. icon]
Вы можете указать файл в любом формате из тех, которые способен распознать Qt, но имя файла должно соответствовать требованиям & kdm;:. face. icon -- пиктограмма 48x48, файл. face -- изображение 300x300. Пока большие изображения используются в качестве "запасного варианта" пиктограммы (при этом их размер уменьшается), однако в будущем они, возможно, будут отображаться в области логотипа.
Значение по умолчанию — AdminOnly.
FaceDir
См. комментарий к FaceSource.
Значение по умолчанию — ${kde_ datadir} / kdm/ faces.
PreselectUser
Определяет, будет ли заранее выбран какой- либо пользователь для входа в систему, и если да, то какой.
не выбирать пользователя заранее
Previous
последний пользователь, успешно вошедший в систему
Default
имя пользователя определяется значением параметра DefaultUser
Если параметр FocusPasswd включен и пользователь выбирается автоматически, курсор устанавливается в поле ввода пароля.
Автоматический выбор имени пользователя является брешью в безопасности, так как потенциальный взломщик получает действительное имя пользователя, и ему остаётся только подобрать пароль. С другой стороны, в DefaultUser вы можете указать имя пользователя, которого нет в системе.
DefaultUser
См. комментарий к параметру PreselectUser.
FocusPasswd
EchoPasswd
UseBackground
Если параметр включен, & kdm; будет автоматически запускать krootimage, чтобы сформировать фоновое изображение, иначе фон устанавливает программа Setup.
BackgroundCfg
Задаёт файл настроек krootimage. Как и kdesktoprc, он содержит секцию [Desktop0]. Если вы не нашли описания опций, попытайтесь угадать их значение или используйте Центр управления KDE.
Значение по умолчанию — ${kde_ confdir} / kdm/ backgroundrc.
GrabServer
Чтобы увеличить безопасность системы, при выводе окна приглашения KDM не позволяет другим программам получать данные от Х- сервера и с клавиатуры. Если эта опция включена, получение данных от Х- сервера другими программами будет невозможно до запуска сеанса, иначе оно становится доступным при блокировании чтения с клавиатуры.
Если эта опция включена, UseBackground и Setup считаются отключёнными.
GrabTimeout
Эта опция определяет максимальное время, в течение которого & kdm; будет пытаться заблокировать чтение данных с клавиатуры другими программами. Эти попытки могут закончиться неудачей, если клавиатура или Х- сервер уже заблокирован другим Х- клиентом, или задержки при ответах других компьютеров из сети слишком высоки. Будьте осторожны, увеличивая значение этой опции: в это время может быть выведено "поддельное" окно, похожее на окно приглашения, но принадлежащее другой программе. Если блокирование не удалось, & kdm; перезапускает Х- сервер (если это возможно) и сеанс пользователя.
Значение по умолчанию — 3.
AuthComplain
Предупреждать, если Х- сервер не авторизовал дисплей. Возможные причины:
локальный Х- сервер не может создать файл авторизации,
удалённый дисплей, соединённый по & XDMCP;, не требует авторизации, или
дисплей отнесён к категории foreign в файле Xservers.
LoginMode
Задаёт, в каком режиме выводится окно входа в систему: в режиме выбора машины (удалённый доступ) или в режиме входа в систему (локально), и способ переключения режимов.
LocalOnly
доступен только вход в локальную систему
DefaultLocal
запускается в локальном режиме, но возможен переход в режим удалённого доступа
DefaultRemote
RemoteOnly
возможен только выбор удалённой машины
Значение по умолчанию — LocalOnly.
ChooserHosts
Список имён машин, которые будут автоматически добавлены в меню удалённого доступа. Если указан специальный символ *, в список будут добавлены все машины, которые ответили на широковещательный запрос. Если значение опции LoginMode установлено в LocalOnly, не имеет значения.
Значение по умолчанию — *.
ForgingSeed
Указанное число будет использоваться в качестве начального значения ("seed") генератора случайных чисел при искажении сохранённых типов сеансов и т. п., принадлежащих неизвестным пользователям. Это сделано для того, чтобы помешать взломщику выяснить имена пользователей системы. Число должно быть случайным, но одним для всего домена.
ShowLog
Если опция включена, будет использоваться встроенное приложение & kdm;, xconsole. Обратите внимание, что программа не может работать на нескольких дисплеях одновременно. Опция доступна, только если & kdm; был собран с параметром -- enable- kdm- xconsole.
LogSource
Источник данных встроенного приложения & kdm; xconsole. Если значение не указано, происходит перенаправление журнала консоли из / dev/ console. Работает только при включённой опции ShowLog.
PluginsLogin
Задаёт подключаемые модули окна входа в систему, обеспечивающие взаимодействие с пользователем. Вначале выбирается первая запись. Каждый модуль имеет имя. Полный путь к модулю: $kde_ modulesdir / kgreet _ имя_ модуля.
Функция модулей состоит в получении данных, авторизирующих пользователя (имени и пароля). С & kde; поставляется только один модуль -- classic; его внешний вид (форма для ввода имени пользователя и пароля) вам, скорее всего, хорошо известен.
Значение по умолчанию — classic.
PluginsShutdown
То же, что PluginsLogin, но для диалогового окна выключения системы.
PluginOptions
Список опций в формате опция = значение. Сведения о настройке модулей выходят за пределы этого руководства.
AllowConsole
AllowClose
Если включено, при входе в систему будет доступна возможность Перезапустить Х- сервер / Закрыть соединение.
Preloader
Указанная здесь программа будет выполняться во время показа приглашения. Предполагается, что она будет подгружать механизмы, обеспечивающие работу сеанса.
UseTheme
Определяет, будет ли к окну приглашения применена какая- либо тема.
Theme
Указанная тема будет применена к окну приглашения. Значение — путь к каталогу или к файлу XML.
Как указать программе на постоянные Х- серверы
Каждая спецификация указывает на дисплей, управление которым постоянно доступно программе. Дисплеи не должны использовать & XDMCP;. Обычно этот метод используется для локальных Х- серверов, которые запускает & kdm;, но & kdm; также может управлять Х- серверами, которые запускаются не им (т. н. чужие), вне зависимости от того, локальные они или удалённые.
Имя дисплея должно быть строкой, которую можно указать после параметра - display программы Х. Эта строка используется при формировании названий секций, специфичных для дисплеев. Имена дисплеев & XDMCP; получается путём обработки адреса, полученного при разрешении имени узла. Префикс localhost не удаляется из имён локальных дисплеев & XDMCP;, чтобы их можно было отличить от Х- серверов, запущенных & kdm;.
Строка класс дисплея также используется в секциях, специфических для дисплея. Это может быть полезным, если программе доступно большое количество похожих дисплеев, и вы хотите применить какие- либо настройки к группе дисплеев. При использовании & XDMCP; класс дисплея указывать необходимо, поэтому вам следует узнать класс терминала Х в его руководстве. Также вы можете запустить & kdm; в режиме отладки и найти в его выводе строку, в которой указан класс дисплея (grep class).
Если указано ключевое слово reserve ("запасной"), & kdm; будет запускать дисплей не сразу при начале работы, а только после получения специального запроса через управляющий канал FiFo. Если в списке хотя бы один дисплей помечен словом reserve, в меню & kde; будет доступен пункт Начать новый сеанс. Используйте его, чтобы запустить вход в систему через "запасной" дисплей. На мониторе будет отображено содержимое этого дисплея, и вам будет дана минута, чтобы войти в систему. Если список "запасных" дисплеев исчерпался, выбор этого пункта меню ни к чему не приведёт.
Вместо строки команда запуска укажите полную команду запуска Х- сервера, указав номер дисплея, если вы хотите использовать не основной дисплей. Когда & kdm; запускает сеанс, он устанавливает данные авторизации Х- сервера. Если сервер -- локальный, & kdm; добавляет к команде запуска строку - auth nbsp; имя_ файла, чтобы указать Х- серверу, где находится файл с данными авторизации. Если будет использован дисплей & XDMCP;, & kdm; передаст данные авторизации через сообщение & XDMCP; Accept.
Управление доступом через & XDMCP;
В файле, имя которого передаётся через опцию AccessFile, находится информация, которую & kdm; использует для управления подключениями дисплеев, использующих & XDMCP;. Файл содержит записи четырёх типов: записи, управляющие ответами на прямые (Direct) и широковещательные (Broadcast) запросы, управляющие ответами на непрямые (Indirect) запросы, макроопределения записей предыдущего типа и записи, определяющие, через какие сетевые интерфейсы & kdm; будет принимать запросы & XDMCP;. Пустые строки и строки, которые начинаются с символа # (комментарии) игнорируются. Строка, следующая за символами\\, также будет проигнорирована. Благодаря этому, список узлов, запрашивающих подключение, может занимать несколько строчек.
Записи Direct включают имя машины или шаблон. Указанная строка будет сравниваться с именем машины, которой принадлежит дисплей. Шаблоны отличаются от имён наличием одного или нескольких спецсимволов: * -- любая последовательность символов (возможно, пустая),? -- один символ (любой). Если запись является именем машины, происходит сравнение с сетевыми адресами, так что вы можете использовать любое имя, которое может быть переведено в корректный сетевой адрес. Обратите внимание, что используется только первый сетевой адрес, соответствующий имени машины. Имена машин, возвращаемые по запросам & XDMCP;, всегда содержат имя локального домена, даже если обратный поиск возвращает короткое имя. Поэтому при задании локального домена вы можете использовать шаблоны. Если запись начинается с символа!, соответствующие ей машины будут исключены из списка. Если вы хотите, чтобы программа отвечала только на прямые запросы, добавьте в конец записи ключевое слово NOBROADCAST. При этом сервер & kdm; не будет появляться в меню программ выбора машины, которые формируются на основе широковещательных запросов.
Записи, содержащие ключевое слово Indirect (настраивают реакцию на непрямые запросы) также содержат имя машины, шаблон или макрос, но за ним следует список имён машин, на которые будут перенаправлены запросы, или макрос, который задаёт эти имена. Перед этими записями вы также можете указать символ! (исключить машины, соответствующие указанной строке). При этом вам следует добавить синтаксически верное имя машины, чтобы программа могла отличить такие записи от настраивающих реакцию на прямые запросы. Если программа была собрана с поддержкой IPv6, вы можете указывать группу сетевых адресов. Если запись содержит ключевое слово CHOOSER, & kdm; не перенаправляет запросы, а выводит диалоговое окно выбора машины. Программа выбора машины отправляет прямой запрос на каждую машину из списка, и отображает меню всех машин, ответивших на запрос. Если список машин содержит ключевое слово BROADCAST, программа выбора машины отправит широковещательный запрос. Обратите внимание, что на некоторых системах нельзя делать широковещательные запросы по протоколу UDP. На таких системах эта техника работать не будет.
При проверке наличия в списке конкретной машины, все записи проверяются по очереди, и первая соответствующая запись определяет возвращаемое значение. При поиске записи, задающей реакцию на запрос какого- либо типа, записи других типов игнорируются.
Определение макроса содержит имя макроса, список машин, и имя другого (добавляемого) макроса. Имена макросов, в отличие от имён машин, начинаются с символа%.
Последний тип записи -- директива LISTEN. Синтаксис: nbsp; LISTEN nbsp; [интерфейс nbsp; [списокnbsp; адресов]]. Если указана хотя бы одна запись этого типа, & kdm; будет принимать запросы & XDMCP; только через указанные интерфейсы. Интерфейс -- имя машины или IP- адрес, представляющий сетевой интерфейс на этой машине, или шаблон * (соответствует всем доступным сетевым интерфейсам). Если указан список адресов, & kdm; добавляет их к указанному интерфейсу. Для групп адресов IPv6 в качестве диапазона адресов стандарты IANA задают ff0 X: 0: 0: 0: 0: 0: 0: 12b для & XDMCP;. X -- префикс, соответствующий действительному идентификатору группы (см. IETF RFC 2373 или аналогичный документ по определениям групп). По умолчанию & kdm; прослушивает адрес ff02: 0: 0: 0: 0: 0: 0: 12b, что наиболее похоже на поведение подсети, работающей на протоколе IPv4. Если в файле не указано ни одной строки LISTEN, & kdm; (если он собран с поддержкой IPv6) прослушивает все интерфейсы и присоединяется к группе & XDMCP; IPv6 по умолчанию. Чтобы выключить прослушивание запросов & XDMCP;, вы можете ввести строку LISTEN без адресов, но лучше использовать опцию секции [Xdmcp] Enable.
Дополнительные программы
Следующие программы запускаются & kdm; на различных этапах сеанса. Чаще всего они являются сценариями оболочки.
Сценарии, указанные в опциях Setup, Startup и Reset, выполняются с правами root, так что позаботьтесь о их безопасности. Если сеанс запущен после автоматического входа в систему, им передаётся аргумент auto, иначе никаких аргументов не передаётся.
Программа Setup
Программа Xsetup выполняется после запуска (перезапуска) Х- сервера, но перед выводом окна приглашения. С её помощью вы можете изменить фон корневого окна (если опция UseBackground отключена) или вывести на экран какие- либо окна (они будут доступны наряду с окном входа в систему).
В дополнение к переменным окружения, заданным опцией ExportList, устанавливаются следующие переменные:
DISPLAY
имя дисплея, который будет использоваться
PATH
значение параметра SystemPath
SHELL
значение параметра SystemShell
XAUTHORITY
пустая строка или содержит путь к файлу авторизации
DM_ CONTROL
значение параметра FifoDir
Обратите внимание, что & kdm; не позволяет другим программам считывать ввод с клавиатуры. Однако вы сможете управлять ими с помощью мыши; опасайтесь возможных уязвимостей в безопасности. Если включена опция GrabServer, Xsetup вообще не сможет подключиться к дисплею. Эта программа использует ресурсы, указанные в файле, имя которого задаётся опцией Resources.
Программа Startup
Программа Xstartup выполняется с правами root при входе пользователя в систему. Она может добавлять записи в журнал utmp (например, вы можете использовать программу sessreg), подключать (монтировать) домашние каталоги пользователей или завершать сеанс при невыполнении некоторых условий (на современных системах эту функцию выполняют модули PAM).
HOME
домашний каталог пользователя
LOGNAME
имя пользователя
USER
& kdm; ожидает завершения программы и после этого запускает сеанс пользователя. Если программа возвратила ненулевое значение, & kdm; завершает сеанс и предлагает ещё раз войти в систему.
Программа Session
Программа Xsession собственно обеспечивает работу пользователя с компьютером (т. е. сеанс). Она запускается с правами вошедшего в систему пользователя. В качестве первого аргумента передаётся ключевое слово failsafe, default, custom или (на оболочках, совместимых с bash) строка eval.
значение опции UserPath (для root -- SystemPath)
оболочка, используемая пользователем по умолчанию
с помощью этой переменной можно указать путь к файлу авторизации
KRBTKFILE
имя кэша авторизационных файлов Kerberos4
KRB5CCNAME
имя кэша авторизационных файлов Kerberos5
XDM_ MANAGED
содержит разделённый запятыми список параметров, которые могут использоваться в течение сеанса, например, путь к управляющему каналу FiFo и его особенности, а также данные о подключаемом модуле, используемом при входе в систему.
DESKTOP_ SESSION
выбранный пользователем тип сеанса
Программа Reset
Программа Xreset запускается с правами root во время завершения сеанса. Файл должен содержать команды, отменяющие действие Xstartup: удаляющие записи из utmp или отключающие домашние каталоги пользователей.
Программе Xreset передаются те же параметры, что и Xstartup.
Путь (относительно домашнего каталога пользователя) к файлу, в который будет перенаправляться вывод программы, обеспечивающей работу сеанса. Вместо символов% s будет подставлено имя дисплея. Чтобы указать символ%, введите%%.
EchoMode
Здесь вы можете указать, что будет отображаться в поле ввода пароля вместо введённого текста:
OneStar
Вместо каждого введённого символа выводится *.
ThreeStars
Вместо каждого введённого символа выводится ***.
NoEcho
ничего не выводится, курсор не перемещается
Значение по умолчанию -- OneStar.
Значение по умолчанию - DEF_ SERVER_ CMD.
Значение по умолчанию -- helvetica, 12.
Значение по умолчанию -- helvetica, 12, bold.
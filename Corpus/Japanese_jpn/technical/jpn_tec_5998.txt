# language_name_wals:	Japanese
# language_name_glotto:	Japanese
# iso639_3:	jpn
# year_composed:	NA
# year_published:	NA
# mode:	written
# genre_broad:	technical
# genre_narrow:	NA
# writing_system:	Jpan
# special_characters:	NA
# short_description:	KDE4
# source:	https://object.pouta.csc.fi/OPUS-KDE4/v2/raw/ja.zip
# copyright_short:	http://opus.nlpl.eu/KDE4.php
# copyright_long:	http://opus.nlpl.eu/KDE4.php J. Tiedemann, 2012, Parallel Data, Tools and Interfaces in OPUS. In Proceedings of the 8th International Conference on Language Resources and Evaluation (LREC 2012)
# sample_type:	whole
# comments:	NA

日本語訳：Sinopa sinohara@kde.gr.jp
& kmail;を使う
メインウィンドウ
メインウィンドウは、kmail;が起動すると表示されるウィンドウです。これは３つの部分に分かれています。
フォルダーぺイン(左側のペイン)
このペイン(領域)は、あなたのメッセージのフォルダ(他のプログラムでは、メールボックスと呼ぶこともあります)のリストです。フォルダ名の後ろに数字がある場合には、そのフォルダには未読のメッセージが入っています。ただし 送信待ちフォルダの場合には、この数字は、単にメッセージの件数を表しています。フォルダを選択するのは、それをクリックするだけです。フォルダ内に入っているメッセージがヘッダーペインに表示されます。未読メッセージの件数及び総メッセージ件数がステータスバーに表示されます。フォルダツリーは短い形式(これは左側の上半分だけを占めます)でも、長い形式(これは左側を上から下まで占めますが、その分多くのフォルダを表示できます)でも表示できます。 kmail;を設定...ダイアログの 外観/ レイアウトでのこの２つは切替えることができます。また、フォルダの使い方の詳細については、 フォルダセクションを参照して下さい。
このペインは現在選択されているフォルダのメッセージヘッダ情報(メッセージ状況フラグ、送信者、件名、日付、そしてオプションでサイズ)を表示しています。ヘッダをクリックすると、そのメッセージが選択されメッセージペインにその内容が表示されます。また、１つのメッセージをクリックしてから、Shift;キーを押しながら別のメッセージをクリックして複数のメッセージを選択できます。こうするとクリックされた２つのメッセージと、その間にある全てのメッセージが選択されます。Ctrl;キーを押しながらクリックすると、間のメッセージを選択することなくいくつでも選択できます。また列見出し部分をクリックして、その項目でメッセージをソートすることができます。同じ列をクリックするとソート順が昇順/降順で切り替わります。なお、 件名の列をクリックすると、 件名の昇順/降順、 件名(状態)の昇順/降順が切り替わります。同様に 日付列をクリックすると、 日付の昇順/降順、 日付(到着順)の昇順/降順が切り替わります。
メッセージペイン(右下のペイン)
このペインは現在選択されているメッセージを表示しています。添付ファイルはメッセージの一番下に表示されています。メッセージペイン内のスクロールは、 Page Upキーと Page downキーを使ってページ単位で、または 上矢印キーと 下矢印キーを使って行単位で行うことができます。また、マウスを使わずに キーショートカットによりメッセージ間を移動することもできます。
キーボードショートカット
以下のキーボードショートカットはメインウィンドウでサポートされています:
キーボードショートカット
動作
スペース
現在のメッセージを下にスクロールするか、あるいはメッセージの下端に達しているなら次の未読メッセージへ移動します。
右矢印キー または N
現在のフォルダの次のメッセージに移動します。
左矢印キー または P
現在のフォルダで前のメッセージに移動します。
+
現在のフォルダの次の未読メッセージへ移動します。
-
現在のフォルダで前の未読メッセージへ移動します。
& Ctrl; +
次の未読メッセージの有るフォルダへ移動します。
& Ctrl; -
未読メッセージのある前のフォルダへ移動します。
& Ctrl; 左矢印
& Ctrl; 左矢印
未読メッセージのある前のフォルダへ移動します。
& Ctrl; 左矢印
フォルダのリストを上に移動します。実際のフォルダの中に入るには、 Ctrl; スペースを使います。
& Ctrl; 右矢印
フォルダのリストを下に移動します。実際のフォルダの中に入るには、 Ctrl; スペースを使います。
& Ctrl; スペース
フォーカスのあるフォルダ --- & ie; Ctrl; 左矢印または Ctrl; 右矢印であなたが移動したフォルダ --- へ入ります。
Shift; 左矢印と Shift; 右矢印
ヘッダーペインで、現在のメッセージから始まる一連のメッセージを選択します。
設定 フィルタの設定... を選択して下さい。
メール作成ウィンドウ
メール作成ウィンドウは、新規メッセージを作成するために使われます。これは メッセージ 新規メッセージ または、 メールリーダーツールバー上の 新規メッセージアイコンから立ち上げることができます。
メッセージを作成
メッセージを書くには、メール作成ウィンドウの適切なフィールドを記入します。どのヘッダフィールドを表示するかの選択には、 表示メニューを使います。メッセージを書くときに便利な様々なショートカットがあります。 To:, Cc:, 及び Bcc:の各フィールドの後ろにある ...ボタンは、アドレス帳を表示しますので、ここからアドレスを選択できます。
メッセージを書くには、メール作成ウィンドウの適切なフィールドを記入します。どのヘッダフィールドを表示するかの選択には、 表示メニューを使います。メッセージを書くときに便利な様々なショートカットがあります。 To:, Cc:, 及び Bcc:の各フィールドの後ろにある ...ボタンは、アドレス帳を表示しますので、ここからアドレスを選択できます。
To:/ Cc:/ Bcc:の各フィールドで、アドレスを入力し始めると、入力された文字にマッチする最近使われたアドレス及びアドレス帳にあるアドレスがポップアップで表示されます。候補アドレスの自動ポップアップが好ましくないのなら、各フィールドの上でRMB; をクリックして、ポップアップを無効にし、別の補完方法を選択することができます。
これらのフィールドに１つよりも多くの受け取り先を指定したい時には、各アドレスをカンマで区切って指定します。アドレスはシステムの設定によっては、例えローカルユーザであっても、完全表現で(ie; user@domain.com)指定する必要があります。
メッセージを書き終えたら、 送信アイコン(封筒のアイコン)をクリックしてすぐ送信するか、 送信待ちアイコンをクリックして、送信待ちフォルダに送ります。まだ、まだメッセージの編集が終っていないなら、 メッセージ 下書きフォルダに保存 を選択することもできます。もし 暗号化または デジタル署名されたメッセージを送信したいなら、ツールバーの メッセージに署名または. メッセージを暗号化アイコンを選択して下さい。
暗号化されたメッセージが来たら
メッセージを作成
添付ファイルを追加する
以下のいずれかの方法を使ってメッセージにファイルを添付できます:
クリップボタンをクリックして、添付したいファイルを選択して下さい。
デスクトップや他のディレクトリからファイルをメール作成ウィンドウにドラッグします。
添付 メニューのいずれかのオプションを選択します。
メッセージにファイルが添付されると、それは、メール作成ウィンドウの下端にある添付ペインに表示されます。各添付ファイルの上でRMB;を使って、その添付ファイルの 参照, 保存or 削除が行えます。
プロパティ...を選択して、 メッセージパートのプロパティダイアログを開いて下さい。最初のフィールドは最初のフィールドには、添付ファイルのMIME;-タイプが書かれています。 名前フィールドと同様に、このフィールドも自動的に適切な値で埋められるでしょう。しかし、このMIME;-タイプは間違っていることもあり得ます。その場合、MIME;-タイプを直接入力するか、標準MIME;-タイプのリストから選択することができます。またあなたのファイルのエンコーディング方法をエンコーディングの一覧から選択することができます(通常は、デフォルトの値でうまく行く筈です)。受信者のメッセージプレビューに、自動的にこのパートを表示するようにしたければ、 自動的に表示するをチェックして下さい。メッセージプレビューにはデフォルトのアイコンビューの代わりに、このパートそのものが表示されるようになります。
PGP/ GnuPGキーも、 添付 メニューを使って、添付することができます。 PGPキーの添付は、ファイル添付と同様に扱われます。
メッセージのスペルをチェックする
あなたのメッセージのスペルをチェックするには、 編集 スペル... を選択して下さい。kmail;はkspell;(スペルチェッカーである ispellまたは aspellのフロントエンドであるkde;アプリケーション)を使ってスペルをチェックします。ただし、最初に 設定 スペルチェッカー... を選択してスペルチェッカーの設定を行っておく必要があるでしょう。
メッセージフォルダ
メッセージフォルダは、あなたのEメールメッセージを整理するために使われます。デフォルトでは、全てのメッセージは Mailディレクトリに保存されます。これはあなたのホームディレクトリの下に作られるフォルダです。初めてkmail;を実行すると 受信箱, 送信待ち, 送信済みメール, ごみ箱及び 下書きと行ったフォルダが作成されます。これらのフォルダは各々特別な機能を持っています:
受信箱
ここは、デフォルトではkmail;がメール確認の実行によって取得した新規メッセージを格納します。
送信待ち:
送信済みメール:
あなたが送ったメール全ての控えが保存されています。
ごみ箱:
あなたが送ったメール全ての控えが保存されています。
下書き:
ここには、編集し始めたものの、送信されずここに保存されたメッセージがあります。
標準のフォルダの構成は、あなたのニーズにマッチしていると思われるかもしれません。しかしながら時には、あなたのメッセージを整理するために更にフォルダが欲しいと思うかも知れません。新規フォルダを追加するには、 フォルダ 作成... を選択して下さい。すると、フォルダ名の入力を要求されます。トップレベルのフォルダにしたく無い時は、別のフォルダの下に作成することも可能です。フォルダ設定の変更を行いたい場合には、 フォルダ 設定... を選択して下さい。
メッセージをフォルダ間で移動させるには、移動したいメッセージを選択してから、 Mキーを押すか、 メッセージ 移動 を選択します。フォルダの一覧が示されますので、この一覧からメッセージを移動させたいフォルダを選択して下さい。メッセージをヘッダペインから適当なフォルダにドラッグすることでも移動させることができます。
フォルダからメッセージを消去するには、 フォルダ 空に を選択します。すると、選択されているフォルダ内の全てのメッセージはごみ箱フォルダに移動します。ただし選択されているフォルダが、 ごみ箱フォルダの場合には、メッセージは本当に削除されてしまいます。
フォルダ変更ダイアログボックスが開かれ、そこで選択されたフォルダの設定を変更できます。
メッセージフィルタ
バウンス
フォルダ
フォルダを作成ダイアログを開いて、新規フォルダを作成します。 所属を使用して親フォルダを選択すると、新規フォルダをサブフォルダにできます。フォルダは mbox形式、 maildir形式のいずれにすることもできます。 mbox形式は、フォルダ内の全てのメッセージを１つのファイルに格納します。これに対し maildir形式は、メッセージ個々に１つのファイルが作成されます。 maildirの方がより頑健な方式だとも考えられますが、ファイルシステムによってはよりスピードは遅くなります。なお現在のkmail;には２つの形式を自動的に変換する機能はありません。
メッセージフィルタ
しばらくkmail;を使っていると、受信箱に到着したメッセージの整理に困る場合があるかもしれません。フィルタは、受信メッセージに対して自動的に何らかの処理を行ったり、あるフォルダ内の選択されたメッセージに手動で何かの操作を一律行うことができます。
なお、ここで説明されるフィルタは、全てメッセージがメールサーバからダウンロードされた 後で適用されるものです。サーバ上のメッセージにフィルタをかけたい場合には、 ダウンロードフィルタを参照して下さい。
フィルタは、そのフィルタが適用されるべきメッセージを選択する条件となる検索パターンと、検索パターンにマッチするメッセージに適用されるべき動作の一覧からなります。検索パターン及びフィルタの動作に関しては以下のサブセクションで説明して行きます。
フィルタは、フィルタのリストの最初のものから順に調べられていきます。そして各メッセージ毎に、マッチした最初のフィルタが実際に実行されます。残りのフィルタも実行されるように指定することもできますが、デフォルトでは、最初にマッチしたフィルタしか実行されません。
通常は、フィルタは新着メッセージに使われるものです。しかし、送信メッセージや任意のメッセージに適用することも可能です。選択したメッセージにフィルタをかけるには、 Ctrl; Jとタイプするか、 メッセージ フィルタ適用 を選択します。すると、定義されているフィルタのうち、 フィルタダイアログで手動でフィルタ実行時にマークが付いているもの全てが、選択されているメッセージに適用されます。
簡単にフィルタを作成するには
フィルタを作成するには２つの方法があります。:素早く作成するには、 メッセージ フィルタを作成 を使います。フィルタダイアログが立ち上がり、フィルタルールの最初の検索パターンと、フィルタ動作の最初の動作( フォルダへ移動)が予めセットされた状態で新規フィルタが表示されます。ほとんどの場合、メッセージの移動先を変更するだけで済むでしょう。しかしフィルタをお好みのものに編集することも可能です。
この方法の興味深い点は、メッセージを特定する条件を見つけにくいメーリングリストに対してフィルタを作成する時です。うまく行けば、推測されたメーリングリストの名前は、 メッセージ フィルタ作成 メーリングリストxxxxのフィルタ... のxxxxの部分に表示されているでしょう。
２つ目の方法は、最初から手動で全てのフィールドを指定するもので、 設定 フィルタの設定 によりフィルタダイアログを立ち上げて行います。フィルタダイアログについては以降のサブセクションで説明します。
フィルタダイアログ
このダイアログはフィルタの管理と編集を行うものです。
このダイアログは、 メッセージ フィルタを作成 または 設定 フィルタの設定 から開くことができます。
このダイアログは４つの主要な部分に分かれています:
利用可能なフィルタ
このグループには、フィルタのリストと、いくつかの操作ボタン --- フィルタの編集、新規フィルタの作成、フィルタのリスト内での移動、及び削除 --- があります。このリストからフィルタを選択すると、その項目がダイアログの右半分に表示されます。
フィルタの条件
このグループでは、このフィルタが適用されるメッセージがマッチすべき条件を編集できます。全ての条件がマッチすべきなのか、それともどれか一つでもマッチすれば良いのかを選択できます。各検索ルールのタイプに関しての詳細は 検索パターンを参照して下さい。
もっと複雑な条件を定義したい時など、 増やすボタンをクリックして、ルールを追加(初期状態で空ですが)することもできますし、 減らすボタンをクリックすれば最後のルールを削除することもできます。 クリアボタンは全てのパターンを消去します。ie; スクリーンからは２つを残してルールを消去し、その２つのルールも初期状態にされます。
不当なまたは空のルールは評価されません。
フィルタアクション
このグループでは、検索パターンにマッチしたメッセージに対し適用される動作を編集します。各動作のタイプについては フィルタアクションを参照して下さい。
もっと多くの動作を指定したい時には、 増やすボタンをクリックすると新規の空の動作が得られます。 減らすボタンをクリックすると最後の動作を削除します。 クリアボタンは、動作をリストをクリアしてしまいます。ie; 最後の１つを除いて全ての動作を削除し、１つ残った動作は空にされます。
不当なまたは空の動作は評価されません。
詳細オプション
このグループでは、フィルタリングを調整するより高度なフィルタオプションを設定できます。
最初のチェックボックスの行で、フィルタの適用対象の設定/解除ができます。 受信メッセージではフィルタが受信したメール(ie; メール確認時)に適用されるかどうかを示しています。 送信メッセージは同様に送信メッセージ(ie; 送信 後)に、また 手動でフィルタ実行時は、このフィルタは手動でフィルタをかける際(ie; メッセージ フィルタ適用 により)に適用されることを示しています。
フィルタには自動的に名前が付けられますが、 名前変更...ボタンで変更することもできます。このダイアログでは、 lt;で始まる名前である限り、フィルタの自動命名を続けます。
フィルタの編集結果を はいボタンまたは 適用ボタンを押して、反映しようとすると、正しいフィルタ定義だけが内部フィルタマネージャにコピーされます。
同様に、保存前に空のルールと動作はパターン及び動作リストから削除されます。
検索パターン
もっとも一般的なフィルタはメッセージの送信者で振り分けるものです。これは Fromを選択することで指定できます。メーリングリストを特定する良い方法は、 lt;受信者gt;を指定することでしょう。他にも以下のような便利な条件があります。:
& lt;メッセージgt;
メッセージ全体を検索します(ie; ヘッダ、本体、及びもしあれば添付ファイル).
& lt;本体gt;
& lt;ヘッダ全てgt;
メッセージのヘッダを検索します。
& lt;受信者gt;
メッセージの To及び Ccヘッダを検索します。
& lt;経過日数gt;
メッセージサイズの上限または下限をセットします。
& lt;経過日数gt;
経過日数の上限または下限をセットします。
& lt;サイズgt;
メッセージのヘッダを検索します。
その他
ヘッダフィールドの該当する名前のものを検索します。
利用可能なフィルタ
フィルタアクション
一般的なフィルタの使い方は新着メールを特定のフォルダに振り分けるものです。これは フォルダに移動を選択して指定できます。可能な動作は以下のとおりです：
フォルダへ移動
メッセージを他のフォルダへ移動します。 IMAPフォルダは移動先には指定できません。
フォルダへ移動
これはメッセージを他のEメールアドレスにリダイレクトします。
個人情報を設定
これは、このメッセージに返信をする時に、 あなたの個人情報がセットされるようにします。
マーク
これはメッセージに、未読、既読、あるいは転送済み、返信済みなどのマークをメッセージに付けます。
送信方法の設定
これは、このメッセージへの返信が送信される方法(eg; SMTP)をセットします。
返信先を設定
これはこのメッセージの Reply-Toを変更します。これは、好ましくない返信先を自動的に設定するメーリングリストの場合に便利です。
転送先
リダイレクト先
これはメッセージを他のEメールアドレスにリダイレクトします。
送信確認
送信者に、彼または彼女のメッセージが着信されたことを伝えるメッセージを返します。
この動作により送信確認を通知する相手を限定することができます。 kmail;を設定...ダイアログ (セキュリティページ)で、全体の送信確認の可否を設定できますが、全ての人に送信確認を送ることはお勧めできません。なぜなら、これにより例えばスパムの送信者は容易にあなたをトラッキングすることができるようになるからです。
コマンド実行
これはプログラムを実行しますが、メッセージは変更しません。実行したいプログラムのフルパス名を指定して下さい。kmail;はそのプログラムが終了するまでブロックされてしまいます。プログラムにメールのパートを渡すこともできます: percnt;0, percnt;1などの指定は、メッセージのパートのファイルを表します。一般的メッセージの場合、 percnt;0はテキスト、 percnt;1は最初の添付ファイルになります。更に、メッセージ全体は、プログラムの stdinに送られます。
これはメッセージが 少なくとも1つ添付ファイルを持っている場合のみ機能します。が一般的なケースで percnt;0すら無い場合には機能しません。
ここにはどれだけ複雑なシェルコマンドでも指定できます。kmail;はコマンドラインを実行するのにサブシェルを使います。ですから次のようなコマンドは(一定の条件内で)機能します: uudecode -o $(mktemp kmail-uudecoded.XXXXXX)& amp; echo $'\\a'
パイプを通す
これはプログラムにメッセージを送ります。もしプログラムが出力を返すなら、全てのメッセージは(ヘッダも含め)、プログラムの出力結果で置き換えられます。プログラムが出力を返さない場合には、メッセージは変更されません。プログラムはフルパス名で指定して下さい。
この動作は注意して用いて下さい。プログラムがゴミや、余計な行を出力すると、メッセージは簡単に壊れてしまいます。
ヘッダを削除
指定された名前の 全てのヘッダフィールドを削除します。これは余計な Reply-To:ヘッダを削除するのに便利です。
ヘッダを追加
もし指定されたフィールドが存在していなかったら、指定された名前と値で新規ヘッダを作成してメッセージに追加します。もし指定されたフィールドが既にメッセージに存在していたら、指定された値で、そのフィールドの値を上書きします。もしその名前のフィールドが複数存在した場合(eg; Received:ヘッダ)、その中のどれか１つが上書きされ、残りは変更されないままになるでしょう。これは既知の制約です。そこで、上記 ヘッダを追加と組み合わせて、指定されたヘッダフィールドがメッセージに存在しない状態にしたいと思うでしょう。
ヘッダを書き直し
指定されたヘッダフィールドを探し、その内容を変更して書き戻します。検索文字列は常に大文字小文字を区別する正規表現として解釈されます。置き換え文字列は、\, $n及び ${nn}(ここで nは正の整数または 0です)以外の場合、そのままとして挿入されます。これら特殊文字は、検索文字列のマッチによって()で捕捉されたものへの参照として解釈されます。
ヘッダを追加と同じ制約がここにも適用されます。
フィルタの例
設定 フィルタの設定... を選択して下さい。
フィルタ条件エリアで、プルダウンメニューから lt;受信者gt;を選択します。二番目のプルダウンメニューで 含むを選択し、テキストフィールドに kde@lists.netcentral.netを入力します。
フィルタアクションのセクションで、プルダウンメニューから フォルダへ移動を選択します。するとフォルダ名のプルダウンメニューが現れます。ここで条件にマッチしたメッセージが振り分けられる先となるフォルダを選択します。この例の場合、 KDE-Generalを選択することになります。
今、メーリングリスト & kde;一般 を購読しようとしているとしましょう。このリストのためにフォルダを作ります(このフォルダを KDE-Generalと呼びましょう)。それから受信箱のメッセージで、kde;一般からのものを KDE-Generalフォルダへ自動的に振り分けるフィルタを作ります。フィルタの作り方は以下のとおりです。:
メーリングリストのフィルタリング
メッセージ フィルタを作成 メーリングリストxxxxのフィルタ... でメーリングリストが特定されるか試みてみます(メーリングリストの名前がxxxxのところに現れる筈です --- 訳注：ヘッダペインで、このメーリングリストからのメッセージを選択してから行って下さい)。今回の場合、これはうまく行きましたので、 X-Mailing-List が& lt;kde@lists.netcentral.netgt;一致、という条件が設定されたフィルタが開きました。そこで、後は フィルタアクションで行き先のフォルダをプルダウンメニューから選択します。これで完了です!
もしこれがうまく行かない場合には、フィルタしたいメッセージを特定する条件を考えます。kde;リストでユニークな特徴は、(ほとんどの場合) To:及び Cc:フィールドに kde@lists.netcentral.netが含まれるということです。ただし、これは、ほとんどの場合に過ぎません。というのもクロスポストされたメッセージには当てはまらないからです。
設定 フィルタの設定... を選択して下さい。
新規作成ボタンを押して、空のフィルタを作ります。これは lt;名前なしgt;として表示されるでしょう。
フィルタ条件エリアで、プルダウンメニューから lt;受信者gt;を選択します。二番目のプルダウンメニューで 含むを選択し、テキストフィールドに kde@lists.netcentral.netを入力します。
フィルタアクションのセクションで、プルダウンメニューから フォルダへ移動を選択します。するとフォルダ名のプルダウンメニューが現れます。ここで条件にマッチしたメッセージが振り分けられる先となるフォルダを選択します。この例の場合、 KDE-Generalを選択することになります。
もっと協力な条件を指定したい場合があるでしょう。例えば、%kde;メーリングリストからのメッセージのうち、あなたの友人であるFred Johnson & lt;fj@anywhere.comgt;のみをフィルタしたい、という場合です。このような場合に、残りのフィルタ条件セクションの項目が役に立ちます:
フィルタを拡張する
フィルタの設定...でウィンドウを開き、先程作成したフィルタを選択します。
To:または Cc:フィールドに kde@lists.netcentral.netが含まれており、 且つFredからのメッセージをフィルタしたいので、 以下の全てにマッチラジオボタンをチェックします。
次に２番目の検索ルールに行き、一連のプルダウンメニューから From、 含むを選択します。そしてテキストフィールドに fj@anywhere.comと入力します。
これでkde;メーリングリストのうち、fj@anywhere.comから来た全てのメッセージを振り分けるフィルタができました。
フィルタアクション
メッセージのスペルをチェックする
フィルタアクション
ダウンロードフィルター
ダウンロードフィルターは、POPサーバ上のメールをダウンロードされる 前にフィルタできます。これを使えば、例えばkmail;が巨大なメールをダウンロードしないようにして時間を節約できます。
POPアカウントの設定ダイアログで、 サーバ上のメールにフィルタを適用チェックボックスをチェックすることで、ダウンロードフィルタが有効になります。すると、しきい値としてのメールサイズが指定できるようになります( フィルターするメッセージのサイズ)。このサイズを超えたメッセージは、あなたが定義したフィルタの対象となります。もしいずれのフィルタルールもマッチしなければ、確認ダイアログが表示され、それらをどうするかを決定できます。デフォルトのフィルタのサイズ条件は50000 バイトです。これはオーバヘッドを最小にするには適切な値だと思います。フィルタによるメッセージの検査は余計なトラフィックを発生させます。というのも、メールのヘッダは２回ダウンロードされてしまうからです。なお、デフォルトの(フィルタの)動作はメッセージのロスを防ぐため、 ダウンロードになっています。
サーバからメールを削除オプションを指定する時は注意して下さい。というのもサーバから削除されてしまうと、それを元に戻す方法はないからです。
本当に良いフィルタのセットとは、しきい値を超えたサイズのメッセージは全て自動的に分類され(すなわち、ダウンロードする、後でダウンロード、削除など)、一々、確認ダイアログで煩わされないものです。ただし一度、ルールにマッチしたメッセージについては動作を実行する前に扱いを変更するチャンスはありません。もしいずれのフィルタルールにもマッチしないメッセージがあれば、はじめてそこで確認ダイアログが表示されます。
POPフィルタの設定ダイアログ
フィルタルールの追加は メッセージフィルタの場合と同様です。左側のエリアでは既存のフィルタルールを管理できます。 新規作成ボタンで、フィルタを追加できます。右側では、フィルタがマッチする条件を設定できます。また フィルタアクションで、マッチしたメッセージに対する処置を指定できます。指定できるオプションは下記のとおりです:
ダウンロード
フィルタルールにマッチしたメッセージをダウンロードします。これはしきい値を超えないサイズのメッセージと同じです。
後でダウンロード
これはメッセージを後でダウンロードするものとして分類します。すなわちこのルールにマッチしたメッセージは、POPサーバに残され、あなたが動作を手動で変更してダウンロードできるようになってからダウンロードされます。
サーバからメールを削除
これはサーバからメッセージを削除し、ダウンロードはしません。サーバからメッセージを削除してしまうと、これを元に戻す方法はありま せん。本当にそうしたいメッセージだけをルールがマッチさせているか十分注意して下さい。
'後でダウンロード'にマッチするメッセージで、必ず確認ダイアログを表示オプションは、検査中のメールボックスに一つでも 後でダウンロードに分類されるものがあれば --- 例えしきい値を超えるサイズのメッセージが全て、マッチするルールが存在しても --- 確認ダイアログを表示するようにします。このオプションは、ルールにマッチし、且つ 後でダウンロードに分類されるメッセージが存在して、サイズを超過したメッセージを長い間放置しないためには便利でしょう。このオプションが無ければ、確認ダイアログは表示されないので、手動で動作を変更する機会が無いことになります。
確認ダイアログ
このダイアログは、POPフィルタリングを有効にしていて、サーバ上に、指定されたしきい値を超えたサイズのメッセージが発見された時に表示されます。ここでそのメッセージをどうするかを決定する機会が与えられます。オプションは ダウンロード(緑)、 後でダウンロード(黄色、時計のアイコン)及び サーバから削除(赤 x)です。削除については、サーバから削除してしまうと元に戻す方法はないので注意して下さい。
フィルタされたメッセージセクションで、フィルタルールによって自動的に動作(ダウンロード、後でダウンロード、削除)が分類されたメッセージをチェックできます。チェックボックスは、フィルタルールにマッチしたメッセージを受信した時のみ有効になります。これをチェックすると、自動的に分類されなかったメッセージについても同様のリストが表示され、そこで個々のメッセージについて動作を変更できます。
サイズ上限を超えたメッセージがあった場合、全てのメッセージが、フィルタルールにマッチしているとダイアログは表示されません。例外は、POPフィルタ設定ダイアログの 一般セクションで '後でダウンロード'にマッチするメッセージで、必ず確認ダイアログを表示が チェックされている場合です。この時、全てルールにマッチしてしまうメッセージの時でも、その中で少なくとも１つが 後でダウンロードに分類されていると、ダイアログが表示されます。
複数のアカウントを使う
１つ以上のEメールアドレスやメールサーバに対してメッセージをチェックするには、複数のアカウントを使います。 設定 kmail;を設定... を選択し、 ネットワークページをクリックして、あなたのアカウントを追加／変更して下さい。 ネットワークページの設定方法については、 さあ、始めましょうを参照して下さい。
特定のアカウントのメッセージをチェックするには、 ファイル 受信メールのチェック... サブメニューを使い、メールのチェックを行う対象のアカウントを選択します。また 受信メールのチェックアイコンをしばらく押すと、アカウントの一覧が表示されます。
メッセージの署名と PGPまたは GnuPGを用いた暗号化
これはkmail;が PGP( Pretty Good Privacy)をサポートできるよう設定する方法の簡単な説明です。 それは PGPの活用方法についての、良きヒントともなるでしょう。これは、この領域についての初心者である人向けに書かれています。もし、あなたが PGPの使用方法に詳しいのなら、ほとんどのステップについては省略してもかまいません。このドキュメントでは(及びkmail; ユーザインターフェースでは)、ほとんどの場合 PGPについて述べていますが、その記述は GnuPG( GNU Privacy Guard)にも適用可能です。ただし GnuPGの場合、コマンドラインパラメータが若干異ります。
FAQ; 項目の PGPについてもチェックして下さい
& kmail;は PGPの出力に依存しています。この出力は PGPのバージョンによって異る場合があるので、お使いになる前に、暗号化が正しく機能するかテストすることは非常に重要です。kmail;は、何かおかしくても警告することは ありません。 構成後に暗号化/署名されたテキストを表示を有効にすると良いでしょう。
& kmail;の PGPサポート機能をセットアップして使用するためには、 PGPがインストールされていて、正しくセットアップされている必要があります。もちろん、ここでは PGPに関する完全な紹介を行うことはできません。 PGPを入手するために最低限やらなければならないことだけを述べるに止めます。詳細については、 PGPの素晴らしいドキュメントや The GNU Privacy Handbookを参照することをお勧めします。
このドキュメントの他に公開鍵暗号についての入門書を読んでおくのは良いアイディアです(例えば、 PGP6.5.x package)。そこには基本的概念に関して多くの学ぶべき事柄があり、それを知っておくことは何が起こっているのかを理解する手助けになるでしょう。また多くのセキュリティに関連する事柄もそこで議論されています。
さあ始めましょう
前提条件
& kmail;は PGPの実行ファイルが、 pgpで呼び出せることを前提としています。 GnuPGの場合には、これは gpgで呼び出されるものとしています。あなたの環境がそうでないのなら、シンボリックリンクを作る等で対応して下さい。
まだやっていないのなら、あなたのキーのペア(公開鍵と秘密鍵)を作成する必要があります。これはコマンドラインから行う必要があります: pgp -kg (PGPの場合) または gpg --gen-key (GnuPGPの場合)。kmail;は今のところ、 PGPの鍵生成に関しては、何のサポート機能もありません。識別情報(通常、あなたの名前に括弧で括られたEメールアドレスが続いたものです。例えば、 John Doe & lt;john@example.comgt;)、及びパスフレーズは、kmail;と PGPが連携するための重要な情報になります。(訳注：ここで言う「識別情報」は他で使われている「個人情報」という語と同じ語の訳です。ただしPGPではその内、名前とメールアドレスの組しか意味しないため、本書ではPGPのためのidentityは識別情報、KMailの設定項目としてのそれは、個人情報と訳し分けています。)
PGPに関するkmail;の設定
PGPの識別情報を 個人情報設定の該当するフィールドに入力して下さい。それから セキュリティ設定ページの OpenPGPタブへ行きます。そこには以下のようなオプション項目があります：
暗号化ツール
ここで PGP, GnuPGのいずれか、あるいは暗号化ソフトウェアを全く使わないか、を選択できます。勿論、選択されたソフトウェアはあなたのシステムにインストールされている必要があります。また正しいバージョンを選択することも重要です。
パスフレーズをメモリに記憶
このオプションがオフの場合、kmail;はメッセージに署名する時(送信前)や、暗号化されたメッセージを選択する都度、パスフレーズの入力を求めます。このオプションをオンにしてあれば、最初にパスフレーズを入力した以降は、そのセッション中、パスフレーズの入力を求めることは無くなります。なお記憶されたパスフレーズはハードディスクには書き込まれません。
常に自身にも暗号化
このオプションがオフの場合、誰かに暗号化したメッセージを送ろうとした時、一度作成して暗号化したメッセージは、あなたにも読めなくなります。これをオフにするとあなたにも読める状態で送信済みメールが保存されます。
構成後に暗号化/署名されたテキストを表示
これは暗号化及び署名を施した結果を送る前に表示するものです。このようにして、暗号化が失敗していた場合に送信をキャンセルできます。このオプションの使用を強くお勧め致します。
確認の為、暗号化キーも表示
毎回、各受信者のための暗号化に使用されるキーを選択するダイアログを開きます。このオプションをオフにすると、kmail;は受信者のキーが見つからなかった時だけダイアログを表示します。
自動的にOpenPGPを使って署名は、デフォルトで自動的にメッセージに電子署名するかどうかを指定します。もちろん必要なら、各メッセージのメール作成ウィンドウで、個別に切替えることもできます。
さあ、これで送信されるメッセージに署名できるようになりました。誰かから暗号化されたメッセージを送ってもらったり、あるいは誰かにあなたの署名付きメッセージを検証してもらったりするためには、あなたの公開キーをその人達に送るか、あるいは公開 PGPキーサーバにアップロードして、皆がそこからあなたのキーを引き出せるようにする必要があります。誰かに暗号化したメッセージを送ったり、あるいは誰かからの署名付きメールを検証するには、送信者の公開キーが必要です。あなたの公開キーは http://www.cam.ac.uk.pgp.net/pgpnet/などの公開 PGPキーサーバへ登録できます。
メッセージに署名する
普通のメッセージと同様に、kmail;のメール作成ウィンドウでメッセージを作成します。送信する前に、メール作成ウィンドウのツールバーにある メッセージに署名アイコンをクリックします。それからメッセージを送信します。メッセージを作成する際に使用している識別情報には、 設定ダイアログの 個人情報で、 OpenPGP キーと関連付けられていなければなりません。また セキュリティセクションで パスフレーズをメモリに記憶をチェックしていなければ、kmail;はあなたのパスフレーズを知る必要がありますので、それの入力を求められるでしょう。そうでなければ、以前にパスフレーズを入力しているのなら、それ以上の入力を求めることなく、kmail;はメッセージを送信します。
メッセージを暗号化する
その人の公開キーを持っている相手に暗号化したメッセージを送るには、普通にメール作成ウィンドウでメッセージを作り、ツールバーにある メッセージを暗号化ボタンを押し、それから送信します。なお設定で、 可能ならば自動的にメッセージを暗号化を選んでいる場合には、ボタンを押す必要は無く、単に送信するだけで結構です。
受信者に該当するキーが見つからなかったり、複数見つかったりした場合には、 暗号化キーの選択ダイアログが開き、利用可能な全部のキーがそこに表示されます。 選択を記憶チェックボックスをチェックして置けば、以降のメッセージにも、その選択結果が使われます。
キーを初めて使う場合、または設定ダイアログの セキュリティセクションで 確認の為、暗号化キーも表示を選択してある場合、 暗号化キーの確認ダイアログが表示されます。ここで受信者の他のキーを選択したり、各受信者の 暗号化設定を設定できます。デフォルトでは、 可能ならば自動的にメッセージを暗号化を選択していると、各受信者の信頼できるキーがあれば自動的にメッセージの暗号化を行います。
上で述べたように、設定ダイアログの セキュリティページで 常に自身にも暗号化をチェックしていなければ、暗号化された送信済みメッセージは、あなたには読むことはできなくなります。このオプションを有効にしてある場合でも、 暗号化キーの確認ダイアログにはあなたのキーは表示されません。
公開鍵を送る
公開鍵を送りたい相手に送信するメッセージを用意します。それからメール作成ウィンドウのメニューで 添付 自分の 公開鍵を添付 を選択します。これで現在の識別情報に定義されている公開鍵が添付されます。これでメッセージを送信することができます。
受信者が正しいキーを入手できるように、あなたのメッセージに署名するのは決して安全ではありません。というのは、中継攻撃が可能だからです。すなわち、攻撃者はキーと署名を他のものにすり替えてしまうこともできるからです。ですから受信者は、安全な方法で入手したキーのフィンガープリントを使って、添付されたキーの正当性をチェックする必要があります。詳細については PGPのドキュメントを参照して下さい。
暗号化されたメッセージが来たら
しなければならないことは、kmail;でそのメッセージを選択することだけです。パスフレーズの入力を求められるでしょう。kmail;はメッセージの復号化を試み、メッセージがあなたの公開鍵で暗号化されたものならば(そうでなければ、あなたは読むことはできません)、結果をプレーンテキストで表示するでしょう。kmail;はメッセージを暗号化された状態で保存しますので、あなたのパスフレーズを知らない人には読むことはできません。
公開鍵を受け取る
公開鍵は、添付で、あるいはhttpやftp経由で、またはフロッピーで受け取ることができます。公開鍵の所有者に暗号化されたメッセージを送るべく、そのキーを使う前に、キーを検証しておくべきです(フィンガープリントを調べる、または信頼できる署名を探す等)。それから、そのキーをあなたの公開鍵リングに保存することができます。コマンドラインから、 pgp -ka ファイル名 (PGPの場合)、または gpg --import ファイル名 (GnuPGPの場合)として下さい。もしキーが信頼できる署名で確認できなかった場合には、あなたのキーで、そのキーに署名しない限り、メッセージの暗号化には使用できません。(キーに署名するには、 pgp -ks キーの識別情報 または gpg --sign-key キーの識別情報 とします)
設定 フィルタの設定... を選択して下さい。
メッセージフィルタ
詳細オプション
設定 フィルタの設定... を選択して下さい。
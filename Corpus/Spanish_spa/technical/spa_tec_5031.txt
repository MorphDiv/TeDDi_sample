# language_name_wals:	Spanish
# language_name_glotto:	Spanish
# ISO_6393:	spa
# year_composed:	NA
# year_published:	NA
# mode:	written
# genre_broad:	technical
# genre_narrow:	NA
# writing_system:	Latn
# special_characters:	NA
# short_description:	KDE4
# source:	https://object.pouta.csc.fi/OPUS-KDE4/v2/raw/es.zip
# copyright_short:	http://opus.nlpl.eu/KDE4.php
# copyright_long:	http://opus.nlpl.eu/KDE4.php J. Tiedemann, 2012, Parallel Data, Tools and Interfaces in OPUS. In Proceedings of the 8th International Conference on Language Resources and Evaluation (LREC 2012)
# sample_type:	whole
# comments:	NA

Waldo Bastian bastian@kde. org
& Philip. Rodrigues; & Philip. Rodrigues. mail;
& kde; para administradores
Interioridades de & kde;
Visión general
Pendiente de escribir.
Distribución de directorios
& kde; define un sistema de archivos jerárquico que es utilizado por el entorno de & kde; así como por todas las aplicaciones & kde;. En general & kde; guarda todos sus archivos en un árbol de directorio con una estructura fija.
De forma predeterminada & kde; utiliza dos árboles de directorios:
Uno a nivel de sistema (por ejemplo / opt/ kde3).
Otro a nivel de usuario en el directorio personal del usuario (normalmente ~/. kde)
Como administrador del sistema podrá crear árboles adicionales. Se pueden utilizar árboles adicionales para los perfiles.
& SuSE; & Linux; por ejemplo utiliza:
$HOME /. kde
/ opt/ kde3 (Este es específico para & SuSE;. Otras distribuciones pueden utilizar / usr o / usr/ kde3)
/ etc/ opt/ kde3 (Esto fué añadido por & SuSE;).
Si tiene la herramienta de administración KIOSK v0.7 o posterior instalada podrá verificar qué árboles de directorios se utilizar con la siguiente orden: kiosktool-kdedirs --check
& kde; y las aplicaciones & kde; buscan archivos explorando todos los árboles de directorios de & kde;. Los árboles de directorios se verifican en orden de prioridad. Cuando un archivo aparece en varios árboles de directorios, el archivo del último árbol tiene prioridad. Normalmente, el árbol situado en el directorio personal del usuario tiene la máxima prioridad. También es el árbol de directorios en el que se escriben los cambios.
Para obtener información sobre el tipo & MIME; texto/ plano se buscarán los siguientes archivos:
$HOME /. kde/ share/ mimelnk/ text/ plain. desktop
/ opt/ kde3/ share/ mimelnk/ text/ plain. desktop
/ etc/ opt/ kde3/ share/ mimelnk/ text/ plain. desktop
Si un usuario hace un cambio, el cambio se escribe en $HOME /. kde/ share/ mimelnk/ text/ plain. desktop
Para los archivos de configuración la historia es ligeramente diferente. Si existen múltiples archivos de configuración en el árbol de directorios con el mismo nombre, se combinan sus contenidos. El orden de prioridad de los árboles de directorios es importante aquí. Cuando dos archivos definen la misma clave de configuración, el archivo con la máxima prioridad determina qué valor se utilizará para esta clave.
Por ejemplo, si existen los dos siguientes archivos con estos contenidos:
$HOME /. kde/ share/ config/ foobar
Color=rojo Forma=circulo
/ etc/ opt/ kde3/ share/ config/ foobar
Color=azul Posicion=10,10
Los archivos se fusionarán dando el siguiente resultado:
Color=rojo Forma=circulo Posicion=10,10
Especificar directorios
Variable de entorno
Ejemplo(s) de configuración
Comentario
KDEHOME
~/. kde
KDEROOTHOME
/ root/. kde
Esta variable es diferente de $KDEHOME para evitar que el root escriba la variable $KDEHOME del usuario después de ejecutar su.
KDEDIR
/ opt/ kde3, / usr, / usr/ kde3
Depende del vendedor. Utilizado por & kde; 2. Si no está configurada, se utilizará la compilación predeterminada.
KDEDIRS
Nuevo en & kde; 3. Puede listar múltiples direcciones separadas por dos puntos. Si no está configurada, se utilizará $KDEDIR
No necesita configurarse, los valores predeterminados funcionan perfectamente.
¿Y si se quiere ejecutar alternativamente & kde; 2 y & kde; 3? $KDEDIR apuntará a & kde; 2 y $KDEDIRS a & kde; 3.
Un empleado de una universidad podría tener la siguiente configuración:
KDEHOME='~/. kde3 'KDEROOTHOME='/ root/. kde3' KDEDIRS='/ opt/ kde_empleados: / opt/ kde3 '
Perfiles de usuarios
En el ejemplo anterior / opt/ kde_empleados contiene configuraciones y aplicaciones adicionales para los empleados. Los « Perfiles de usuario » le permitirán añadir este directorio únicamente para unos usuarios y no para otros. Añada lo siguiente a / etc/ kderc:
[Directories-empleados] prefixes=/ opt/ kde_empleados
Esto crea un perfil llamado « empleados » que añade / opt/ kde_empleados al árbol de directorios. (Por ejemplo & SuSE; & Linux; utiliza / etc/ kde3rc en lugar de / etc/ kderc). Ahora que hemos dado nombre al perfil habrá que asignar a los usuarios.
El mapa de perfiles de usuario precisa de un archivo que se tiene que especificar en / etc/ kderc:
[Directories] userProfileMapFile=/ etc/ kde-user-profile
Ahora es posible asignar un perfil basado en los grupos de & UNIX; de los que forma parte.
Para asignar el perfil empleados a todos los usuarios que sean miembros del grupo & UNIX; empleados añada lo siguiente a / etc/ kde-user-profile:
[General] groups=empleados [Groups] empleados=empleado
También es posible asignar un perfil a un solo usuario:
[Users] bastian=empleados
Revisión de la distribución de directorios
Cada árbol de directorios utilizado por & kde; tiene una estructura de directorios fija. Los directorios que no son importantes para algunos árboles, o simplemente no utilizados se obvian. Por ejemplo, los directorios utilizados para los archivos temporales se suelen colocar bajo $KDEHOME pero no en cualquier otro directorio.
Directorios con arquitectura específica
Directorios específicos para la arquitectura (sistema operativo y tipo de CPU):
bin
Utilizado por los ejecutables de & kde;.
lib
Utilizado por las bibliotecas de & kde;.
lib/ kde3
Este directorio contiene componentes, extensiones y otros objetos utilizados por las aplicaciones & kde; 3. x que se pueden cargar en tiempo de ejecución.
Directorios compartidos
Compartidos: No específicos de una arquitectura, pueden ser compartidos por diferentes arquitecturas.
share/ applnk
archivos. desktop para el menú & kde; (antiguo).
share/ applications
archivos. desktop para el menú & kde; (desde & kde; 3.2).
share/ apps
Contiene archivos de datos para aplicaciones específicas. Cada aplicación tiene aquí un subdirectorio para guardar archivos de datos adicionales.
share/ config
Archivos de configuración. Los archivos de configuración normalmente tienen el mismo nombre que la aplicación a la que pertenecen más las letras « rc ». Un caso especial es kdeglobals. Este archivo es leído por todas las aplicaciones & kde;.
share/ config/ session
Este directorio se utiliza para la administración de la sesión y solo suele estar disponible bajo $KDEHOME. Al final de una sesión de & kde; las aplicaciones guardan aquí su estado. Los nombres de los archivos se componen del nombre de la aplicación seguido por un número. El administrador de la sesión ksmserver guarda referencias a estos números cuando guarda una sesión en ksmserverrc.
share/ doc/ HTML
Este directorio contiene la documentación para las aplicaciones de & kde;. La documentación está separada por idiomas y por la aplicación propietaria de la misma. Normalmente al menos existen dos archivos en un directorio index. docbook, que contienen la documentación en formato DocBook sin formatear e index. cache. bz2, que tiene la misma información formateada como & HTML; comprimido con bzip2. La versión & HTML; es utilizada por & khelpcenter;. Si falta la versión & HTML; & khelpcenter; la regenerará a partir de la versión DocBook pero esto consume tiempo de proceso.
share/ icons
En este directorio se guardan los iconos. Los iconos se dividen por temas, dimensiones y categoría de uso.
share/ mimelnk
En este directorio, se guardan los archivos. desktop descritos por los tipos & MIME;. & kde; utiliza los tipos & MIME; para identificar el tipo de un archivo.
share/ services
Este directorio contiene los archivos. desktop que describen servicios. Los servicios son similares a aplicaciones pero que se inician por otras aplicaciones a petición del usuario. Los servicios no aparecen en el menú & kde;.
share/ servicetypes
Este directorio contiene archivos. desktop que describen servicetypes. Un servicetype suele representar una determinada interfaz de programación. Las aplicaciones y servicios incluyen en sus propios archivos. desktop los servicetypes que proporcionan.
share/ sounds
Este directorio contiene archivos de sonido.
share/ templates
Este directorio contiene plantillas para crear archivos de varios tipos. Una plantilla es un archivo. desktop que describe el archivo y que incluye un referencia a un archivo en el subdirectorio. source. Las plantillas de este directorio aparecen en el menú Crear nuevo disponible en el escritorio y en el explorador de archivos. Cuando un usuario selecciona una plantilla de este menú se copia su archivo fuente.
share/ wallpapers
Este directorio contiene imágenes que se pueden utilizar como imágenes de fondo.
Directorios específicos del servidor
Existen tres directorios específicos que suelen ser enlaces simbólicos a otras direcciones. Si los directorios no existen, se podrán crear los siguientes enlaces simbólicos y directorios utilizando la utilidad lnusertemp:
$KDEHOME / socket-$ HOSTNAME
Normalmente / tmp/ ksocket-$ USER /, suele ser utilizado por varias conexiones & UNIX;.
$KDEHOME / tmp-$ HOSTNAME
Normalmente / tmp/ kde-$ USER /, se utiliza para los archivos temporales.
$KDEHOME / cache-$ HOSTNAME
Normalmente / var/ tmp/ kdecache-$ USER /, se utiliza para los archivos de caché.
Puesto que tanto / tmp como / var/ tmp se pueden escribir por todos, es posible que uno de estos directorios ya exista pero sea propiedad de otro usuario. En este caso la utilidad lnusertemp creará un nuevo directorio con un nombre alternativo y lo enlazará.
Archivos de configuración
& kde; utiliza un formato de archivo basado en texto simple para todos sus archivos de configuración. Consiste en pares clave-valor que se colocan por grupos. Todos los archivos de configuración de & kde; utilizan UTF -8 codificando el texto externo en ASCII.
El inicio de un grupo se indica por el nombre del mismo situado entre dos corchetes. Todos las entradas clave-valor que le siguen pertenecen al grupo. Los grupos finalizan cuando se inicia otro grupo o cuando se alcanza el final del archivo. Las entradas de la parte superior del archivo que no están precedidos por el nombre del grupo pertenecen al grupo predeterminado.
El siguiente ejemplo muestra un archivo de configuración que contiene dos grupos. El primer grupo contiene las claves LargeCursor y SingleClick, el segundo grupo contiene las claves Show hidden files y Sort by:
[KDE] LargeCursor=false SingleClick=true
[KFileDialog Settings] Show hidden files=false Sort by=Name
Las entradas de cada grupo están formadas por una clave y un valor separados por un signo igual. La clave puede contener espacios y puede ser seguido por opciones colocadas entre corchetes. La parte posterior al signo igual es el valor de la entrada. Cualquier espacio en blanco que rodee al signo igual se ignorará, como sino existiera. Para ser más conciso, el formato es:
entrada = valor
Si un valor se supone que ha de incluir un espacio al principio o al final entonces deberá utilizar una barra inversa seguida de una « s ».
Existen algunos otros códigos de barra inversa. Aquí está la lista completa:
\\s se puede utilizar como un espacio.
\ se puede utilizar como un tabulador.
\\r para un caracter de retorno de carro.
\ para un caracter de retorno de línea (nueva línea).
\\\\ para incluir la barra inversa.
En el siguiente ejemplo el valor de la entrada Etiqueta se inicia con dos espacios mientras que la entrada Descripcion contiene tres líneas de texto. Los saltos de línea en la notación de barra inversa se utiliza para separar líneas diferentes.
[Previsualizar Imagen] Etiqueta=\\s Mi Etiqueta Descripcion=Esta es\ una descripción\ muy larga.
Las líneas vacías en los archivos de configuración se ignoran, así como las líneas que comiencen con una marca de número (« # »). La marca de número se puede utilizar para añadir comentarios a los archivos de configuración. Debería tenerse en cuenta que cuando una aplicación & kde; actualiza un archivo de configuración los comentarios no se conservan.
Pueden existir múltiples archivos de configuración con el mismo nombre en el subdirectorio share/ config o en varios directorios del árbol de & kde;. En este caso la información de estos archivos de configuración se combinan en una base clave por clave. Si la misma clave de un grupo se define en varios lugares, el valor de la clave se toma del árbol de directorios con mayor prioridad. Los archivos de configuración bajo $KDEHOME siempre tendrán la máxima prioridad. Si una clave de un determinado grupo se define varias veces en un mismo archivo, se tomará el valor de la última entrada utilizada.
Si $HOME /. kde/ share/ config/ foobar contiene: [MiGrupo] Color=rojo Forma=circulo y / etc/ opt/ kde3/ share/ config/ foobar contiene [MiGrupo] Color=azul Posicion=10,10 el resultado será:
[MiGrupo] Color=rojo Forma=circulo Posicion=10,10
Si $HOME /. kde/ share/ config/ foobar contiene [MiGrupo] Color=rojo Forma=circulo [MiGrupo] Color=verde y / opt/ kde_staff/ share/ config/ foobar contiene [MiGrupo] Color=morado Posicion=20,20 y / etc/ opt/ kde3/ share/ config/ foobar contiene [MiGrupo] Color=azul Posicion=10,10 el resultado será:
[MiGrupo] Color=verde Forma=circulo Posicion=20,20
Para evitar que los usuarios sean capaces de sobreescribir las configuraciones predeterminadas, estas configuraciones se marcan como no modificables. Las configuraciones se pueden hacer no modificables de forma individual, por grupos o por archivo. Una entrada individual se puede bloquear añadiendo [$i] detrás de la clave, & eg;:
Color[$i]=azul
Un grupo de entradas se puede bloquear colocando [$i] detrás del nombre del grupo, & eg;:
[MiGrupo][$i]
Para bloquear un archivo completo, inicie el archivo con [$i] en una línea sencilla, & ie;:
[$i]
Si $HOME /. kde/ share/ config/ foobar contiene: [MiGrupo] Color=rojo Forma=circulo y / etc/ opt/ kde3/ share/ config/ foobar contiene: [MiGrupo][$i] Color=azul Posicion=10,10 el resultado será:
[MiGrupo] Color=azul Posicion=10,10
Si $HOME /. kde/ share/ config/ foobar contiene: [MiGrupo] Color=rojo Forma=circulo y / opt/ kde_staff/ share/ config/ foobar contiene [MiGrupo] Color=morado Forma=rectangulo y / etc/ opt/ kde3/ share/ config/ foobar contiene [MiGrupo][$i] Color=azul Posicion=10,10 el resultado será
[MiGrupo] Color=morado Forma=rectangulo Posicion=10,10
La llamada « expansión del intérprete de órdenes » puede ser utilizada para proporcionar más valores dinámicos predeterminados. Con la expansión del intérprete de órdenes el valor de una clave de configuración puede ser construída a partir del valor de una variable de entorno o a partir de la salida de una órden del intérprete de órdenes. Para activar la expansión del intérprete de órdenes para una entrada de configuración, la clave deberá estar seguida por [$e]. Normalmente la forma expandida está escrita en los archivos de configuración de los usuarios después de la primera vez que se usa. Para evitar ésto, es recomendable bloquear la entrada de configuración utilizando [$ie]. El usuario no podrá cambiarla por supuesto.
En el siguiente ejemplo el valor para la entrada Servidor está determinada por la salida del programa nombreservidor. Esta configuración también está bloqueada para asegurarse que el valor será siempre determinado dinámicamente.
El valor para la entrada Correoe se determina rellenando los valores de las variables de entorno $USER y $HOST. Cuando joe se conecta en joe_host se devolverá un valor igual a joe@joes_host. La configuración no está bloqueada.
[Configuraciones de correo] Servidor[$ie]=$(hostname) Correoe[$e]=${USER}@${HOST}
La mayor parte de las entradas pueden ser indexadas con un código de idioma. En este caso, el idioma seleccionado por el usuario para utilizar con su escritorio es el utilizado como valor para la clave. Si el idioma predeterminado (inglés americano) se ha seleccionado o si no existe índice correspondiente al idioma seleccionado, se utilizará la clave sin índice.
En el siguiente ejemplo el valor de la entrada Etiqueta depende del idioma. Si el usuario ha seleccionado francés como idioma (código de idioma fr) el valor de la entrada será « Ma Leacute; gende ». En cualquier otro caso el valor utilizado será « Mi etiqueta ».
[Previsualizar Imagen] Etiqueta=Mi etiqueta Etiqueta[fr]=Ma Leacute; gende
En este ejemplo el valor de la entrada Etiqueta depende del idioma. Si el usuario ha seleccionado francés como idioma (código de idioma fr) el valor de la entrada será « Ma Leacute; gende ». En cualquier otro caso el valor utilizado será « Mi etiqueta ».
En general las entradas que aparecen en un archivo de configuración no están documentadas. Con & kde; 3.2 se han comenzado a cambiar esto. En $KDEDIR / share/ config. kcfg, se pueden encontrar los archivos que proporcionan una descripción formal de las posibles entradas en un archivo de configuración. Estos se utilizarán por el nuevo editor de configuración de & kde; cuando est disponible.
He aquí un ejemplo de un archivo de configuración & XML;:
& lt; ?xml version="1.0 "encoding="UTF-8"? gt; & lt; !DOCTYPE kcfg SYSTEM "http: / /www. kde. org/ standards/ kcfg/ 1.0/ kcfg. dtd"gt; & lt; kcfggt; & lt; kcfgfile name="korganizerrc"/ gt; & lt; group name="General"gt; & lt; entry type="Bool" key="Auto Save"gt; & lt; labelgt; Activa el guardado automático del calendariolt; /labelgt; & lt; defaultgt; truelt; /defaultgt; & lt; /entrygt; & lt; entry type="Int "key="Auto Save Interval"gt; & lt; defaultgt; 10lt; /defaultgt; & lt; /entrygt; & lt; /groupgt; & lt; /kcfggt;
Tendrá el mismo efecto que:
[General] Auto Save=false Auto Save Interval=25
Secuencia de inicio de & kde;
& kdm;
¡Siempre se ejecuta como root! Utiliza $KDEDIR / share/ config/ kdmrc y / etc/ X11/ xdm/ Xservers. El último contiene una entrada del estilo:
:0 local / usr/ X11R6/ bin/ X :0 vt07
También son archivos importantes para el inicio:
La sección [X-*-Core] en kdmrc
Configuración: / etc/ X11/ xdm/ Xsetup
Los usuarios introducen el nombre de usuario y la contraseña
Incio: / etc/ X11/ xdm/ Xstartup (como administrador)
Sesión: / etc/ X11/ xdm/ Xsession (inicia la sesión como usuario)
= Para una sesión de KDE: kde o startkde = Para una sesión de KDE: kde o startkde
= Si está presente ~/. xsession o ~/. xinitrc
Reinciar: / etc/ X11/ xdm/ Xreset (después de que la sesión haya finalizado)
El script de inicio de & kde;: startkde
La secuencia de inicio de & kde; comienza con el script startkde. En la mayoría de casos, este script llama al administrador de visualización (kdm;) una vez que el usuario se ha autenticado. Hay dos líneas muy importantes en el script startkde:
LD_BIND_NOW=true kdeinit4 +kcminit +knotify y kwrapper4 ksmserver $KDEWM
La primera línea inicia el proceso maestro kdeinit4. El proceso maestro kdeinit4 se utiliza para iniciar todos los otros procesos de & kde;. Aparece en la salida de ps aux como kdeinit4: Running.... Los argumentos después de kdeinit4 son los nombres de los procesos que se iniciarán. + indica que kdeinit4 necesita esperar a que el proceso termine. kdeinit4 también inicia dcopserver, klauncher y kded.
La segunda de las dos líneas pide a kdeinit4 que inicie el proceso de administración de sesión ksmserver. El administrador de sesión determina el tiempo de vida de la sesión. Cuando este proceso sale, se desconecta al usuario.
Procesos en segundo plano
Todos los servicios en segundo plano de & kde; tienen un uso específico: A diferencia del sistema de demonios no se comparten por los usuarios. Como son únicos para cada usuario también son únicos para cada visualización del servidor-X. Los procesos son:
dcopserver
Comunicación con el escritorio.
kded
Demonio genérico de servicio.
Inician Sycoca para actualizar la base de datos siempre que sea necesario
kcminit
Inicialización de servicio
Véa para obtener más información.
klauncher
Inicia el programa (¡este no es el diálogo Alt; F2!).
Véa para obtener más información.
knotify
Notificaciones a los usuarios.
Véa para obtener más información.
ksmserver
Administrador de sesión.
Véa para obtener más información.
kdeinit
La orden kdeinit se utiliza para iniciar todos los demás programas de & kde;. kdeinit puede iniciar tanto archivos de programas binarios como módulos cargables por kdeinit (KLM s). Los KLM s funcionan de manera similar a los archivos de programas binarios pero se pueden iniciar de una forma más eficiente. Los KLM s se encuentran en $KDEDIR / lib/ kde3.
El inconveniente de los programas iniciados de esta forma es que aparecerán como kdeinit en la salida de top y ps. Utilice top -c o ps aux para el nombre actual del programa:
% ps aux waba 23184 0.2 2.1 23428 11124? S 21:41 0:00 kdeinit4: Running... waba 23189 0.2 2.4 25136 12496? S 21:41 0:00 kdeinit4: klauncher waba 23192 0.7 2.8 25596 14772? S 21:41 0:00 kdeinit4: kded waba 23203 0.8 3.4 31516 17892? S 21:41 0:00 kdeinit4: knotify
kdeinit: Runing... identifica el proceso maestro kdeinit. Los otros procesos listados son los programas iniciados como KLM s.
Cuando kdeinit se ejecuta la primera vez iniciará klauncher y kded, así como aquellos programas adicionales especificados en la línea de órdenes en el script startkde, normalmente kcminit_startup.
kcminit
kcminit ejecuta los servicios de inicialización durante el arranque. Los servicios inicializados se especifican en los archivos. desktop de las aplicaciones o servicios a través de la línea X-KDE-Init:
[Desktop Entry] Encoding=UTF-8 Exec=kcmshell4 energy Icon=energy_star Type=Application X-KDE-Library=energy X-KDE-Init=energy
La inicialización de servicios se suele utilizar para inicializar hardware basado en las configuraciones especificas del usuario.
kcminit --list se puede utilizar para mostrar todos los servicios inicializados y kcminit service se puede utilizar para ejecutar un determinado servicio de forma explícita. Esto puede ser muy práctico para investigar problemas de inicio.
klauncher es un demonio responsable del servicio de activación en & kde;. Opera en relación directa con el proceso maestro kdeinit para iniciar nuevos procesos. Las aplicaciones & kde; se comunican con klauncher a través de & DCOP; para iniciar nuevas aplicaciones o servicios.
Lo más conocido es el mensaje de error: KLauncher could not be reached via DBus (KLauncher no se pudo iniciar a través de DBus) que indica un serio problema con dcopserver o que klauncher se ha colgado.
klauncher se puede reiniciar reiniciando kdeinit desde una ventana de consola. ¡Asegúrese de que $HOME, $DISPLAY y el resto de las variables $KDEDIR(S) están correctamente configuradas antes de hacerlo!
La principal tarea de knotify es transmitir los sonidos de las notificaciones al servidor de sonido, a la vez que proporciona métodos de notificación alternativo.
KSMServer
ksmserver es el administrador de sesiones de & kde;. Al iniciarse el administrador de sesiones se inician las aplicaciones auto-arrancables y se restauran las aplicaciones de la sesión anterior. Las aplicaciones auto-arrancables son las que se indican en los archivos. desktop en el directorio $KDEDIR / share/ autostart. El autoarranque de una aplicación puede venir determinado por la entrada X-KDE-autostart-condition en el archivo. desktop.
Por ejemplo el archivo ktip. desktop contiene:
X-KDE-autostart-condition=ktiprc: TipOfDay: RunOnStart: true
Esto significa que el archivo de configuración ktiprc se marcará con una entrada RunOnStart en la sección [TipOfDay]. Sino se encuentra la entrada, se asume el valor true, lo que significa que ktip es una de las aplicaciones que se autoarrancará de forma predeterminada.
Algunas de las aplicaciones autoarrancables por ksmserver son:
kdesktop
El escritorio de & kde;.
& kicker;
El panel de & kde;.
ktip
Un programa con el consejo del día.
kwrited
Una utilidad para recibir mensajes del sistema enviados al usuario.
& klipper;
Una utilidad de portapapeles que se integra en el panel.
kalarm
Una utilidad que le avisa cuando se produce una cita.
kdesktop inicia aquellas aplicaciones guardadas en $KDEHOME / Autostart. kdesktop abrirá automáticamente cualquier archivo almacenado en este directorio incluyendo documentos, archivos binarios o aplicaciones en forma de archivos. desktop.
El administrador de sesión de & kde; también restaura una de las sesiones anteriores. Una sesión contiene una colección de aplicaciones así como información específica de la aplicación que refleja el estado de la aplicación en el momento en que se guardó la sesión. Las sesiones se almacenan en el archivo de configuración ksmserverrc que contiene referencias a la información específica del estado de una aplicación. La información específica del estado de una aplicación se guarda en $KDEHOME / share/ config/ session. La información del estado de & kwin; contiene la colocación de las ventanas de todas las aplicaciones de la sesión.
Variables de entorno
Algunas variables de entorno importantes utilizadas por & kde;:
$KDEDIR
Tiene que asignarse si KDEDIRS no tiene valor asignado y debe apuntar al directorio raíz del árbol de instalación de & kde;. Permite a & kde; encontrar sus datos como pudieran ser iconos, menús y bibliotecas.
$KDEDIRS
Sobreescribe KDEDIR y le permite especificar múltiples directorios en los que & kde; buscará sus datos. Es práctico si quiere o tiene instalados algunos programas en un lugar diferente que el resto de & kde;.
$KDEHOME
Si no está asignada, & kde; utiliza ~/. kde como directorio en el que se guardan datos personales.
$KDEROOTHOME
Sino está asignada, & kde; utiliza ~root/. kde como el directorio en el que se guardan los datos personales del root. Se ha introducido para evitar que & kde; sobreescriba accidentalmente datos de los usuarios con los permisos de root cuando el usuario ejecuta un programa de & kde; después de convertirse en root con la orden su.
$KDEWM
Si se ha asignado la variable de entorno KDEWM, su contenido se utilizará por & kde; dentro del script startkde para determinar el administrador de ventanas que se utilizará en lugar de & kwin;.
$KDE_LANG
Sobreescribe el idioma de configuración de & kde;, & eg; KDE_LANG=fr kprogram & inicia un programa con la traducción francesa si están instalados los archivos necesarios.
$KDE_MULTIHEAD
Si el contenido de esta variable es true indica que & kde; se ejecuta en un sistema con varios monitores.
$KDE_FORK_SLAVES
(kde; 3.2.3) Asigne esta variable para generar KIO -slaves directamente desde el proceso de la aplicación. De forma predeterminada los KIO -slaves se generan utilizando klauncher / kdeinit. Esta opción es práctica si el KIO -slave debe ejecutarse en el mismo entorno que la aplicación. Este puede ser el caso de Clearcase.
$KDE_HOME_READONLY
Asigne esta variable para indicar si su directorio personal está montado como solo-lectura.
$KDE_NO_IPV6
(Desde & kde; 3.2.3) - Asigne esta variable para desactivar el soporte IPv6 y la búsqueda DNS IPv6.
$KDE_IS_PRELINKED
(Desde & kde; 3.2) - Asigne esta variable para indicar que ha preenlazado sus binarios y bibliotecas & kde;. Esto puede cerrar kdeinit.
$KDE_UTF8_FILENAMES
Si esta asignada esta variable de entorno, & kde; asume que todos los nombres de archivo están codificados en UTF-8 a pesar de la codificación local.
$KDE_FULL_SESSION
(Desde & kde; 3.2) & kde; le asigna el valor true de forma automática al arrancar, se utiliza por & eg; en & konqueror; para saber si debería mantenerse en memoria para una futura reutilización cuando se cierre. Si no está asignada, & konqueror; terminará después de que se cierre (eg; & kdesu; lo que hace que sea muy práctico para el depurado).
$KDESYCOCA
Le permite especificar la ruta y el nombre del archivo del sistema de configuración de la caché generado por & kde;.
$KDETMP
Le permite especificar otra ruta diferente de / tmp para que & kde; guarde allí los archivos temporales.
$KDEVARTMP
Le permite especificar otra ruta diferente de / var/ tmp para que & kde; guarde allí sus archivos de variables.
$XDG_DATA_HOME
(Desde & kde; 3.2) define el directorio base relativo al lugar en el que se deberían guardar los archivos de datos específicos de los usuarios. De forma predeterminada su valor será $HOME /. local/ share
$XDG_DATA_DIRS
(Desde & kde; 3.2) define el orden de prioridad en la asignación de directorios base para la búsqueda de archivos de datos de forma adicional al directorio base $XDG_DATA_HOME. Su valor predeterminado es / usr/ local/ share/: / usr/ share/
& kde; añade direcciones para $KDEDIRS así como perfiles. Se utiliza por los archivos de menú. desktop y. directory. Los archivos. desktop están en $XDG_DATA_DIRS / applications. Los archivos. directory están en $XDG_DATA_DIRS/ desktop-directories.
$XDG_CONFIG_HOME
(kde; 3.2) - Define el directorio base relativo en el se deben guardar los archivos de configuración específicos del usuario. El valor predeterminado es $HOME /. config.
$XDG_CONFIG_DIRS
(kde; 3.2) - Define el orden de prioridad de los directorios base para buscar archivos de configuración adicionales al directorio base $XDG_CONFIG_HOME. El valor predeterminado es / etc/ xdg. & kde; añade también las direcciones y perfiles de $KDEDIRS. Se utiliza por las descripciones de. menu en $XDG_CONFIG_DIRS / menus.
El misterioso kdeinit
La orden kdeinit se utiliza para iniciar todos los demás programas de & kde;. kdeinit puede iniciar tanto archivos de programas binarios como módulos cargables por kdeinit (KLM s). Los KLM s funcionan de manera similar a los archivos de programas binarios pero se pueden iniciar de una forma más eficiente. Los KLM s se encuentran en $KDEDIR / lib/ kde3.
% ps aux | grep bastian bastian 26061 0.0 2.2 24284 11492? S 21:27 0:00 kdeinit: Running... bastian 26064 0.0 2.2 24036 11524? S 21:27 0:00 kdeinit: dcopserver bastian 26066 0.1 2.5 26056 12988? S 21:27 0:00 kdeinit: klauncher bastian 26069 0.4 3.2 27356 16744? S 21:27 0:00 kdeinit: kded bastian 26161 0.2 2.7 25344 14096? S 21:27 0:00 kdeinit: ksmserver bastian 26179 1.1 3.4 29716 17812? S 21:27 0:00 kdeinit: kicker bastian 26192 0.4 3.0 26776 15452? S 21:27 0:00 kdeinit: klipper bastian 26195 1.0 3.5 29200 18368? S 21:27 0:00 kdeinit: kdesktop
Como es posible que haya oído, esto la otra cara de este efecto es que será difícil matar un proceso que esté causando un problema:
% killall kdesktop kdesktop: no process killed
Puede estar tentado de utilizar killall kdeinit, pero matar todos los procesos de kdeinit provocará que se cierre todo & kde;. En efecto, ¡destrucción total!
Existen dos soluciones simples a esto:
% kdekillall kdesktop o mejor% kill 26195
kdekillall forma parte del paquete SDK de & kde;.
Personalización de & kde;
Iconos de escritorio
& kde; utiliza varios tipos de iconos:
Documentos.
Enlaces a sitios web (utilizando archivos. desktop).
Enlaces a aplicaciones (utilizando archivos. desktop).
Dispositivos - Discos, particiones y periféricos:
De forma explícita utilizando archivos. desktop.
De forma automática a través de dispositivos: / / io-slave.
Específicos de los vendedores (eg; Mi equipo en & SuSE;).
Sitios web
Enlaces a los sitios web utilizando archivos. desktop: Crear nuevo Archivo Enlace a dirección (URL). Cambie el icono utilizando los diálogos de propiedades. El archivo. desktop resultante será:
[Desktop Entry] Encoding=UTF-8 Icon=/ opt/ kde3/ share/ apps/ kdesktop/ pics/ ksslogo. png Type=Link URL=http: / /www. kde. org/
Aplicaciones
Enlazar aplicaciones utilizando archivos. desktop: Crear nuevo Archivo Enlace a aplicación. Puede proporcionar sus propios detalles. Arrastrar desde el menú & kde;: Tanto copiar como enlazar (crear un enlace simbólico) es muy fácil:
[Desktop Entry] Encoding=UTF-8 GenericName=IRC Client GenericName[af]=Irc Klieuml; t GenericName[de]=IRC Programm... GenericName[zu]=Umthengi we IRC SwallowExec= Name=KSirc Name[af]=Ksirc Name[de]=KSirc...
Información de resumen.
Descripción genérica traducida, no se utiliza en el escritorio.
Heredado, se puede eliminar.
Nombre traducido tal y como aparecerá en el escritorio.
Iconos del escritorio
... Name[zu]=Ksirc MimeType= Exec=ksirc %i %m Icon=ksirc TerminalOptions= Path= Type=Application Terminal=0 X-KDE-StartupNotify=true X-DCOP-ServiceType=Multi Categories=Qt; KDE; Network
Soporta tipos & MIME;, no se utiliza en el escritorio.
La orden a ejecutar.
El icono, que se obtiene a partir del tema de iconos o con su ruta completa.
Solo se utiliza si es necesario el terminal.
Directorio de trabajo para la órdenes.
Más información de resumen.
Utilice true si se necesita terminal, aplicación de texto.
Muestra el cursor botando, desactívelo si no funciona.
¿Se ha iniciado la aplicación correctamente? Eliminar si no funciona.
Categorías para el menú & kde;, no utilizado en el escritorio.
La opción Exec en los archivos. desktop
Junto a la orden se pueden colocar algunos elementos que se reemplazarán con los valores actuales cuando se está ejecutando el programa actual:
%f
Un nombre de archivo sencillo. Se utiliza cuando se suelta el archivo en un icono, o con las asociaciones de archivos.
%F
Una lista de archivos. Se utiliza con las aplicaciones que pueden abrir varios archivos locales a la vez.
%u
Una & URL; sencilla: Si la aplicación puede manejar & eg; & URL; s de & FTP; o & HTTP; por si mismos, en otro caso se utilizará & kde;.
%U
Una lista de & URL; s. Podrá descargar un archivo para a continuación pasárselo como archivo local a la aplicación (¡¡!!).
%d
La carpeta de un archivo que se ha de abrir. Práctico si la aplicación necesita tener un archivo en el directorio de trabajo actual.
%D
Una lista de carpetas, no es muy práctico.
%i
El icono. La opción --icon. La aplicación de & kde; utilizará el icono de la línea Icon = de la barra de tareas.
%m
El mini icono. Heredado.
%c
La etiqueta. La opción --caption. La aplicación & kde; utilizará el nombre desde la línea Name = de la barra de tareas.
Ejemplos:
Línea Exec
Orden ejecutada
ksirc %i
ksirc --icon ksirc
cd %d; kedit $(basename %f)
cd / tmp; kedit file. txt
Dispositivos
Enlaces a los dispositivos utilizando archivos. desktop: Crear nuevo - > Dispositivo
Dónde se define
Algunos lugares en los que se definen los iconos de escritorio:
~/ Desktop: copiado de / etc/ skel/ Desktop.
$KDEDIR / apps/ kdesktop/ Desktop (mezclado).
$KDEDIR / apps/ kdesktop/ DesktopLinks (copiado).
Iconos de dispositivos (mezclados dinámicamente).
La distribución SUSE Linux copia algunos iconos en startkde. theme desde / opt/ kde3/ share/ config/ SuSE/ default/.
El menú & kde;
Cómo funciona
En & kde; 3.2 se introduce un formato de menú común en http: / /freedesktop. org/ Standards/ menu-spec/.
Antes de & kde; 3.2:
Estructura de directorios bajo share/ applnk.
La estructura de directorios representa la estructura de menús.
Cada archivo. desktop representa una sola aplicación.
Es difícil recolocar la estructura en & kde; 3.2 por tanto el nuevo formato es:
Define la estructura en un solo archivo. menu.
Está basado en categorías.
Se comparte por GNOME y por & kde;.
También soporta el estilo de menús applnk.
Ejemplo para applications. menu:
& lt; Menugt; & lt; Namegt; Officelt; /Namegt; & lt; Directorygt; suse-office. directorylt; /Directorygt; & lt; Includegt; & lt; Filenamegt; Acrobat Reader. desktoplt; /Filenamegt; & lt; Filenamegt; kde-kpresenter. desktoplt; /Filenamegt; & lt; Filenamegt; kde-kword. desktoplt; /Filenamegt; & lt; /Includegt; & lt; Menugt;
Entrada de menús con 3 aplicaciones:
/ usr/ share/ applications/ Acrobat Reader. desktop
/ opt/ kde3/ share/ applications/ kde/ kpresenter. desktop
/ opt/ kde3/ share/ applications/ kde/ kword. desktop
¿Dónde se guardan?
Los archivos. menu describen la estructura del menú. Los archivos se guardan en $KDEDIR / etc/ xdg/ menus y / etc/ xdg/ menus. Aquí se guarda la estructura completa del menú y está controlada por $XDB_CONFIG_DIRS. $HOME /. config/ menus guarda los cambios de la estructura del menú específicos del usuario y está controlado por $XDG_CONFIG_HOME. Para más información, véa http: / /www. freedesktop. org/ Standards/ basedir-spec.
Los archivos. desktop describen las aplicaciones y se guardan en: $KDEDIR / share/ applications, / usr/ share/ applications, / usr/ local/ share/ applications. Aquí se encuentran los archivos. desktop de las aplicaciones de sistema, que se controlan por $XDG_DATA_DIRS.
$HOME /. local/ applications contiene archivos. desktop específicos de cada usuario así como sus cambios. Se controlan por $XDG_DATA_HOME. Para obtener más información, véa http: / /www. freedesktop. org/ Standards/ basedir-spec.
Los archivos. directory describen los submenús y se guardan en: $KDEDIR / share/ desktop-directories, / usr/ share/ desktop-directories, / usr/ local/ share/ desktop-directories. Estos son los archivos. directory que contienen el menú de sistema completo, y están controlados por $XDG_DATA_DIRS. Los cambios de un usuario concreto se guardan en $HOME /. local/ desktop-directories. Se controlan por $XDG_DATA_HOME. Para obtener más detalle, véa http: / /www. freedesktop. org/ Standards/ basedir-spec.
& lt; Menugt; & lt; Namegt; Artlt; /Namegt; & lt; Directorygt; suse-edutainment-art. directorylt; /Directorygt; & lt; Includegt; & lt; Categorygt; X-SuSE-Artlt; /Categorygt; & lt; /Includegt; & lt; /Menugt;
Art es el nombre interno para este menú. suse-edutainment-art. directory define el nombre y el icono para este menú, y el menú incluye todas las aplicaciones que tienen X-SuSE-Art dentro de su categoría, & eg;:
Categories=Qt; KDE; Education; X-SuSE-Art
suse-edutainment-art. directory define el nombre y el icono para este menú:
[Desktop Entry] Name=Arte y Cultura Icon=kcmsystem
Problemas habituales
Las aplicaciones que no se incluyen en el menú no existen para el resto de las aplicaciones o para las asociaciones de archivos: Si elimina una aplicación del menú, & kde; asume que no desea usarla.
Cuando no se desea que las aplicaciones aparezcan en el menú, pueden colocarse allí en un menú. hidden o con un menú invisible con NoDisplay=true en el archivo. directory.
Menús esenciales
$KDEDIR / etc/ xdg/ menus/ applications-merged/ contiene kde-essential. menu que incluye algunos menús esenciales que no se muestran en el menú & kde; por si mismos:
El centro de control contiene un menú de configuración oculto que está definido en kde-settings. menu y cuyos iconos y nombres se definen en kde-settings. directory.
El centro de información contiene un menú de información oculto que está definido en kde-information. menu y cuyos iconos y nombres se definen en kde-information. directory.
Los salvapantallas contienen menús de sistema/ salvapantallas ocultos que están definidos en kde-screensavers. menu y cuyos iconos y nombres se definen en kde-screensavers. directory. $KDEDIR / share/ desktop-directories/ kde-system-screensavers. directory contiene:
NoDisplay=true
Menús con el estilo antiguo
& kde; continua soportando los menús con el estilo antiguo que se definen por la estructura de directorios de $KDEDIR / share/ applnk (sistema completo) y $HOME /. kde/ share/ applnk (específico del usuario). Puede verse como en el archivo. desktop se incluyen líneas Categories =. En este caso la categoría determina la colocación en el menú.
KSycoca
KSycoca guarda la estructura de menús e información sobre todas las aplicaciones. Puede reconstruir la base de datos con kbuildsycoca4. La base de datos que se construye está en / var/ tmp/ kdecache-${ USER }/ ksycoca. Se utiliza automáticamente por KDED, que se verifica durante el inicio de la sesión de & kde;, de forma que KDED busca los cambios durante el inicio de la sesión.
Para desactivar la búsqueda de cambios (puede no funcionar sobre NFS) añada lo siguiente a kdedrc:
[General] CheckSycoca=false
Para forzar la regeneración, ejecute touch $KDEDIR / share/ services/ update_ksycoca.
& kmenuedit;
El objetivo de & kmenuedit; es ayudar a un usuario con la configuración. Los cambios en la estructura del menú se guardan en ~/. config/ menus/ applications-kmenuedit. menu, los cambios de las aplicaciones se guardan en ~/. local/ share/ applications/ y los cambios de los submenús (icono, nombre) se guardan en ~/. local/ share/ desktop-directories/. La herramienta de administración KIOSK utiliza & kmenuedit; y copia los cambios anteriores en las ubicaciones del perfil o del sistema completo.
El panel de & kde;
El panel de & kde; también conocido como & kicker;. Es modular y está formado por los siguientes componentes:
Applets.
Botones de las aplicaciones.
Botones especiales.
De manera predeterminada, el panel contiene los siguientes applets: El paginador - muestra los escritorios virtuales. Barra de tareas. Bandeja del sistema. Reloj. y los siguientes botones especiales:
El menú & kde;.
Botón del escritorio.
También se han añadido varios botones de aplicaciones:
Botón del directorio personal.
Botón del navegador.
Botón de KMail.
Asociaciones de archivos
Las asociaciones de archivos asocian un tipo de archivo con una aplicación o aplicaciones. El tipo de archivo viene determinado por su tipo & MIME;. Los tipos & MIME; conocidos por & kde; se almacenan en $KDEDIR / share/ mimelnk y los archivos. desktop de las aplicaciones contienen una lista de los tipos & MIME; soportados por todas las aplicaciones.
kview. desktop:
MimeType=image/ gif; image/ x-xpm; image/ x-xbm; image/ jpeg; image/ x-bmp; image/ png; image/ x-ico; image/ x-portable-bitmap; image/ x-portable-pixmap; image/ x-portable-greymap; image/ tiff; image/ jp2
kuickshow. desktop:
MimeType=image/ gif; image/ x-xpm; image/ x-xbm; image/ jpeg; image/ png; image/ tiff; image/ x-bmp; image/ x-psd; image/ x-eim; image/ x-portable-bitmap; image/ x-portable-pixmap; image/ x-portable-greymap
Ambos pueden abrir image/ gif, entonces ¿cuál se utilizará para abrir un archivo. gif?
¡La aplicación con la prioridad más alta! kview. desktop contiene InitialPreference=3 donde kuickshow. desktop contiene InitialPreference=6 Por tanto, & kuickshow; se utilizará para abrir los archivos. gif.
¿Cómo se puede conseguir que se utilice & kview; de forma predeterminada?
Un usuario puede cambiar la asociación de archivos en el & kcontrolcenter;. Estos cambios se guardan en $HOME /. kde/ share/ config/ profilerc. Para utilizar la misma configuración para varios usuarios, guarde está configuración en el directorio del perfil de usuario o en el directorio de configuración global de & kde; si lo quiere utilizar de forma predeterminada para varios usuarios.
Bloqueos de seguridad en & kde;
Cómo funciona - Lo básico
& kde; incorpora funcionalidades de bloqueos de seguridad que se centran en las siguientes opciones:
Hacer que no se puedan modificar las opciones de configuración.
Restricciones a acciones específicas.
Restricciones al acceso a determinadas & URL; s.
Restricciones de acceso a ciertos módulos de configuración.
Hacer que no se puedan modificar las opciones de configuración
Bloqueos de seguridad en & kde;
El hacer que no se puedan modificar ciertas opciones permite al administrador proporcionar una configuración predeterminada que no pueda ser cambiada por el usuario.
Las opciones de configuración del usuario preexistentes se ignorarán una vez que esta opción se haya hecho no modificable.
Las opciones se pueden controlar por cada entrada base, por grupos o para todo el archivo a partir del archivo base.
Si un archivo o grupo no es modificable, todas las opciones de configuración para este archivo o grupo permanecen sin posibilidad de modificación, incluso aunque el administrador del sistema no haya proporcionado una opción predeterminada.
El soporte para que las opciones no se puedan modificar pueden variar de unas aplicaciones a otras. Aunque el usuario no sea capaz de hacer permanentes los cambios debido a la no posibilidad de efectuar modificaciones, se le presentará una opción en la interfaz para permitir el cambio.
Restricción de acciones
Las aplicaciones de & kde; están construídas bajo el concepto de la acción. Las acciones se pueden activar de varias formas, habitualmente a través de la barra de menú, de una barra de herramientas o de un acceso rápido de teclado. Guardar documento es un ejemplo de una acción. Si conoce el nombre interno de la acción es posible restringirla. Cuando una acción está restringida no aparecerá en la barra de menús o en la barra de herramientas. El nombre interno para la acción Guardar documento es action/ file_save. La infraestructura del bloqueo de seguridad también proporciona un conjunto de restricciones más abstractas que se pueden utilizar para desactivar la funcionalidad no cubierta por una acción simple. Un ejemplo es la restricción shell_access que desactiva todas las funcionalidades que ofrece al usuario el acceso al intérprete de orden & UNIX;.
Restricción a los usuario del acceso al intérprete de órdenes
Para evitar que un usuario pueda acceder al intérprete de órdenes podemos restringir la acción shell_access añadiendo lo siguiente a kdeglobals:
[KDE Action Restrictions] shell_access=false
Puesto que esto afecta al menú & kde; y a las aplicaciones disponibles, debemos forzar la actualización de la base de datos de sycoca:
touch $KDEDIR / share/ services/ update_ksycoca
Ahora reinicie la sesión de & kde; y verifique los siguientes puntos:
El & kmenu;.
En & konqueror;, Herramientas Abrir terminal.
La ejecución de órdenes Alt; F2.
La documentación completa sobre las acciones disponibles se puede encontrar en http: / /www. kde. org/ areas/ sysadmin/.
Algunas de las acciones más interesantes son las siguientes:
action/ options_configure
La opción Configurar del menú Preferencias.
action/ help_report_bug
La opción Informar de fallo del menú Ayuda.
action/ kdesktop_rmb
Menú del & RMB; en el escritorio.
action/ kicker_rmb
Menú del & RMB; en el panel.
user/ root
Oculta todas las acciones o aplicaciones que necesitan acceso de root.
shell_access
Oculta todas las acciones o aplicaciones que proporcionan acceso al intérprete de órdenes.
print/ system
Desactiva la opción para seleccionar el sistema de impresión (motor).
lock_screen
Indica si el usuario puede bloquear la pantalla.
start_new_session
Indica si el usuario puede iniciar una segunda sesión de las X (véa también & kdm;).
opengl_screensavers
Indica si están permitidos los salvapantallas OpenGL para el usuario.
manipulatescreen_screensavers
Permite a los salvapantallas no ocultar la pantalla completa.
Restricciones a las & URL;
Existen tres tipos de restricciones que se pueden aplicar a las & URL;:
list
Para controlar si está permitido el listado de un directorio.
open
Para controlar si se pueden abrir ciertas & URL; s.
redirect
Para controlar si una & URL; puede abrir otra & URL;, ya sea automáticamente o a través de hiperenlaces.
Las reglas se verifican en el orden en que se han definido. La última regla indica si una & URL; puede ser accesible a través de otra & URL; definida.
Las siguientes reglas desactivan la apertura de & URL; s http y https externas a. nuestraempresa. com:
[KDE URL Restrictions] rule_count=2 rule_1=open,,, ,http,,, false rule_2=open,,, ,http, *. nuestraempresa. com, ,true
Las primeras cuatro comas saltan a la selección sobre la que se van a establecer los criterios que originan la & URL;. Esta parte solo se necesita con las reglas de tipo redirect.
rule_1 prohibe la apertura de cualquier & URL; http o https.
rule_2 permite la apertura de cualquier & URL; http y https en el dominio. nuestraempresa. com. Tenga en cuenta que el comodín * solo está permitido al comienzo de un dominio.
Las siguientes reglas hacen que un usuario no pueda navegar por los directorios del sistema de archivos local que estén fuera de su directorio $HOME:
[KDE URL Restrictions] rule_count=2 rule_1=list,,, ,file,,, false rule_2=list,,, ,file, ,$HOME, true
rule_1 prohibe listar cualquier directorio local.
rule_2 permite listar los directorios que están bajo su directorio $HOME.
$HOME y $TMP son valores especiales que indican los directorios personales de los usuarios y el directorio temporal de & kde; para los usuarios, & eg; / tmp/ kde-bastian.
Las siguientes reglas hacen que un usuario no pueda abrir archivos locales que estén fuera de su directorio $HOME:
[KDE URL Restrictions] rule_count=3 rule_1=open,,, ,file,,, false rule_2=open,,, ,file, ,$HOME, true rule_3=open,,, ,file, ,$TMP, true
rule_1 prohibe la apertura de cualquier archivo local.
rule_2 permite la apertura de archivos que estén bajo su directorio de usuario $HOME.
rule_3 permite abrir archivos en el directorio temporal de & kde; del usuario. Esto es necesario para ciertas aplicaciones de & kde; que primero descargan el archivo o documento en un directorio temporal y a continuación lo abren en la aplicación.
La opción de redirección controla si los documentos de ciertos lugares pueden referenciar, ya sea de forma automática o manual a través de hiperenlaces, a algunas otras direcciones. Existe un conjunto de reglas de este tipo de forma predeterminada como medida general de seguridad. Por ejemplo, los documentos situados en internet no pueden hacer referencia a documentos guardados localmente.
Por ejemplo, si queremos dar al servidor intranet www. miempresa. com la posibilidad de referenciar archivos locales deberemos añadir la siguiente regla:
[KDE URL Restrictions] rule_count=1 rule_1=redirect, http, www. miempresa. com, ,file,,, true
Es posible utilizar una lista de nombres de protocolos, y también especificar un grupo entero de ellos. Para ello se han definido los siguientes grupos:
: local
Protocolos que acceden de forma local a la información guardada, como por ejemplo file: /, man: /, fonts: /, floppy: /.
: internet
Protocolos comunes a internet como http y ftp.
La información sobre estos protocolos se almacena en archivos *. protocol que se encuentran en $KDEDIR / share/ services.
La entrada Class = define el grupo del que forma parte el protocolo: grep Class= $KDEDIR / share/ services/ *. protocol
Reglas generales:
Los protocolos: local pueden hacer referencia a cualquier otro protocolo.
Siempre se permite hacer referencia a un protocolo: internet.
No todos los protocolos forman parte de un grupo, fish: / por ejemplo.
Módulos de configuración
& kde; tiene módulos de configuración para configurar varios aspectos del entorno & kde;. Los módulos de configuración aparecen en el centro de control, en el diálogo de configuración de la aplicación o en ambos.
El módulo de configuración del proxy se encuentra en el centro de control pero también forma parte del diálogo Configurar Konqueror en & konqueror;.
Los módulos de configuración individual se pueden iniciar con kcmshell4 módulo.
Para iniciar el módulo proxy utilice:
kcmshell4 kde-proxy. desktop
kcmshell4 proxy
No todas las aplicaciones utilizan módulos de configuración, y el diálogo de configuración forma parte integral de la propia aplicación.
Todos los módulos de configuración hablando estrictamente son parte del menú de & kde;.
Los módulos que son visibles en el centro de control normalmente tienen un archivo. desktop en $KDEDIR / share/ applications/ kde y están ordenados en el menú oculto Settings-Modules en kde-settings. menu, incluído en kde-essencial. menu.
kbuildsycoca4 --menutest 2gt; / dev/ null | grep Settings-Modules
Los módulos específicos de las aplicaciones suelen tener un archivo. desktop en $KDEDIR / share/ applnk/. hidden que corresponden al menú oculto. hidden, incluído como resultado de lt; KDELegacyDirs/ gt;.
kbuildsycoca4 --menutest 2gt; / dev/ null | grep. hidden
En & kde; 3.3 es posible editar el centro de control con kcontroledit. kcontroledit funciona de forma similar a kmenuedit, haciendo los cambios únicamente para un usuario. Utilice kiosktool para hacer los cambios para todos.
Los módulos de configuración individual pueden ser desactivados añadiendo lo siguiente a kdeglobals:
[KDE Control Module Restrictions] id-módulo =false
Por ejemplo, para desactivar el módulo proxy utilice:
[KDE Control Module Restrictions] kde-proxy. desktop=false
Marque el centro de control y el diálogo Configurar Konqueror si la configuración del proxy está ahí.
La administración rápida
Compartir el escritorio remoto
Compartir el escritorio remoto permite a los usuarios ver y opcionalmente controlar el escritorio del usuario actual. El usuario remoto necesitará enviar una invitación, y si es posible crear una contraseña para protegerla. Es ideal para los equipos de soporte técnico o para los administradores que necesiten tener acceso a los escritorios de los usuarios con el fin de resolver un problema o guiar al usuario a través de un procedimiento.
Compartir el escritorio remoto implica a dos aplicaciones: & krfb; (búfer de marco remoto de & kde;, un servidor VNC) y & krdc; (conexión a escritorio remoto de & kde;, un cliente VNC).
& krfb; puede ser utilizado por cualquier usuario para crear y gestionar invitaciones. Las invitaciones permitirán al destinatario, utilizando la contraseña, conectarse a su escritorio. De forma predeterminada son válidas para una única conexión, y expiran después de una hora sino se utilizan.
Las conexiones entrantes se manejan por el módulo kinetd kded. Puede utilizar la orden dcop kded kinetd services para ver si está en ejecución. & krfb; de forma predeterminada espera las conexiones en el puerto 5900. Cuando se hace una conexión entrante, aparece un diálogo para pedir confirmación al usuario.
kde; DIY - Construir sus propias herramientas
DCOP
El protocolo de comunicación de escritorio -Desktop COmmunication Protocol-, DCOP, es un mecanismo ligero para la comunicación entre procesos. DCOP permite utilizar la interacción entre programas que se estén ejecutando. & kde; proporciona dos programas para utilizar DCOP: dcop, un programa de línea de órdenes, y kdcop, un programa con una interfaz gráfica.
Algunas notas sobre el uso de dcop:
dcop [opciones] [aplicación [objeto [función [arg1] [arg2]...]]]
Estas aplicaciones pueden abrir más de una ventana a la vez que se listarán como & lt; aplicacióngt; - PID
Todos los argumentos son sensibles a mayúsculas y minúsculas. setFullScreen y setfullscreen son dos funciones diferentes.
La marca de expresión regular * se puede utilizar en la aplicación y en los argumentos objeto.
percnt; dcop kon* konqueror-16006 konsole-8954
Algunos ejemplos de órdenes y sus correspondientes salidas son las siguientes:
percnt; dcop konsole* konsole-8954
& konsole; ejecutándose con el PID 8954.
percnt; dcop konsole-8954 KBookmarkManager-... / share/ apps/ kfile/ bookmarks. xml KBookmarkManager-... / share/ apps/ konqueror/ bookmarks. xml KBookmarkNotifier KDebug MainApplication-Interface konsole (default) konsole-mainwindow#1 ksycoca session-1 session-2 session-3 session-4
Aquí puede ver que existen cuatro sesiones ejecutándose.
percnt; dcop konsole-8954 konsole QCStringList interfaces() QCStringList functions() int sessionCount() QString currentSession() QString newSession() QString newSession(QString type) QString sessionId(int position) void activateSession(QString sessionId) void nextSession() void prevSession() void moveSessionLeft() void moveSessionRight() bool fullScreen() void setFullScreen(bool on) ASYNC reparseConfiguration()
Aquí están las opciones para el programa principal & konsole;.
percnt; dcop konsole-8954 session-1 QCStringList interfaces() QCStringList functions() bool closeSession() bool sendSignal(int signal) void clearHistory() void renameSession(QString name) QString sessionName() int sessionPID() QString schema() void setSchema(QString schema) QString encoding() void setEncoding(QString encoding) QString keytab() void setKeytab(QString keyboard) QSize size() void setSize(QSize size)
Estas son las opciones para la primera sesión, session-1.
percnt; dcop konsole-8954 konsole setFullScreen true
Esto establece que & konsole; se muestre a pantalla completa.
Cuando se utiliza más de una aplicación/ objeto ¿Cuál debería utilizar? ¿Hacemos una referencia?
percnt; echo $KONSOLE_DCOP DCOPRef(konsole-7547, konsole) percnt; dcop $KONSOLE_DCOP newSession session-6 percnt; dcopstart konsole konsole-9058 #! /bin/ sh konsole=$(dcopstart konsole-script) session=$(dcop $konsole konsole currentSession) dcop $konsole $session renameSession Local session=$(dcop $konsole konsole newSession) dcop $konsole $session renameSession Remote session=$(dcop $konsole konsole newSession) dcop $konsole $session renameSession Code dcop $konsole $session sendSession 'cd / my/ work/ directory '
KDialog
kde; DIY - Crear sus propias herramientas
Puede utilizar los diálogos de & kde; desde sus propios scripts, para combinar el poder de los scripts en el intérprete de órdenes de & UNIX; con la facilidad de uso de & kde;.
kdialog --msgbox '¡Tiene nuevo correo! '
kdialog --title 'Nuevo correo '--msgbox '¡Tiene nuevo correo!'
La parte KDialog del título se puede cambiar utilizando la opción --caption.
kdialog --title 'Nuevo correo '--msgbox '¡Tiene nuevo correo!' --dontagain myfile: mykey
Guarda si se mostrará de nuevo o no en $KDEHOME / share/ config/ myfile - escribiendo en este archivo las siguientes líneas:
[Notification Messages] mykey=false
En lugar de --msgbox puede también utilizar --sorry y --error, de la forma apropiada. Por ejemplo, puede utilizar kdialog --sorry 'No se ha podido alcanzar la red 'o kdialog --error 'No se puede abrir el buzón de correo'.
También es posible crear cuadros de mensaje que acepten si o no como respuesta.
kdialog --yesno '¿Desea conectarse a Internet? 'echo $?
Valor devuelto
Significado
0
Si, Aceptar, Continuar
1
No
2
Cancelar
Asegúrese de almacenar el resultado en una variable sino lo va a utilizar directamente, la siguiente orden rellenará $? con un valor nuevo. Puede utilizar aquí la opción --dontagain de tal forma que recordará la elección y la devolverá las siguientes veces sin volver a mostrar el diálogo.
Algunas variaciones son:
--warningyesno
similar a --yesno pero con un icono diferente.
--warningcontinuecancel
Con los botones Continuar y Cancelar.
--warningyesnocancel
Con los botones Si, No y Cancelar. Por ejemplo:
kdialog --warningyesnocancel '¿Desea guardar los cambios? '
kdialog --inputbox "Introduzca su nombre:" "SuNombre"
El resultado se imprime en la salida estándar, para asignarlo a una variable puede utilizar name=$(kdialog --inputbox "Introduzca su nombre:" "SuNombre"). El último argumento es opcional, y se utiliza para rellenar el diálogo previamente.
clave =$( kdialog --password "Introduzca su contraseña:")
La opción --dontagain no funciona con --inputbox o con --password
Hay dos diálogos que le permiten al usuario hacer la elección en una lista:
--menu
Permite al usuario seleccionar un solo elemento de una lista.
--checklist
Permite al usuario elegir más de un elemento de una lista.
city =$( kdialog --menu "Seleccione una ciudad" a Londres b Madrid c París d Berlín)
$city será a, b, c o d.
city =$( kdialog --checklist "Select cities" a Londres off b Madrid on c París on d Berlín off)
Madrid y París están preseleccionadas. El resultado con Madrid y París seleccionadas será "b" "c".
Si añade la opción --separate-output, colocará b y c cada una en una línea, haciendo el resultado más fácil de procesar.
file=$(kdialog --getopenfilename $HOME) file=$(kdialog --getopenfilename $HOME "*. png *. jpg|Image Files") file=$(kdialog --getsavefilename $HOME/ SaveMe. png) file=$(kdialog --getexistingdirectory $HOME)
& groupware-with-kontact;
# language_name_wals:	Spanish
# language_name_glotto:	Spanish
# ISO_6393:	spa
# year_composed:	NA
# year_published:	NA
# mode:	written
# genre_broad:	technical
# genre_narrow:	NA
# writing_system:	Latn
# special_characters:	NA
# short_description:	KDE4
# source:	https://object.pouta.csc.fi/OPUS-KDE4/v2/raw/es.zip
# copyright_short:	http://opus.nlpl.eu/KDE4.php
# copyright_long:	http://opus.nlpl.eu/KDE4.php J. Tiedemann, 2012, Parallel Data, Tools and Interfaces in OPUS. In Proceedings of the 8th International Conference on Language Resources and Evaluation (LREC 2012)
# sample_type:	whole
# comments:	NA

El manual de & ktts;
Jeremy Whiting jpwhiting@kde. org
Gary R. Cramblitt garycramblitt@comcast. net
Santiago Fernández Sancho santi@kde-es. org Traductor Franco Mariluis fmariluis@gmail. com Traductor Adrián Martínez sfxgt3@gmail. com Traductor
Jeremy Whiting
Gary R. Cramblitt
& ktts; - el sistema texto a voz de & kde; - es un servicio basado en extensiones que permite a cualquier aplicación & kde; (o no & kde;) hablar utilizando la interfaz & DBus;.
& ktts; pretende ser una implementación para el API texto a voz de & kde;.
KDE
accesibilidad
kdeaccessibility
TTS
Texto a voz
KTTSD
kttsmgr
festival
flite
hadifix
MBROLA
freetts
epos
SSML
Introducción
& ktts; es un subsistema dentro de & kde; para convertir texto a voz (Texto-To-Speech en inglés, o TTS). Proporciona un API común para los programadores de & kde; con el objetivo de dotar a sus aplicaciones de capacidades TTS. Proporciona algunas capacidades interesantes para los usuarios finales.
Funcionalidades para los usuarios:
Lee el contenido de un archivo de texto.
Comunicación hablada de las notificaciones de & kde; (KNotify).
Lee todo o parte del texto de una página web en & konqueror;.
Lee todo o parte del texto en el editor de texto & kate;, incluyendo aquellas instancias en las que & kate; esté integrado en otra aplicación & kde;.
El discurso se dice vía speech-dispatcher, por lo que se puede utilizar cualquier
Filtros configurables por el usuario para sustituir las palabras que no se pueden leer, seleccionando el sintetizador de voz y transformando los documentos XHTML/ XML;.
Funcionalidades para los programadores:
Sistema de prioridades para la lectura de salidas por pantallas, avisos y mensajes, mientras que se están reproduciendo textos ordinarios.
Permite la generación de voz en la línea de órdenes (o vía shell scripts) utilizando la utilidad & qdbus;.
Proporciona una interfaz ligera y fácil de usar para las aplicaciones que necesiten generar salidas de voz.
Las aplicaciones no necesitan saber cómo funciona el dispositivo de voz.
FUTURO: Proporcionar soporte para leer lenguajes de marcas, tales como VoiceXML;, Sable, & Java; Speech Markup Languaje (JSML), y Speech Markup Meta-language (SMML).
FUTURO: Proporcionar soporte limitado para marcas de voz integradas.
Asincronismo para impedir bloqueos del sistema.
& ktts; en estos momentos está compuesto por varios programas:
kttsd
el demonio de & kde; de texto a voz, el cuál no es una aplicación & GUI; que proporciona servicios TTS a las aplicaciones vía & DBus;.
kttsmgr
una aplicación & GUI; para configurar y controlar kttsd. kttsmgr se coloca en la bandeja del sistema.
libkhtmlkttsdplugin
Una extensión para el navegador web & konqueror; que permitirá escuchar todo o una parte del texto de una página web.
ktexteditor_kttsd
Una extensión para el editor de texto & kate; que le permirá escuchar todo o una parte de un archivo de texto.
Soporte
Además de la base de datos del Bugzilla de & kde; (http: / /bugs. kde. org/), es posible seguir las las discusiones actuales sobre & ktts; a través de la lista de correo de kde-accessibility. Suscríbase a https: / /mail. kde. org/ mailman/ listinfo/ kde-accesibility. Los desarrolladores también puede utilizar el IRC (irc. kde. org, canal #kde-accessibility).
Utilizar & ktts;
Antes de que pueda utilizar & ktts; deberá instalar speech-dispatcher y asegurarse de que funciona. Véa.
Iniciar kttsmgr
Para iniciar el sistema & ktts;, teclee la siguiente orden en una & konsole;.
kttsmgr
o pulse sobre kttsmgr en el menú & kde;.
Si es la primera vez que ejecuta kttsmgr, o si no ha configurado todavía ningún lector, aparecerá la ventana Lectores. Véa. Si ya ha configurado, al menos un lector, aparecerá la ventana General. Véa.
Configurando los filtros
La mayor parte de los sintetizadores de texto a voz (TTS) ofrecen múltiples idiomas y voces y pueden ofrecer múltiples géneros, volúmenes y tonos. Podrá configurar más de una instancia del sintetizador. Cada combinación de idioma, sintetizador, voz, género, volumen, y tono es lo que se llama un lector. Debería configurar al menos un lector antes de usar & ktts;, de otra forma speech-dispatcher utilizará la voz por defecto.
Tener múltiples lectores para el mismo sintetizador es equivalente a tener múltiples colas de impresión para la misma impresora física.
Cuando pulse sobre la pestaña Lectores en kttsmgr, aparecerá la ventana Lectores. Esta ventana también aparecerá automáticamente si inicia kttsmgr y todavía no ha configurado ningún lector.
El administrador texto a voz de & kde; (pestaña Lectores).
El administrador texto a voz de & kde; (pestaña Lectores)
Pulse para añadir un nuevo lector.
Aquí aparecerán listados todos los lectores. Los lectores con prioridad más alta se encuentran al principio. El que esté arriba del todo será el utilizado para la lectura en el caso de que una aplicación no especifique lector.
Pulse sobre un lector de la lista para marcarlo y a continuación pulse sobre este botón para eliminarlo.
Pulse sobre el lector en la lista para marcarlo y a continuación pulse sobre este botón para cambiar su configuración. Véa a continuación.
Pulse sobre el lector para marcarlo y a continuación pulse sobre este botón para moverlo un lugar hacia abajo en la lista. Mientras más abajo esté el lector en la lista, menor será su prioridad.
Pulse sobre este botón para aplicar los cambios efectuados en el sistema & ktts; que se esté ejecutando.
Cuando pulse el botón Añadir, aparecerá la ventana Añadir lector.
Ventana de Añadir lector.
Ventana de Añadir lector
Usted debería darle un nombre al nuevo lector, puede ser cualquier cosa.
Elija el idioma y el sintetizador aquí.
Elija el tipo de voz aquí, allí hay voces de tres hombres, tres mujeres, un chico y una chica para elegir.
Establecer cualquier parámetros personalizados de voz aquí.
Cuando pulse aquí, su nuevo lector aparecerá en la lista en la ventana Lectores. Haga clic en el botón Editar para editar la configuración del lector.
Usted está casi preparado para comenzar a utilizar & ktts;. Ahora vuelva a la pestaña General y marque la casilla Activar el sistema texto a voz (KTTSD). Esto iniciará el demonio TTS de & kde;. Véa. Ahora puede comenzar a utilizar & ktts; para hablar texto. Haga clic sobre la pestaña Trabajos para crear y administrar trabajos de textos. Véa.
Iniciando KTTSD y configurando las opciones generales
Una vez que haya configurado, al menos un lector, puede iniciar el sistema texto a voz de & kde;. Pulse en la pestaña General. Aparecerá la pestaña General. Podrá modificar algunas opciones generales en esta pantalla.
El administrador texto a voz de & kde; (pestaña General).
El administrador texto a voz de & kde; (pestaña General)
Marque esta casilla para activar el sistema & ktts;. Esto inicia el demonio TTS de & kde; (KTTSD). Si KTTSD se inicia correctamente, aparecerá la pestaña Trabajos. Una vez arrancado KTTSD, puede comenzar a crear y leer textos. Véa. Desmarcar esta casilla parará KTTSD y desactivará el sistema TTS de & kde;.
Cuando se marque esta casilla, aparecerá un icono en la bandeja del sistema siempre que kttsmgr se esté ejecutando. En este modo, pulsando Aceptar o Cancelar no se saldrá de kttsmgr. Todo lo contrario, la pantalla desaparecerá pero kttsmgr seguirá ejecutándose desde la bandeja del sistema. Pulse sobre el icono para restablecer la pantalla. Para salir de kttsmgr, pulse con el botón derecho en el icono de la bandeja del sistema y seleccione Salir. En caso de que esté desmarcado no aparecerá ningún icono en la bandeja del sistema. Pulsando Aceptar o Cancelar se saldrá de kttsmgr.
Al salir de kttsmgr, & ktts; permanece ejecutándose si la casilla Activar sistema texto a voz está marcada.
Esta opción no tiene efecto hasta la siguiente vez que se inicie kttsmgr.
Esta opción no tendrá efectos mientras se esté ejecutando kttsmgr en el & kcontrol;.
Cuando esta casilla está marcada, y kttsmgr aparezca automáticamente en la bandeja del sistema al leer, deseparecerá automáticamente cuando la lectura haya finalizado.
Asegúrese de pulsar aquí para guardar su configuración.
Administrar trabajos de texto
Cuando pulse la pestaña Trabajos en kttsmgr, aparecerá la pantalla Trabajos.
El administrador texto a voz de & kde; (pestaña Trabajos).
El administrador texto a voz de & kde; (pestaña Trabajos)
Los controles de aquí, le permiten cambiar atributos de la voz actualmente en uso.
Los botones en esta fila le permitirán parar, cancelar, pausar y continuar el trabajo de texto actual.
Los botones de esta fila le permitirán escuchar el texto que se encuentren en ese momento en el portapapeles de & kde;, o abrir un archivo de texto para leerlo. También puede cambiar el lector por un trabajo.
Cuando haga clic en OK o en Aplicar todos los cambios producidos sobre las preferencias en otras pantallas se aplicarán (si hay alguno).
La pestaña Trabajos únicamente aparecerá cuando KTTSD se esté ejecutando. Si no ve la pestaña Trabajos, pinche en la pestaña General y marque la casilla Activar texto a voz (KTTSD).
Leer texto de las páginas web
Mientras se esté ejecutando el navegador web de & kde; & konqueror;, podrá leer el texto que se muestre en la página web. En primer lugar debe asegurarse de que & ktts; se esté ejecutando. Resalte el texto que desee que sea leído y seleccione Herramientas Leer texto en el menú principal. Después de un instante se leerá el texto resaltado.
Es una buena idea resaltar en la página web el texto que desea escuchar. Puede saltarse este paso, pero entonces escuchará muchas de las cabeceras & HTML; así como otras etiquetas invisibles.
Leer texto en el editor de texto & kate;
Mientras se esté ejecutando el editor de texto avanzado de & kde; (kate;), podrá leer el texto que se muestre. En primer lugar debe asegurarse que & ktts; se esté ejecutando. Resalte el texto que desee que sea leído y seleccione Herramientas Leer texto en el menú principal. Después de un instante se leerá el texto resaltado.
No es necesario que resalte ningún texto, pero en este caso se leerá el archivo completo.
Esto también funcionará cuando & kate; esté integrado en otra aplicación, como & konqueror; o & quanta;.
Leer notificaciones (KNotify)
KNotify es el subsistema de notificación de & kde;, que le alerta de los eventos con los que se haya configurado el sistema & kde;. Puede configurar & ktts; para leer los textos de estas notificaciones.
Por ejemplo, & konversation;, una aplicación IRC de & kde;, permite configurar una amplia variedad de notificaciones. Puede pedir a & konversation; que le avise cuando un mensaje que incluya su apodo aparezca en un canal de IRC. Junto con & ktts; puede hacer que & kde; léa el texto del mensaje del IRC que se dirija a usted.
En general, si una aplicación & kde; soporta KNotify, tendrá un elemento de menú llamado Notificaciones dentro del menú Preferencias de la aplicación. Las configuraciones específicas de cada aplicación con KNotify varían de una aplicación a otra.
Los filtros que reemplazan cadenas son una buena forma de aclarar los mensajes que envían las aplicaciones ya sean impronunciables o ilegibles en & ktts;. El archivo kmail. xml, que se incorpora en & ktts;, es un buen ejemplo. Elimina las etiquetas br y b de los mensajes de las notificaciones de & kmail; y también elimina la frase / local/ inbox/, ya que se asume que ésto es correcto en la mayoría de los casos. Véa.
Filtros (Avanzados)
Los filtros son características avanzadas de & ktts;. Para las operaciones básicas de & ktts; no son necesarios.
Los filtros se utilizan para preprocesar el texto antes de que éste sea enviado a speech-dispatcher. Son muy útiles para mejorar la voz, sustituyendo palabras mal expresadas o abreviaturas, elegiendo el lenguaje apropiado y el lector para realizar la lectura, o trabajar con ciertas limitaciones de los sintetizadores de voz y sus voces.
Tipos de mensajes de & ktts;
Para entender cómo usar los filtros, es preciso en primer lugar entender cómo se procesa el texto por parte de speech-dispatcher. El texto leído por & ktts; es de cuatro tipos posibles.
Lectura de las salidas de la pantalla.
Avisos.
Mensajes.
Trabajos de texto.
El tipo se determina por la aplicación que envía el texto a & ktts;.
La lectura de las salidas de la pantalla tienen la máxima prioridad. Están reservadas para la utilización por parte de aplicaciones que leen la pantalla. La lectura de las salidas de la pantalla detendrá todos los demás mensajes. Una vez que la lectura de la salida de la pantalla ha finalizado, se continuará con los trabajos que se estaba leyendo.
Los avisos son los siguientes en cuanto a prioridad. Están reservados para mensajes de alta prioridad, tales como « La CPU está sobrecalentada ». Un aviso detendrá tanto los mensajes como el texto normal. Una vez que se haya leído el aviso, se continuará con los trabajos que se estaba leyendo.
Los mensajes tienen el siguiente nivel de prioridad. Un mensaje parará los trabajos de texto normal. & kmouth; es un ejemplo de una aplicación que utiliza mensajes. Por ejemplo, mientras se está leyendo un texto largo en una página web, & kmouth; puede ser utilizado para saludar a alguien que camina por la habitación. Las notificaciones de & kde; también son mensajes (véa).
El resto son trabajos de texto ordinarios. Cualquier trabajo que inicie desde la pestaña Trabajos es un trabajo de texto. KSayit es un ejemplo de una aplicación que utiliza los trabajos de texto. Los trabajos de texto están pensados para largas lecturas que no sean urgentes.
Todos los tipos de trabajo se encolan, excepto la lectura de las salidas de la pantalla. Si se envía una lectura de la salida de la pantalla desde una aplicación mientras & ktts; está ocupado con otra lectura de salida de la pantalla, el mensaje que se está leyendo se para y se descarta.
Tipos de filtros
Lo primero que debería conocer sobre los filtros es que nunca se aplican a las lecturas de las salidas de pantalla. Se aplican a los avisos, mensajes, y trabajos de texto, y también a las notificaciones de & kde; (KNotify).
Los filtros procesan el texto y lo pasan al siguiente filtro. En estos momentos existen tres tipos de filtros.
Filtros que reemplazan cadenas.
Filtros que transforman & XML;
Filtros que seleccionan el lector.
Los filtros están implementados utilizando la arquitectura de extensiones. En el futuro, es posible que puedan existir más tipos de filtros.
Los filtros que reemplazan cadenas sustituyen partes del texto con otro texto. Los trozos de texto reemplazados pueden coincidir con palabras o con expresiones regulares. & ktts; tiene incorporados filtros predeterminados para reemplazar cadenas que permiten leer abreviaturas, leer emoticonos de los chat, como «: -) », o reformatear mensajes de notificación desde & konversation; o & kmail; a un formato más inteligible.
Los conversores de & XML; utilizan un Lenguaje de estilo & XML; - Utiliza un archivo (XSLT) para convertir & XML; de un formato a otro. & ktts; incluye un par de archivos XSLT para convertir & XHTML; en SSML.
El selector de lector le permite redirigir los trabajos hacia un lector determinado basado en el contenido del texto, o en la aplicación que lo envía a & ktts;. Por ejemplo, si ha configurado un lector con voz de mujer en la pestaña Lectores, puede dirigir el texto proveniente de KSayIt a dicho lector. Véa.
Cada uno de estos tipos de filtros tiene reglas configurables que indican cuándo han de ser aplicados al texto que se va a leer. Si el filtro determina que no debe aplicarse el texto será pasado al siguiente filtro sin ninguna alteración.
Cuando un trabajo de texto, mensaje, advertencia, o mensaje de notificación de & kde; es enviado a & ktts;, pasará por los filtros habilitados que haya configurado en la pantalla de debajo. El orden es de arriba hacia abajo.
Configurar los filtros
Para utilizar los filtros, pulse sobre la pestaña Filtros en kttsmgr.
El administrador texto a voz de & kde; (pestaña filtros).
El administrador texto a voz de & kde; (pestaña filtros)
Esta es la lista de los filtros normales que están configurados. Si está desmarcado, el filtro estará inactivo y no será tenido en cuenta. Los filtros se aplicarán en el orden que se haya especificado aquí, de arriba hacia abajo.
Pulse aquí para añadir un nuevo filtro. Se le preguntará el tipo de filtro que desea añadir. Después de elegir el tipo, véa cómo configurarlo en el apartado siguiente.
Pulse aquí para eliminar un filtro.
Pulse aquí para cambiar la configuración de un filtro. Véa cómo configurarlo en el apartado siguiente.
Pulse estos botones para mover un filtro hacia arriba o hacia abajo en la lista.
Asegúrese de pulsar aquí, ya que sino las configuraciones no tendrán efecto.
Configurar los filtros que reemplazan cadenas
Podrá configurar los filtros que reemplazan cadenas proporcionando una lista de palabras o expresiones regulares con las que deben coincidir. Cuando se encuentran estas palabras o expresiones regulares en el texto, cada una de ellas es reemplazada por una cadena sustituta que haya proporcionado.
Sustituidor de cadenas
Sustituidor de cadenas
Introduzca un nombre para su filtro. Utilice cualquier nombre que desee y que le diferencie de los otros filtros.
Esta es la lista de palabras y expresiones regulares. El filtro busca coincidencias con cada una de las cadenas de la columna Coincidir, reemplazando las cadenas coincidentes con las de la columna Reemplazar con. La lista se procesa en el mismo orden en que se muestra, de arriba hacia abajo.
Pulse aquí para añadir otra palabra o expresión regular a la lista.
Pulse aquí para mover hacia arriba o hacia abajo en la lista la palabra o expresión regular resaltada.
Pulse aquí para cambiar una palabra o expresión regular existente en la lista.
Pulse aquí para eliminar de la lista la palabra o expresión regular resaltada.
Utilice estos botones para cargar una lista de palabras o expresiones regulares de un archivo, guardar la lista actual a un archivo, o borrar la lista completa. Cuando se carga un archivo, los elementos existentes en el archivo se añaden a los existentes en la lista.
Sino está vacío, el filtro se aplicará únicamente si el idioma de los lectores del trabajo coinciden con el idioma que introduzca aquí. Pulse el botón para mostrar una lista de idiomas. Puede seleccionar más de un idioma, pulsando Ctrl; mientras hace clic.
Sino está vacío, se aplicará el filtro únicamente al texto proveniente de una de las aplicaciones listadas. Puede introducir más de una aplicación separándolas por comas. Ejemplo: konversation, kmail
Puede averiguar el ID de la aplicación de los programas en ejecución utilizando el programa qdbus;. No debería dejar fuera los números de & DBus;. Por ejemplo, si & qdbus; muestra un ID de aplicación como kopete-3432, sólo deberá introducir kopete.
El filtro de reemplazo de cadena únicamente se aplicará al texto si no hay ninguna condición vacía en el cuadro Aplicar este filtro cuando. Si todas las casillas están vacías, el filtro se aplicará a todo el texto.
Cuando coinciden las palabras, el filtro que reemplaza las cadenas utiliza internamente una expresión regular del tipo \\s palabra \\s. En otras palabras, la palabra debe tener límites (espacios) por ambos lados.
Una discusión sobre cómo escribir expresiones regulares está fuera del alcance de este manual. Si tiene instalado el editor de expresiones regulares de & kde;, existe un botón disponible en las pantallas Añadir o Editar que le ayudará a construir expresiones regulares. El editor de expresiones regulares de & kde; forma parte del paquete kdeutils.
& ktts; incluye unos cuantos archivos de listas de palabras, incluyendo una lista de emoticonos, como «: -) », algunas abreviaturas utilizadas habitualmente en el IRC o en aplicaciones de mensajería instantánea, y una lista de otras abreviaturas. También existe una lista de caracteres especiales que con la versión actual de Festival en polaco no se pueden manejar. Si desarrolla listas de palabras para sí mismo, utilice el botón Guardar para guardarlas en un archivo y enviarlas al equipo de & ktts; para su inclusión en la siguiente versión.
Configurando los filtros que transforman & XML;
Los filtros que transforman & XML; utilizan archivos XSLT para cambiar & XML; de un formato a otro. XSLT, el lenguaje de transformación de estilo & XML;, es un lenguaje estándar de la W3C para interpretar las transformaciones. Únicamente se pueden utilizar con el formato & XML; correctamente formado. Deberá tener la utilidad xsltproc instalada.
Transformador & XML;
Transformador & XML;
Introduzca la ruta completa de un archivo XSLT existente, que lleve a cabo la transformación.
Especifique la ruta de la utilidad xsltproc. Si xsltproc está en su variable de entorno PATH, únicamente introduzca xsltproc.
Si no está vacío, el filtro se aplicará únicamente si el & XML; tiene al comienzo del mismo la especificación lt; ![CDATA[lt; !DOCTYPE]] con la cadena introducida. Esto distingue una formato & XML; de otro. Por ejemplo, html en el cuadro DOCTYPE habrá de coincidir con lt; ![CDATA[lt; !DOCTYPE html PUBLIC "-/ /W3C/ /DTD XHTML 1.0 Strict/ /EN" "http: / /www. w3. org/ TR/ xhtml1/ DTD/ xhtml1-strict. dtd" > ]]gt;.
El filtro que transforma el & XML; únicamente se aplicará al texto si ninguna de las condiciones que se encuentran en el cuadro Aplicar este filtro cuando está vacía. Si están vacíos todos los cuadros se aplicará a todo el texto. Sin embargo, debería rellenar al menos un cuadro, ya que algunos trabajos de texto pueden no estar en formato & XML;.
Configurar los filtros que seleccionan el lector
Los filtros que seleccionan el lector se utilizan para dirigir el texto al lector configurado en la pestaña Lectores, o al lector que tenga atributos específicos. Por ejemplo, puede especificar que el texto que provenga de kmail sea leído utilizando un lector configurado con una voz de mujer. Véa.
Antes de que & ktts; comience a enviar texto a cualquiera de los filtros, elegirá un lector para leer el texto. El lector elegido se basa en los atributos específicados para el lector por parte de la aplicación que ha de enviar texto a & ktts; y por los atributos especificados por los lectores que se hayan configurado en la pestaña Lectores. El filtro que selecciona el lector permite modificar el lector escogido con los criterios anteriores.
Selector de lector
Selector de lector
Si no está vacío, el filtro se aplicará únicamente si el texto contiene la expresión regular introducida. Si está instalado, pulse el botón ver para iniciar el editor de expresiones regulares de & kde; para que le ayude a introducir la expresión regular.
Para mejorar la ejecución, intente « anclar » la expresión regular al inicio de la cadena. En otras palabras, inicie su expresión regular con lt; ![CDATA[^]]gt;.
Especifique los atributos de los lectores que prefiera para leer el texto aquí. Si el texto contiene condiciones sobre el filtrado, se elegirá el lector con los atributos lo más parecido posible a los que se hayan especificado. Haga clic sobre el botón de la derecha para mostrar la pantalla Seleccionar lector.
Utilice estos botones para guardar sus preferencias al seleccionar lector, cargar las preferencias guardadas en un archivo, o borrar todas las preferencias.
El filtro que selecciona el lector únicamente se aplicará al texto si no hay ninguna condición vacía dentro del cuadro Aplicar este filtro cuando. Debería al menos rellenar uno de los cuadros.
Referencia de órdenes
PENDIENTE
Guía para desarrolladores de & ktts;
& ktts; tiene dos interfaces para programadores de aplicaciones (APIs):
El API Texto a voz de & kde;, que es utilizado por los programadores de aplicaciones que pretenden dar a sus aplicaciones capacidades TTS. Estas aplicaciones se comunican con KTTSD vía & DCOP;.
El API de extensiones de KTTSD, que se utiliza para añadir extensiones de síntesis de voz a KTTSD, por tanto, & ktts; podrá trabajar con un nuevo motor de síntesis de voz.
La siguiente sección da una pequeña descripción de la interfaz de & DBus; texto a voz de & kde; para API. La documentación completa para ambas APIs está disponible en línea en el sitio web de & kde; Accessibility (http: / /accessibility. kde. org).
La interfaz & DBus; de & ktts;
Las aplicaciones comunican las peticiones de los servicios texto a voz a través de la interfaz & DBus; para & kde; para programar el objeto kttsd KSpeech.
Escriba las siguientes órdenes en una & konsole;.
Si KTTSD no se está ejecutando todavía:
kttsd
Para poner en la cola el trabajo de texto que se vaya a leer:
qdbus org. kde. kttsd / KSpeech say "texto" "opciones"
donde texto es el texto que va a ser reproducido, y opciones es un código de idioma, como en, cy, & etc;
Ejemplo.
qdbus org. kde. kttsd / KSpeech say "Esto es una prueba." "es"
Existen algunas órdenes más que se pueden enviar. Para ver una lista de las órdenes posibles:
qdbus org. kde. kttsd / KSpeech
o léa el API texto a voz de & kde; en línea.
Preguntas y respuestas
& reporting. bugs; & updating. documentation;
¿Cómo puedo hacer que & ktts; finalice del todo?
Introduzca las siguientes órdenes en & konsole;:
killall kttsd killall kttsmgr
¿Cómo puedo ver la salida de depuración de kttsd?
Abra dos ventanas de & konsole;. Primero inicie kttsd en una ventana, a continuación inicie kttsmgr en la segunda.
Ninguno de los sintetizadores de voz soporta el idioma que necesito. ¿Dónde puedo conseguir un sintetizador para mi idioma?
Google(tm) es su amigo. Este enlace también puede ayudarle. Si encuentra un motor de síntesis libre que soporte su idioma deseado, y quiere añadir soporte para él en & ktts;, por favor, contacte con el equipo de desarrollo. Los motores de código abierto son especialmente bienvenidos. Si conoce algún sintetizador comercial, quizá pueda persuadir al vendedor de regalar una copia libre al equipo de desarrollo de & ktts;. Por ahora, debería ser capaz de conseguir que funcione el sintetizador utilizando el comando speech-dispatchers.
Tengo configurado el filtro conversor & HTML; & XML;, pero las páginas web no se leen al utilizar la extensión Festival.
Debido a un fallo en Festival 1.95 beta, deberá instalar la voz rab_diphone (hombre británico) para que SABLE funcione, incluso aunque no esté utilizando esta voz para leer las páginas web. También deberá asegurarse de que la utilidad xsltproc esté instalada y su ruta esté incluida en la variable de entorno PATH.
Algunos caracteres de puntuación pueden producir errores en el sintetizador, haciendo que se salte frases completas, o que pronuncie un verdadero galimatías. ¿Qué puedo hacer?
En primer lugar, asegúrese de que la opción Codificación de caracteres en el diálogo de configuración del lector tenga seleccionado el idioma adecuado. Si algunas palabras o caracteres provocan problemas puede ayudarle un filtro que reemplace cadenas. Véa.
Créditos y Licencia
& ktts;
Derechos de autor del programa. & copy; 2002. Jos#233; Pablo Ezequiel « Pupeno » Fern#225; ndez pupeno@kde. org.
Mantenedor actual: Jeremy Whiting jpwhiting@kde. org
Contribuciones:
Gary Cramblitt garycramblitt@comcast. net
Olaf Schmidt ojschmidt@kde. org
Gunnar Schmi Dt gunnar@schmi-dt. de.
Paul Giannaros ceruleanblaze@gmail. com.
Derechos de autor de la documentación & copy; 2009 Jeremy Whiting jpwhiting@kde. org & copy; 2004 Gary R. Cramblitt garycramblitt@comcast. net
Santiago Fernández santi@kde-es. org Franco Mariluis fmariluis@gmail. com Adrián Martínez sfxgt3@gmail. com
& underFDL; & underGPL;
Los motores de síntesis de voz utilizados por & ktts; tienen sus propias licencias. Véa la documentación de cada motor o su sitio web para obtener más detalles. Algunas voces tienen sus propias licencias.
Instalación
Cómo obtener & ktts;
& install. intro. documentation;
Comando de instalación en Debian: apt-get install kdeaccessibility
Puede encontrar enlaces a los fuentes y a los paquetes binarios en el sitio web de Accesibility de & kde; (http: / /accessibility. kde. org).
Si tiene acceso al repositorio del código de & kde;, puede descargar & ktts; marcando el módulo kdeaccesibility. & ktts; se puede encontrar en la carpeta kttsd. También puede descargar un archivo comprimido con todo el código fuente de kdeaccessibility de ftp: / /ftp. kde. org/ pub/ kde/.
Requisitos
Requisitos obligatorios:
& kde; versión 4.4 or posterior.
speech-dispatcher versión 0.67 or posterior.
Un motor de síntesis de voz. Actualmente están soportados los siguientes motores e idiomas.
eSpeak
La mayoría de los lenguajes, compruebe http: / /espeak. sourceforge. net/ languages. html para la lista actual de lenguajes soportados list of supported languages
Festival
Inglés americano, británico, español, alemán, finés, checo, polaco, ruso, italiano, francés canadiense, kiswahili, zulú e ibibio
También funcionará con cualquier motor de síntesis que pueda ser ejecutado desde la línea de órdenes de & konsole;.
La anterior lista no es exhaustiva ni está actualizada. Verifique las especificaciones para cada motor con el fin de obtener una lista con los idiomas soportados. También podrá echar un vistazo al sitio web de ktts; para obtener información adicional que puede no haber sido incluída en este manual.
speech-dispatcher utiliza una arquitectura de extensiones flexible para motores de síntesis de voz. Si desea mejorar & ktts; para que soporte otro motor, contacte con el equipo de desarrollo.
Véa para obtener las instrucciones específicas de cada uno de estos motores.
Componentes opcionales:
La utilidad xsltproc se necesita para el soporte SSML y para el filtro que transforma el & XML;, pero no es imprescindible. Los usuarios de Debian pueden instalar xsltproc con la orden apt-get install xsltproc.
Compilación e instalación
Para compilar & ktts;, debe tener una copia reciente (kde; 4.4 o posterior) de los archivos de desarrollo de & kde;, incluyendo kdelibs y los archivos de desarrollo para speech-dispatcher.
Si descarga los fuentes de & ktts; del módulo kdeaccessibility del repositorio del código, o de un archivo comprimido, utilice las siguientes órdenes para compilar e instalar:
cd kdeaccessibility mkdir build cd build cmake.. / make sudo make install
Configuración
Asegúrese de que speech-dispatcher está trabajando con su motor de sintetizador de voz antes de usar & ktts;. El script de shell spd-conf puede utilizarse para esto.
& ktts; en & kde; 4.4 es un primer intento para portar & ktts; para usar speech-dispatcher. En el futuro, kttsmgr será capaz de configurar speech-dispatcher directamente sin spd-conf.
SSML
El texto largo se divide en frases. El usuario puede guardar una frase o un párrafo, repetir, parar y finalizar la reproducción.
La salida de audio puede hacerse a través de & arts;, ALSA, GStreamer (versión 0.8.7 o posterior) o aKode.
Arquitectura basada en extensiones para el soporte de una larga variedad de motores de síntesis de voz y controladores.
Configuración de las extensiones de síntesis (Lectores)
Cuando las aplicaciones envía texto a & ktts;, deben especificar los atributos importantes del lector para hacer la síntesis. Por ejemplo, una aplicación puede pedir un lector con voz de mujer para el idioma inglés. Si ha configurado un lector con el idioma inglés tanto para hombre como para mujer, se utilizará el elegido, sino se seleccionará el que más se le aproxime. Para aprender más sobre cómo & ktts; elige los lectores véa.
Puede elegir la extensión de síntesis de voz, bien por el nombre del sintetizador, o bien por el idioma que el sintetizador puede hablar. Marque el botón de radio que se encuentre al lado de la casilla correspondiente. Cuando esté marcado el botón de radio Idioma, se mostrarán el cuadro todos los idiomas, y el desplegable Sintetizador mostrará únicamente aquellos sintetizadores que soporte el idioma seleccionado. Cuando esté marcado el botón de radio Sintetizador se mostrarán todos los sintetizadores disponibles, y el cuadro Idioma únicamente mostrará los idiomas soportados por el sintetizador elegido.
Cuando pulse el botón Añadir en la pestaña Lectores para agregar un lector, o si pulsa el botón Editar, aparecerá la pantalla Configuración de lectores. Cada extensión de síntetis de voz tiene pantallas diferentes para la Configuración del lector. El siguiente es un ejemplo para configurar la extensión interactiva de festival. Para la configuración específica de cada tipo de extensión véa.
Configuración del lector
Configuración del lector
Especifique la ruta del ejecutable del programa Festival. Si Festival está en su variable de entorno PATH, solo necesitará introducir festival.
Pulse para buscar voces disponibles.
Seleccione una voz.
Seleccione una codificación para el texto que se vaya a enviar a Festival. Para las voces que sean conocidas por & ktts;, esta configuración se seleccionará automáticamente. En general, los idiomas del oeste utilizan ISO 8859-1, y los idiomas del este de Europa como el checo o el eslovaco utilizan ISO 8859-2.
Pulse para verificar. Debería escuchar una frase de verificación.
Utilice estos controles para seleccionar el volumen, velocidad del habla, y timbre (tono) del sintetizador de voz. Si alguno de estos estuviera desactivado (en gris), la voz seleccionada no soportará que se cambie ese parámetro.
Algunas voces, como las MultiSyn, son tan grandes que necesitan algunos segundos para ser cargadas. Marcar esta casilla hará que se carguen al iniciar KTTSD, de ese modo se reducirá el tiempo (a expensas de utilizar más memoria) que tarda en comenzar a leer.
Pulse el botón Aceptar para guardar las preferencias de configuración del lector.
Asegúrese de pulsar el botón Aplicar, de otra forma sus cambios no surtirán efecto en la ejecución del sistema & ktts;.
Si esta casilla está desactivada, querrá decir que no existirá ningún lector configurado (o que olvidó pulsar el botón Aplicar). Véa.
Cuando esta casilla esté marcada, aparecerá la pantalla de kttsmgr al iniciar kttsmgr. Si está desmarcado, aparecerá el icono de kttsmgr en la bandeja del sistema al iniciar kttsmgr, pero no aparecerá su ventana. Pulse el icono de la bandeja del sistema para hacer que aparezca esta ventana.
Cuando esta casilla esté marcada, y kttsmgr no se esté ejecutando todavía, aparecerá en la bandeja del sistema si KTTSD está leyendo. Esto le da la oportunidad de pararlo o de administrar la lectura.
Todos los trabajos de texto que estén en la cola se listan aquí, junto con la aplicación que encolo el trabajo, el estado actual del trabajo, el número de frases del trabajo y el número de frase actual. El ID del lector se corresponde con la columna ID de la pantalla Lectores.
Los botones de esta fila le permitirán avanzar o retroceder sobre cada frase o parte del trabajo seleccionado en la lista inferior. (No todos los trabajos tienen múltiples partes).
Aquí se muestra la frase que se está leyendo.
Cuando pulse el botón Aceptar, se aplicarán todos los cambios de las pantallas de configuración (si existen) y kttsmgr se minimizará en la bandeja del sistema. Pulse sobre el icono de la bandeja del sistema para restaurar la pantalla.
Arrastre este divisor para redimensionar los paneles con la lista de trabajos y la frase actual.
Si no tiene el subsistema de audio & arts; instalado, pero tiene instalado ALSA, GStreamer o aKode, pulse sobre la pestaña Audio. Consulte.
Solo se controlan y listan en esta pantalla los trabajos de texto. Las lecturas de las salidas de la pantalla, avisos y mensajes no se muestran. Para obtener más información sobre los tipos de mensajes de & ktts;, véa.
Configuración del audio
Cuando pulse sobre la pestaña Audio en kttsmgr aparecerá la ventana Audio.
El administrador texto a voz de & kde; (pestaña Audio).
El administrador texto a voz de & kde; (pestaña Audio)
Aquí se seleccionará el método de salida de audio. Si un componente está en color gris, puede ser que o bien & ktts; fuese compilada sin soporte para esa extensión de audio, o que & ktts; no fue capaz de cargar las bibliotecas necesarias.
Si está seleccionado GStreamer o aKode como salida de audio, seleccione aquí el método de manipulación de audio. Si no hay ningún método listado, necesitará instalar al menos uno. Si está seleccionado ALSA, elija aquí el dispositivo PCM. Véa.
Ajuste la velocidad de habla aquí. 50% es aproximadamente dos veces más lenta de los normal, mientras que 200% es aproximadamente dos veces más rápida. Debe tener instalada la utilidad sox para que esta utilidad funcione.
Cuando esta casilla esté marcada, & ktts; copiará los archivos de audio temporales (archivos. wav) en la carpeta indicada. Seleccione cualquier carpeta de su disco duro que desee, siempre y cuando tenga permisos de escritura en él. Esto puede ser práctico para crear archivos de voz para otros propósitos. Los archivos tendrán nombres con la estructura kttsd-J-SS donde J es el número de trabajo y SS es el número de frase. Cuándo existan archivos con el mismo nombre, éstos, serán borrados. ¡No olvide desmarcar esta casilla, ya que sino su unidad de disco podría llenarse!
Asegúrese de pulsar en Aplicar para aplicar la nueva configuración al sistema & ktts; en ejecución.
Existen dos formas de ajustar la velocidad de la voz en & ktts;. Algunos de los lectores permiten configurar la Velocidad en sus diálogos de configuración, que se pueden mostrar pulsando sobre Editar en la ventana Lectores. La configuración de la Velocidad en la ventana de Audio es adicional a la configuración de velocidad del propio lector y generalmente se utiliza si el lector no soporta la configuración de velocidad. Para que funcione esta configuración de la velocidad debe tener instalada la utilidad sox en su sistema (Para usuarios de Debian: apt-get install sox). Por otra parte, la configuración de velocidad se ignorará cuando el texto leído contenga SSML (Véa).
La lista de los dispositivos ALSA incluye todos los dispositivos ALSA PCM y extensiones configuradas en su sistema. Algunas de las elecciones pueden no funcionar. Deberá experimentar para encontrar un dispositivo que le funcione. En caso de duda, seleccione predeterminado.
Configuración de las interrupciones de texto
Cuando pulse sobre la pestaña Interrupción, en kttsmgr, aparecerá la ventana Interrupción.
El administrador texto a voz de & kde; (pestaña Interrupción).
El administrador texto a voz de & kde; (pestaña Interrupción)
Esta ventana permite especificar acciones especiales en el caso de que se produzca la interrupción de un trabajo de texto por otro mensaje de prioridad superior. Existen cuatro tipos de trabajos que & ktts; puede manejar:
Texto normal.
Mensajes.
La lectura de las salidas de la pantalla tienen la máxima prioridad. Están reservadas para la utilización por parte de aplicaciones que leen la pantalla. La lectura de las salidas de la pantalla detendrá todos los demás mensajes. Una vez que la lectura de la salida de la pantalla ha finalizado, se continuará con los trabajos que se estaba leyendo.
Los avisos son los siguientes en cuanto a prioridad. Están reservados para mensajes de alta prioridad, tales como « La CPU está sobrecalentada ». Un aviso detendrá tanto los mensajes como el texto normal. Una vez que se haya leído el aviso, se continuará con los trabajos que se estaba leyendo.
Los mensajes tienen el siguiente nivel de prioridad. Un mensaje detendrá los trabajos de texto normal. & kmouth; es un ejemplo de una aplicación que utiliza mensajes. Por ejemplo, mientras se está leyendo un texto largo en una página web, & kmouth; puede ser utilizado para saludar a alguien que camina por la habitación.
Cuando se interrumpe un trabajo de texto por un mensaje, aviso o lectura de la salida de la pantalla, & ktts; añadirá las salidas de audio de esta pantalla al flujo.
Se leerá este mensaje mientras que el trabajo de texto normal se interrumpirá.
Este archivo de audio sonará siendo interrumpido el trabajo de texto normal. Si se especifican ambos, el Pre-sonido y el Pre-mensaje, el Pre-sonido sonará antes que el Pre-mensaje.
Este mensaje se leerá tras finalizar el mensaje que lo ha interrumpido.
Este archivo de audio sonará tras finalizar el mensaje que lo ha interrumpido. Sonará el último.
Las configuraciones de esta pantalla se aplican únicamente a los trabajos normales de texto. Los mensajes, avisos y lecturas de las salidas de la pantalla no tienen acciones especiales cuando estás son detenidas por un mensaje con prioridad más alta.
Para permitir que & ktts; lea las notificaciones de texto de KNotify, inicie kttsmgr, pulse sobre la pestaña Notificaciones. Aparecerá la pantalla Notificaciones.
El administrador texto a voz de & kde; (pestaña Notificaciones).
El administrador texto a voz de & kde; (pestaña Notificación)
Marque esta casilla para activar la lectura de las notificaciones de & kde;. Si no está marcada todas las demás opciones de esta pantalla aparecerán desactivadas y & ktts; no leerá ninguna notificación.
Cuando está marcada, cualquier aplicación que envíe un evento con un sonido no se leerá por & ktts;.
Utilice estos botones para añadir o borrar eventos de las aplicaciones de la lista inferior. Cuando pulse el botón Añadir, aparecerá un pantalla en la que podrá seleccionar la aplicación y el evento que desea añadir a la lista.
Este evento leerá los mensajes que & konversation; envía cuando alguien mencione su apodo en un mensaje de IRC.
Para los demás eventos de & konversation;, no se llevará a cabo ninguna acción por parte de & ktts;.
Para todos los demás eventos que no se encuentren especificados en la lista, no se llevará a cabo ninguna acción por parte de & ktts;.
Utilice este cuadro para especificar qué debería hacer & ktts; cuando reciba un evento. Las elecciones son:
Leer el nombre del evento.
Leer el nombre del evento, que podrá ver listado en la lista de eventos en esta pantalla.
Leer el mensaje de notificación.
Leer el mensaje tal y como es enviado por la aplicación.
No leer la notificación.
No leer este evento en absoluto.
Leer un texto personalizado.
Leer el texto que haya introducido en el cuadro de la derecha.
Si la acción es Leer texto personalizado, introduzca aquí el texto del mensaje que desee oír. En el mensaje, podrá utilizar las siguientes cadenas de sustitución:
%e
El nombre del evento.
%a
El nombre de la aplicación que envía el evento.
%m
El mensaje que envía la aplicación.
Para comprobar el mensaje pulse aquí.
Podrá especificar los atributos de los lectores que desee que lean la notificación aquí. default utilizará el lector de la parte superior de la lista de la pantalla Lectores. Véa.
Tenga en cuenta que existen tres niveles de eventos. Si se especifica una acción para un evento especifico de una aplicación específica, se realizará ésta. Si no sucede esto y se especificó una acción para todos los eventos de una aplicación específica, se realizará esta. Si esto tampoco se produce, pero se especificó una acción para todos los eventos de forma predeterminada (todos los demás eventos) se realizará esta.
El evento todas las notificaciones para la aplicación predeterminada (todos los demás eventos) no puede ser borrado de la lista. Podrá especificar los siguientes tipos de notificaciones para la opción predeterminada (todos los demás eventos):
ninguno.
No se leerá ninguno.
diálogo de notificaciones
Las notificaciones que muestran un diálogo en su pantalla, que usted puede descartar, hará que estos se lean.
menús emergentes
Las notificaciones que muestran un diálogo pasivo en su pantalla, harán que desaparezca éste al cabo de un momento, tras ser leídos.
diálogos de notificaciones y menús emergentes
Las notificaciones que se muestran en la pantalla, ya sean pasivas o no, se leerán.
todas las notificaciones
Se leerán todas las notificaciones independientemente de si muestran una pantalla.
Utilice el botón Guardar para guardar las preferencias de su notificación en un archivo. Utilice el botón Cargar para cargar las preferencias guardadas en un archivo. Los eventos cargados se fusionan con los ya existentes en la lista. Si desea comenzar con una lista vacía, pulse primero el botón Borrar. Se borrarán todos los eventos, excepto todas las notificaciones.
SSML
El lenguaje de marcas de síntesis de voz (SSML, del inglés Speech Synthesis Markup Language) es un estándar W3C para el etiquetado del texto que deba tener una salida de voz. Proporciona etiquetas para controlar voces, ratio de palabras, volumen, género y timbre (tono). También proporciona etiquetas para controlar cómo se leen las palabras, por ejemplo, para deletrear abreviaturas. SSML forma parte de las especificaciones de VoiceXML;, que está incluído en el estándar W3C.
En estos momentos, & ktts; proporciona un soporte muy básico y limitado para SSML. Actualmente tiene las siguientes restricciones.
Trabaja únicamente con los lectores Festival Interactive y Hadifix.
Debe instalar la voz rab_diphone (hombre británico), puesto que esta es la voz que Festival utiliza de forma predeterminada cuando lee SSML.
La configuración de la Velocidad en la ventana Audio se ignorará cuando el texto leído contenga SSML.
Cuando en el diálogo de configuración de Festival la Velocidad o el Timbre no estén al 100%, lo usual es que el texto SSML sea leído en monotono.
Se puede utilizar la siguiente muestra de texto para experimentar con SSML.
<! [CDATA[< ?xml version="1.0" encoding="UTF-8"? > < !DOCTYPE speak PUBLIC "-//W3C//DTD SYNTHESIS 1.0//EN" "http://www.w3.org/TR/speech-synthesis/synthesis.dtd" > ¿Quién ha dormido en mi cama?dijo papá oso. ¿Quién ha dormido en mi cama?dijo mamá osa. ¿Quién ha dormido en mi cama?dijo el bebé oso.]] >
Se pretende que para la siguiente versión de & ktts; sea más robusto.
Existen dos tipos de filtros -- filtros normales y filtros detectores de límite de frase (SBD, del inglés Sentence Boundary Detector). Los SBD rompen el texto en frases individuales. Esto permite a & ktts; comenzar a leer rápidamente, ya que únicamente necesita sintetizar la primera frase, no el trabajo de texto completo. Esto permite avanzar o retroceder por las frases en la pestaña de Trabajos, o finalizar o parar el trabajo de texto cuando el sintetizador de voz no soporte directamente la parada durante la lectura.
Cuando un trabajo de texto o un mensaje de notificación de & kde; se envía a & ktts;, pasa a través de cada uno de los filtros disponibles que se han configurado. El orden es de arriba hacia abajo. Después de pasar por los filtros normales que se listan en la parte superior de la pantalla, los trabajos de texto se pasan a los filtros detectores de límite de frase (SBD). (Las notificaciones de & kde;, avisos y mensajes nunca pasan a través de los filtros SBD). A diferencia de los filtros normales, el primer filtro SBD que efectúa los cambios al texto impide cualquier filtrado posterior.
Existen filtros detectores de límites de frase. La primera vez que inicie & ktts;, se configurará de forma automática el detector de límites de frase estándar. Puede cambiar la configuración de este filtro o añadir filtros detectores de límites de frase adicionales, pero se aconseja a los principiantes que no lo cambien.
Este desplegable le permitirá añadir, eliminar, editar o cambiar el orden de los filtros detectores de límites de frase.
Las coincidencias no son sensibles a mayúsculas y minúsculas.
La forma más sencilla de aprender a configurar la selección de lectores es experimentando. Desactive la selección de lector e introduzca un texto. En la pestaña Trabajos, véa qué lector ha elegido & ktts;. Pulse el botón Cambiar lector, introduzca algunos atributos, e intente ver nuevamente como ha afectado la selección. Por supuesto, debe tener más de un lector configurado para que la selección del lector haga su trabajo.
Configurando los filtros detectores de los límites de la frase
Los filtros que detectan los límites de las frases (SBD) dividen el texto en frases individuales. Esto es importante porque
permite a & ktts; comenzar a leer rápidamente porque únicamente necesita sintetizar la primera frase, en lugar del bloque de texto completo, que puede ser muy grande, y
permite retroceder y avanzar por las frases en la pestaña Trabajos, y
permite parar y finalizar el trabajo de texto en la pestaña Trabajos incluso si el sintetizador de voz no es capaz de hacerlo.
Por estas razones, el filtro estándar que permite detectar el límite de la frase se configura automáticamente la primera vez que ejecuta kttsmgr y no puede ser desactivado (no obstante, puede ser eliminado). Le aconsejamos que no modifique este filtro mientras que no sepa qué es lo que está haciendo.
Puede, no obstante, añadir más filtros SBD para resolver algunos problemas. Por ejemplo, con Febrero de 2005, la voz polaca de Festival tiene una característica molesta que es la de leer la puntuación de las frases. Por ejemplo leerá los puntos al final de cada frase, por ejemplo. No podrá resolver este problema creando un filtro de sustitución de cadena para eliminar la puntuación de la frase, puesto que impediría que el SBD estándar reconociera las frases. Sin embargo, podrá crear una versión modificada del SBD estándar que reconozca las frases a la vez que elimine la puntuación de las frases. Para hacer ésto, añada un filtro y utilice el botón Cargar para cargar el archivo polish_festival_sbdrc que incorpora & ktts;.
Los filtros SBD trabajan encontrando una expresión regular de fin-de-frase e insertando caracteres de tabulación (8 decimal) en los límites de la frase. (Todos los caracteres de tabulación se eliminarán del texto antes de comenzar el filtrado). Tenga en cuenta que el SBD estándar mantiene la puntuación de la frase.
Los filtros SBD nunca se aplican a los mensajes de notificación de & kde; (knotify), avisos, mensajes, o salidas de lectura de pantalla.
Si accidentalmente elimina el filtro estándar que detecta el límite de la frase, puede dar marcha atrás cargando el archivo standard_sbdrc, que viene con & ktts;.
Seleccionar lector (Avanzada)
Puede configurar cualquier número de lectores en la pestaña Lectores. Véa. Cuando las aplicaciones envían texto a & ktts;, podrán especificar los atributos del lector que desee que lea el texto. & ktts; elegirá el lector más cercano de los que haya configurado para satisfacer la petición. Por ejemplo, una aplicación puede pedir que el texto sea leído por una voz femenina inglesa. Si ha configurado un lector con voz femenina inglesa, ésta será la que se utilice. Si una aplicación no especifica atributos, se utilizarán los lectores predeterminados (los de la parte superior) que aparecen en la pestaña Lectores.
Cuando una aplicación especifica los atributos del lector deseado, ello puede indicar que atributos son más « importantes ». Por ejemplo, una aplicación puede especificar que prefiere una voz alta femenina para leer el texto, de forma que el atributo alto sea más « importante » que el atributo femenina. Si tiene configurados un lector con voz femenina suave y otro con voz masculina fuerte, & ktts; elegirá el lector con voz alta masculina. Puesto que el idioma es un parámetro crítico para hacer la lectura inteligible, siempre será un atributo « importante ».
Utilizando la pantalla del Selector de lector, puede anular las preferencias de lector de la aplicación. Se mostrará la pantalla
cuando pulse el botón Cambiar lector, en la pestaña Trabajos, o
cuando pulse el botón Lector, en el diálogo Configuración de filtro para un filtro selector de lector, o
cuando pulse el botón Lector, en la pestaña Notificaciones.
Selector de lector
Selector de lector
La pantalla ofrece tres métodos para especificar los atributos deseados del lector:
Utilizar el lector predeterminado (el de la parte superior de la pestaña Lectores). En otras palabras, no especificar los atributos del lector.
Utilizar el lector más parecido de acuerdo con uno o más atributos especificados.
Utilizar el lector más parecido que tenga todos atributos de un lector configurado. Sino borra o modifica las preferencias del lector, & ktts; elegirá el lector especificado. Si borra o modifica las preferencias del lector, & ktts; elegirá el lector con los atributos más parecido al lector original.
Elija el método para introducir los atributos del lector deseado pulsando uno de estos botones de radio.
Seleccione aquí los atributos del lector deseado. Deje un atributo en blanco si no desea prestar atención a este atributo.
Marque esta casilla si desea establecer un atributo como « importante » sobre otros atributos. Podrá marcar más de una casilla.
Puesto que el idioma es un factor crítico a la hora de entender el texto leído, siempre será un atributo importante. Es poco frecuente que utilice este atributo. Solo debería especificar el atributo idioma cuando sepa que una aplicación envía texto en un idioma diferente del de su escritorio.
Esta es una lista de los lectores que tiene configurados en & ktts;. Seleccionando uno, en efecto, estará especificando todos los atributos de este lector. Si este lector está configurado cuando se envía texto, obtendrá una coincidencia exacta y se elegirá este lector. Sin embargo, si borra el lector, o modifica sus preferencias, no será seleccionado nuevamente. Se elegirá el lector con los atributos que más se parezcan a los originales.
El atributo Idioma es especial puesto que el texto probablemente será ininteligible si es leído por un lector que hable un idioma diferente al del texto. Por ello, el idioma es un atributo « importante ». Si especifica un idioma, éste anulará el idioma seleccionado, pero si lo deja en blanco, se utilizará el idioma existente. Si la aplicación que envía texto a & ktts; no especifica un idioma, & ktts; asignará el lector más parecido que haya configurado en la pestaña Lectores. En otras palabras, si deja el atributo Ratio vacío, se encontrará el lector más parecido sin tener en cuenta el ratio de voz.
Para borrar todos los atributos en la sección Utilizar el lector más parecido, primero pulse el botón de radio Utilizar el lector predeterminado, y a continuación pulse el botón de radio Utilizar el lector más parecido.
Para leer el último trabajo de texto puesto en la cola:
dcop kttsd KSpeech startText 0
En este caso, 0 se refiere al último trabajo de texto que se ha colocado en la cola. También puede especificar un número de trabajo. (Si no se da un número de trabajo, se precisa un 0).
Para detener la lectura del trabajo de texto en curso:
dcop kttsd KSpeech stopText 0
Dependiendo de la extensión de voz utilizada, la lectura puede no ser detenida inmediatamente.
kttsmgr se cuelga nada más iniciarse. Lo he compilado con soporte de depuración y no he podido ver el rastro.
GStreamer se ha colgado al trabajar con él & ktts;. Podría tener que « registrar » GStreamer. Para GStreamer 0.8x, la orden es gst-register-0.8. Si esto no resuelve el problema, podría tener instalada una versión incompatible de GStreamer. Debería intentar desinstalar GStreamer.
La salida de audio ALSA no funciona si estoy escuchando música en otra aplicación al mismo tiempo. Cuando paro un trabajo de texto, & ktts; se congela. En la salida de & konsole; consola aparece el aviso « imposible abrir PCM ».
Tiene un problema con el dispositivo ALSA, que se puede evitar abriendo más de un dispositivo PCM a la vez. Vea el sitio web de ALSA (dmix) para obtener posibles soluciones: www. alsa-project. org.
Tengo más voces para Festival que he descargado desde Internet. Las he instalado, y las he podido utilizar con Festival, pero no consigo que las véa kttsmgr.
Edite el archivo $KDEHOME/ share/ apps/ kttsd/ festivalint/ voices para añadir voces nuevas. Se pueden utilizar las otras entradas como una guía. Si añade una voz correctamente, por favor, envíe un parche a los desarrolladores con la & URL; a partir de la cual obtuvo el archivo de voz.
& ktts; lee muy despacio. ¿Cómo puedo acelerarlo?
Se puede configurar la Velocidad en la pestaña Audio. Para este trabajo, deberá tener instalada la utilidad sox y accesible a través de su variable de entorno PATH. Algunas extensiones de síntesis, como Festival Interactivo también proporcionan la configuración de la Velocidad en el diálogo de configuración del lector. Dependiendo de la voz utilizada, puede aparecer activado o desactivado.
De acuerdo, esto funciona en algunos casos, pero las páginas web se leen muy despacio.
Las configuraciones de velocidad se ignoran cuando & ktts; lee & HTML;. (Esto se debe a que & HTML; se convierte a SSML, que tiene sus propias etiquetas de « velocidad »). Podrá desactivar el filtro conversor de & HTML; & XML; (véa), o si se atreve a ello, editar el archivo. xsl del filtro conversor de & HTML; a SSML e incrementar la velocidad predeterminada.
No consigo que las páginas web se lean con voz de mujer. Tengo una voz de mujer configurada en el lector Festival, pero & ktts; siempre lee las páginas web con voz de hombre.
En Festival 1.95 beta, la etiqueta SABLE GENDER parece no funcionar. Para evitar que Festival produzca errores, el archivo SSML SABLE. xsl ignora las etiquetas de género. Lo mismo se aplica a las etiquetas de voz.
He añadido un filtro para reemplazar cadenas propio y ahora & ktts; no permite avanzar o retroceder entre las frases. En la pestaña Trabajos, cada trabajo aparece con una sola frase. ¿Qué es incorrecto?
No debería filtrar las signos de puntuación (punto, signo de interrogación, signo de exclamación, coma y punto y coma) de la frase para eliminarlos. Para estos caracteres, utilice un filtro detector de límites de frase.
Festival Lite (flite)
Inglés
Hadifix (mbrola; y txt2pho)
Alemán, húngaro
Epos
Checo, eslovaco
FreeTTS
Al menos uno de los siguientes subsistemas de audio:
Sistema de sonido & arts; de & kde;. & arts; se suele instalar con & kde;.
ALSA (Advanced & Linux; Sound Architecture - Arquitectura de Sonido Avanzada de & Linux;). ALSA se instala en la mayor parte de los sistemas & Linux; (www. alsa-project. org).
GStreamer versión 0.8.7 o superior. Nota: Asegúrese de registrar sus extensiones GStreamer ejecutando la orden gst-register antes de utilizar GStreamer en & ktts; (http: / /gstreamer. freedesktop. org).
Biblioteca aKode. aKode es una biblioteca de decodificación que forma parte de & kde;.
El proyecto & kde; planea deshacerse de & arts; comenzando en la versión 4.
Algunos usuarios han tenido problemas en los dispositivos con ALSA. Si su sistema presenta este problema, no será capaz de de reproducir música mientras el sistema esté leyendo. & ktts; puede incluso colgarse si para un trabajo de texto e inicia otro. Vea el sitio web de ALSA (dmix) para conseguir posibles soluciones.
Como en Julio de 2005, aKode no tiene soporte real de parada. Cuando para un trabajo de texto en & ktts; finalizará de leer la frase actual.
La utilidad de audio sox se necesita para ajustar de forma global la velocidad, pero no es imprescindible. Los usuarios de Debian pueden instalar sox con la orden apt-get install sox. Sox se incluye en la mayor parte de los CDs de las distribuciones & Linux;.
Si descarga & ktts; como un archivo comprimido, entre como un usuario normal, cámbiese a la carpeta en que desee descomprimir el archivo, e introduzca las siguientes órdenes:
. / configure make
Están disponibles las siguientes opciones para configure:
Opción predeterminada
Descripción
Alternativa
--with-arts
Genera la extensión de audio arts.
--without-arts
--with-alsa=check
Genera la extensión de audio ALSA.
--with-alsa=no
--with-gstreamer=no
No genera la extensión de audio GStreamer.
--with-gstreamer=check
--with-akode=no
No genera la extensión de audio aKode.
--with-akode=check
En & kde; 4, la extensión & arts; probablemente se eliminará o al menos no se generará de forma predeterminada.
La siguiente extensión de síntesis de voz no se construye de forma predeterminada. Algunas de ellas solo se cargan en tiempo de ejecución sobre software no libre (no libre de acuerdo a la política de Debian). La columna « Configurar la opción que no se va a generar » muestran la orden de configuración para no generar la extensión:
Sintetizador
Licencia
Configurar la opción que no se va a generar
libre
--disable-kttsd-festivalint
Festival Lite
--disable-kttsd-flite
--disable-kttsd-epos
Orden
--disable-kttsd-command
Hadifix
no-libre
--disable-kttsd-hadifix
--disable-kttsd-freetts
De forma predeterminada las órdenes anteriores instalarán & ktts; en / opt/ kde3. Si esta carpeta no está en su ruta $KDEDIRS, necesitará añadir una opción --prefix= destino. Por ejemplo:
. / configure --prefix=/ usr/ local make
En sistemas Debian el lugar habitual para instalar las aplicaciones compiladas a partir del código fuente es / usr/ local.
Entre como administrador e instale & ktts; compilado utilizando las siguientes órdenes:
su make install
cd kdeaccessibility echo kttsd > inst-apps make -f Makefile. cvs. / configure cd kttsd make su make install
Asegúrese de que su motor de síntesis de voz esté funcionando antes de utilizar & ktts;. Siga las instrucciones que vienen con cada motor.
En algunos casos, podrá necesitar garantizar el acceso de escritura al dispositivo de audio:
chmod a+rw / dev/ dsp*
Utilización con Festival (Interactivo)
Festival es uno de los mejores motores TTS de código abierto libre disponibles. La calidad de voz es, en general, buena y soporta varios idiomas y tipos de voz. Para algunas voces, podrá controlar el volumen, la velocidad de las voces generadas y el timbre (tono) de & ktts;.
Nombre del sintetizador: Festival Interactivo.
& URL;: http: / /www. cstr. ed. ac. uk/ projects/ festival/
Orden de instalación en Debian: apt-get install festival
Deberá instalar al menos un idioma. Siga las instrucciones que vienen con Festival. Si desea leer páginas web, deberá instalar la voz rab_diphone (hombre británico).
Existen más voces inglesas disponibles para festival en:
http: / /hts. ics. nitech. ac. jp/.
Existen más voces españolas, inglesas y alemanas disponibles en:
http: / /cslu. cse. ogi. edu/ tts/ download/
Debe compilar un módulo adicional para estas voces, por tanto, debe tener el código fuente de Festival. Las voces alemanas tienen una distribución limitada.
Una voz de hombre finesa está disponible en:
http: / /www. ling. helsinki. fi/ suopuhe/ download/.
Una voz de hombre polaca está disponible en:
http: / /www. artegence. com/ download/ voicexml/ speech/ festival_polish_voice. tgz.
Una voz de hombre rusa está disponible en:
http: / /nshmyrev. narod. ru/ festival/ festival. html
Deberá tener Festival 1.95 beta o posterior para utilizar esta voz. La voz está todavía en un desarrollo temprano. Descomprímala en festival/ lib/ voices/ russian/. Cuando configure el lector ruso, el código de voz será msu_ru_nsh_diphone. Asegúrese de seleccionar una codificación cirílica de 8-bit, como KOI8-R.
Las voces italianas de Festival 1.95 beta se encuentran disponibles en
http: / /www. csrf. pd. cnr. it/ TTS/ It-FESTIVAL-download. htm.
Si obtiene un error de CRC al descomprimir el archivo zip, intente descargarlo de nuevo.
Las voces kishahili, zulú e ibibia para Festival 1.95 beta se encuentran disponibles en
http: / /www. llsti. org/.
Desafortunadamente, la voz hindi que también está disponible no funciona con & ktts;.
Se pueden comprar voces comerciales, incluída la voz franco canadiense en Cepstral, LLC en
http: / /www. cepstral. com/
La página de soporte de las PFs contiene información sobre el uso de estas voces en Festival.
Festival se incluye de forma habitual en las distribuciones & Linux;. Verifique si ésta incluído en los CDs de su distribución.
Cuando utilice los idiomas polaco, húngaro o checo, asegúrese de que la opción de Codificación sea ISO 8859-2.
Cuando utilice la voz rusa, asegúrese de que la opción de Codificación sea de tipo cirílico de 8-bit, como KOI8-R.
Utilizar Festival conmbrola;
Festival se puede utilizar en combinación con el sintetizador & mbrola;. En este modo, Festival hace el análisis léxico y & mbrola; genera el audio. El binario de & mbrola; y los archivos de voz de & mbrola; se pueden descargar desde:
http: / /festvox. org/ mbrola/.
Siga las instrucciones del archivo readme. txt que que descargado.
Tenga en cuenta que & mbrola; no es un sistema completo de texto a voz. & mbrola; sintetiza voz a partir de archivos de fonemas. Existen programas adicionales que pueden generar los fonemas. Cuando se combina con Festival, Festival produce los fonemas que necesita & mbrola;. txt2pho se puede utilizar para producir archivos de fonemas a partir del texto en alemán. Véa para obtener más información.
Existen tres formas de combinar Festival con & mbrola;.
Envoltorio & mbrola;. En el momento de escribir este manual, este método está limitado a voces inglesas.
Festival IMS alemán.
Festival-Checo.
Utilizar Festival con un envoltorio & mbrola;
En este método, se añade código adicional a Festival para conseguir que éste realice la síntesis de voz utilizando archivos de voz & mbrola;. Tenga en cuenta que los archivos de voz & mbrola; no están instalados en el árbol de carpetas de & mbrola;. No obstante, estos están instalados en el árbol de carpetas festival/ lib. Para obtener instrucciones véa:
http: / /www. cstr. ed. ac. uk/ projects/ festival/ mbrola. html
Utilizar Festival IMS alemán
Festival IMS alemán es una versión modificada de Festival que utiliza voces alemanas de & mbrola;. Funciona con las versiones 1.4.1 y 2.0 (1.95beta) de Festival. En primer lugar instale Festival y & mbrola; si es que todavía no lo ha hecho. A continuación descargue Festival IMS alemán, de:
http: / /www. ims. uni-stuttgart. de/ phonetik/ synthesis/ festival_opensource. html.
Siga las instrucciones que figuran en el archivo README que ha descargado. (Tenga en cuenta, que si lo usa en combinación con Festival 2.0, no será necesario aplicar parches, pero deberá reconstruir festival). Finalmente, añada las siguientes líneas al archivo festival/ lib/ siteinit. scm.
(voice-location "german_de1_os" "/ usr/ local/ mbrola/ de1" "Mujer alemana, IMS Festival de1") (voice-location "german_de2_os" "/ usr/ local/ mbrola/ de2" "Hombre alemán, IMS Festival de2") (voice-location "german_de3_os" "/ usr/ local/ mbrola/ de3" "Mujer alemana, IMS Festival de3")
justo encima de estas líneas se puede leer:
(provide 'siteinit)
En algunos sistemas, el archivo a editar será / etc/ festival. scm. Añada únicamente las líneas que se correspondan con las voces alemanas que haya instalado. Cambie / usr/ local/ mbrola/ por la ruta correcta. Debe tener en cuenta también (en el momento de escribir esto) que Festival IMS alemán no funciona con las voces alemanas de4, de5 o de6.
Utilizar Festival-Checo
Este método utiliza un código especial para activar la síntesis de voz utilizando Festival con una voz checa en & mbrola;. Para instalarlo, en primer lugar descargue e instale Festival y & mbrola;, y asegúrese de que ambos funcionan. A continuación descargue Festival-Checo desde
http: / /www. freebsoft. org/ festival-czech
En los siguientes procedimientos sustituya las rutas de las carpetas por las correctas si fuera necesario.
Descomprima la descarga en una carpeta y cree el léxico. El ejecutable de Festival debería estar en su variable de entorno PATH.
cd / usr/ local tar xvfz festival-czech. tar. gz cd festival-czech make
Descargue el archivo de voz cz2 del sitio web de & mbrola;, y descomprímalo en la carpeta de & mbrola;:
cd / usr/ local/ mbrola mkdir cz2 cd cz2 unzip cz2-001009. zip
Añada las siguientes líneas al archivo festival/ lib/ siteinit. scm:
(set! czech-lexicon-file "/ usr/ local/ festival-czech/ czech-lexicon. out") (set! load-path (cons "/ usr/ local/ festival-czech" load-path)) (require 'czech) (set! czech-mbrola_database "/ usr/ local/ mbrola/ cz2/ cz2") (set! mbrola_progname "/ usr/ local/ mbrola/ mbrola") (voice-location "czech_mbrola_cz2" "/ usr/ local/ mbrola/ cz2" "Hombre checo, MBROLA") (require 'czech-mbrola)
En algunos sistemas, el archivo a editar será / etc/ festival. scm.
Utilizar con Festival Lite (flite)
Festival Lite es un motor libre de código abierto que en estos momentos soporta un número limitado de voces y de idiomas. Es ligero, pero para ello sacrifica la calidad. No podrá controlar el timbre, el volumen o la velocidad de este motor desde & ktts;.
Nombre del sintetizador: Festival Lite (flite).
& URL;: http: / /www. speech. cs. cmu. edu/ flite/ index. html
Orden de instalación en Debian: apt-get install flite
flite se incluye de forma habitual con las distribuciones & Linux;. Verifique si su distribución lo incluye en los CDs.
Construya e instale flite siguiendo las instrucciones del archivo README que viene con él.
Utilizar con Hadifix (mbrola; y txt2pho)
Hadifix es un motor de síntesis de dos pasos basado en fonemas. La utilidad txt2pho convierte el texto en fonemas y el motor & mbrola; sintetiza los fonemas en sonidos. La calidad de la voz es buena, pero el soporte de idioma está en estos momentos algo limitado. Puede controlar la voz, el timbre, la velocidad y el volumen desde kttsmgr.
Nombre del sintetizador: Hadifix.
& URL;: ver debajo.
Orden de instalación en Debian: ninguna.
Si no ha instalado Hadifix todavía, haga lo siguiente:
Descargar el binario de & mbrola; desde http: / /festvox. org/ mbrola/.
Instale & mbrola; en la carpeta / usr/ local/ mbrola.
Descargue al menos un archivo de idioma alemán desde el sitio de & mbrola;. Descomprímalo en la carpeta / usr/ local/ mbrola.
Descargue txt2pho desde:
http: / /www. ikp. uni-bonn. de/ dt/ forsch/ phonetik/ hadifix/ HADIFIXforMBROLA. html.
Descomprima txt2pho en / usr/ local/ txt2pho.
Edite el archivo txt2phorc, cambiando las rutas por las correctas.
Copie txt2phorc a ~/. txt2phorc o a / etc/ txt2pho. Tenga en cuenta que se ha eliminado el « rc » del nombre del archivo.
En kttsmgr, seleccione el idioma alemán (de), y añada Hadifix.
En la ventana Configurar lector, configure una voz y las rutas a & mbrola; y txt2pho.
Pulse sobre el botón Test para hacer una verificación.
Existe una implementación del húngaro para & mbrola; y txt2pho disponible en
http: / /tkltrans. sourceforge. net/.
Utilizar con Epos
Epos es un motor libre de código abierto para checo y eslovaco. Es ligero, pero sacrifica la calidad de la voz. No podrá controlar el volumen de este motor desde & ktts;.
Nombre del sintetizador: Sistema de síntesis Epos TTS.
& URL;: http: / /epos. ure. cas. cz/
Orden de instalación en Debian: apt-get install epos
Inicie kttsmgr. En la pestaña Lectores, pulse sobre el botón Añadir. Elija los idiomas checo o eslovaco y Sistema de síntesis Epos TTS. Si el servidor ejecutable y el cliente no están en su variable de entorno PATH, especifique las rutas hacia estos ejecutables en la ventana Configurar lectores. Los cuadros de estas opciones le permiten pasar parámetros adicionales al servidor y al cliente. En konsole;, teclee epos -h o say -h para obtener más información.
Utilizar con FreeTTS
FreeTTs es un motor libre de síntesis de voz de código abierto escrito en & Java;, lo que significa que debe tener instalado en su sistema el software de la máquina virtual de & Java; para poder utilizarlo. No podrá controlar el timbre, el volumen o la velocidad de este motor desde & ktts;.
Nombre del sintetizador: FreeTTS.
& URL;: http: / /sourceforge. net/ projects/ freetts/
Utilizar la extensión Command
La extensión Command le permitirá utilizar & ktts; con cualquier motor de síntesis de voz que pueda ser ejecutado como una orden en & konsole; Konsola.
Nombre del sintetizador: Command.
& URL;: ninguna.
De forma ideal, debería utilizar una orden que sintetizara en un archivo de audio (wav) temporal, en lugar de enviar la voz directamente al dispositivo de audio.
Si el motor de síntesis de voz necesita texto para ser codificado de forma diferente a las establecidas en las preferencias de escritorio, utilice el parámetro %f para pasar el texto al motor. & ktts; codificará el texto de acuerdo a las especificaciones que se le indiquen y creará el archivo temporal. Si intenta pasar texto en la línea de órdenes utilizando el parámetro %t, se codificará utilizando la configuración local. También puede utilizar la opción Enviar datos como una entrada estándar para resolver este problema, si el motor acepta entradas desde StdIn. Por ejemplo, aquí vemos un orden que muestra cómo enviar texto polaco a Festival utilizando la codificación ISO 8859-2 y eliminando los caracteres de puntuación que no se pueden leer.
cat %f | tr '(){}[] "'' '| festival --tts --language polish